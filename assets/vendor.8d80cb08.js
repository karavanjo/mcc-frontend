var j_=Object.defineProperty,b_=Object.defineProperties;var G_=Object.getOwnPropertyDescriptors;var Ca=Object.getOwnPropertySymbols;var vh=Object.prototype.hasOwnProperty,gh=Object.prototype.propertyIsEnumerable;var yh=(n,t,e)=>t in n?j_(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Ft=(n,t)=>{for(var e in t||(t={}))vh.call(t,e)&&yh(n,e,t[e]);if(Ca)for(var e of Ca(t))gh.call(t,e)&&yh(n,e,t[e]);return n},Ge=(n,t)=>b_(n,G_(t));var Dl=(n,t)=>{var e={};for(var r in n)vh.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&Ca)for(var r of Ca(n))t.indexOf(r)<0&&gh.call(n,r)&&(e[r]=n[r]);return e};var Ia={exports:{}},st={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var _h=Object.getOwnPropertySymbols,$_=Object.prototype.hasOwnProperty,z_=Object.prototype.propertyIsEnumerable;function W_(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function V_(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;var r=Object.getOwnPropertyNames(t).map(function(o){return t[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var mh=V_()?Object.assign:function(n,t){for(var e,r=W_(n),i,o=1;o<arguments.length;o++){e=Object(arguments[o]);for(var a in e)$_.call(e,a)&&(r[a]=e[a]);if(_h){i=_h(e);for(var s=0;s<i.length;s++)z_.call(e,i[s])&&(r[i[s]]=e[i[s]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fl=mh,jr=60103,Eh=60106;st.Fragment=60107;st.StrictMode=60108;st.Profiler=60114;var wh=60109,xh=60110,Th=60112;st.Suspense=60113;var Sh=60115,Oh=60116;if(typeof Symbol=="function"&&Symbol.for){var Ae=Symbol.for;jr=Ae("react.element"),Eh=Ae("react.portal"),st.Fragment=Ae("react.fragment"),st.StrictMode=Ae("react.strict_mode"),st.Profiler=Ae("react.profiler"),wh=Ae("react.provider"),xh=Ae("react.context"),Th=Ae("react.forward_ref"),st.Suspense=Ae("react.suspense"),Sh=Ae("react.memo"),Oh=Ae("react.lazy")}var Ch=typeof Symbol=="function"&&Symbol.iterator;function Y_(n){return n===null||typeof n!="object"?null:(n=Ch&&n[Ch]||n["@@iterator"],typeof n=="function"?n:null)}function qi(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ih={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rh={};function br(n,t,e){this.props=n,this.context=t,this.refs=Rh,this.updater=e||Ih}br.prototype.isReactComponent={};br.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error(qi(85));this.updater.enqueueSetState(this,n,t,"setState")};br.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Ah(){}Ah.prototype=br.prototype;function kl(n,t,e){this.props=n,this.context=t,this.refs=Rh,this.updater=e||Ih}var Ul=kl.prototype=new Ah;Ul.constructor=kl;Fl(Ul,br.prototype);Ul.isPureReactComponent=!0;var Bl={current:null},Ph=Object.prototype.hasOwnProperty,Lh={key:!0,ref:!0,__self:!0,__source:!0};function Nh(n,t,e){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Ph.call(t,r)&&!Lh.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=e;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(n&&n.defaultProps)for(r in s=n.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:jr,type:n,key:o,ref:a,props:i,_owner:Bl.current}}function X_(n,t){return{$$typeof:jr,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function jl(n){return typeof n=="object"&&n!==null&&n.$$typeof===jr}function H_(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(e){return t[e]})}var Mh=/\/+/g;function bl(n,t){return typeof n=="object"&&n!==null&&n.key!=null?H_(""+n.key):t.toString(36)}function Ra(n,t,e,r,i){var o=typeof n;(o==="undefined"||o==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case jr:case Eh:a=!0}}if(a)return a=n,i=i(a),n=r===""?"."+bl(a,0):r,Array.isArray(i)?(e="",n!=null&&(e=n.replace(Mh,"$&/")+"/"),Ra(i,t,e,"",function(u){return u})):i!=null&&(jl(i)&&(i=X_(i,e+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Mh,"$&/")+"/")+n)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Array.isArray(n))for(var s=0;s<n.length;s++){o=n[s];var l=r+bl(o,s);a+=Ra(o,t,e,l,i)}else if(l=Y_(n),typeof l=="function")for(n=l.call(n),s=0;!(o=n.next()).done;)o=o.value,l=r+bl(o,s++),a+=Ra(o,t,e,l,i);else if(o==="object")throw t=""+n,Error(qi(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t));return a}function Aa(n,t,e){if(n==null)return n;var r=[],i=0;return Ra(n,r,"","",function(o){return t.call(e,o,i++)}),r}function Z_(n){if(n._status===-1){var t=n._result;t=t(),n._status=0,n._result=t,t.then(function(e){n._status===0&&(e=e.default,n._status=1,n._result=e)},function(e){n._status===0&&(n._status=2,n._result=e)})}if(n._status===1)return n._result;throw n._result}var Dh={current:null};function rn(){var n=Dh.current;if(n===null)throw Error(qi(321));return n}var K_={ReactCurrentDispatcher:Dh,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Bl,IsSomeRendererActing:{current:!1},assign:Fl};st.Children={map:Aa,forEach:function(n,t,e){Aa(n,function(){t.apply(this,arguments)},e)},count:function(n){var t=0;return Aa(n,function(){t++}),t},toArray:function(n){return Aa(n,function(t){return t})||[]},only:function(n){if(!jl(n))throw Error(qi(143));return n}};st.Component=br;st.PureComponent=kl;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K_;st.cloneElement=function(n,t,e){if(n==null)throw Error(qi(267,n));var r=Fl({},n.props),i=n.key,o=n.ref,a=n._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Bl.current),t.key!==void 0&&(i=""+t.key),n.type&&n.type.defaultProps)var s=n.type.defaultProps;for(l in t)Ph.call(t,l)&&!Lh.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=e;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:jr,type:n.type,key:i,ref:o,props:r,_owner:a}};st.createContext=function(n,t){return t===void 0&&(t=null),n={$$typeof:xh,_calculateChangedBits:t,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider={$$typeof:wh,_context:n},n.Consumer=n};st.createElement=Nh;st.createFactory=function(n){var t=Nh.bind(null,n);return t.type=n,t};st.createRef=function(){return{current:null}};st.forwardRef=function(n){return{$$typeof:Th,render:n}};st.isValidElement=jl;st.lazy=function(n){return{$$typeof:Oh,_payload:{_status:-1,_result:n},_init:Z_}};st.memo=function(n,t){return{$$typeof:Sh,type:n,compare:t===void 0?null:t}};st.useCallback=function(n,t){return rn().useCallback(n,t)};st.useContext=function(n,t){return rn().useContext(n,t)};st.useDebugValue=function(){};st.useEffect=function(n,t){return rn().useEffect(n,t)};st.useImperativeHandle=function(n,t,e){return rn().useImperativeHandle(n,t,e)};st.useLayoutEffect=function(n,t){return rn().useLayoutEffect(n,t)};st.useMemo=function(n,t){return rn().useMemo(n,t)};st.useReducer=function(n,t,e){return rn().useReducer(n,t,e)};st.useRef=function(n){return rn().useRef(n)};st.useState=function(n){return rn().useState(n)};st.version="17.0.2";Ia.exports=st;var AI=Ia.exports,Fh={exports:{}},ve={},kh={exports:{}},Uh={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){var t,e,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();n.unstable_now=function(){return a.now()-s}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var l=null,u=null,f=function(){if(l!==null)try{var N=n.unstable_now();l(!0,N),l=null}catch(R){throw setTimeout(f,0),R}};t=function(N){l!==null?setTimeout(t,0,N):(l=N,setTimeout(f,0))},e=function(N,R){u=setTimeout(N,R)},r=function(){clearTimeout(u)},n.unstable_shouldYield=function(){return!1},i=n.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,c=window.clearTimeout;if(typeof console!="undefined"){var v=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof v!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,T=null,_=-1,y=5,m=0;n.unstable_shouldYield=function(){return n.unstable_now()>=m},i=function(){},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<N?Math.floor(1e3/N):5};var x=new MessageChannel,E=x.port2;x.port1.onmessage=function(){if(T!==null){var N=n.unstable_now();m=N+y;try{T(!0,N)?E.postMessage(null):(g=!1,T=null)}catch(R){throw E.postMessage(null),R}}else g=!1},t=function(N){T=N,g||(g=!0,E.postMessage(null))},e=function(N,R){_=h(function(){N(n.unstable_now())},R)},r=function(){c(_),_=-1}}function C(N,R){var X=N.length;N.push(R);t:for(;;){var W=X-1>>>1,rt=N[W];if(rt!==void 0&&0<L(rt,R))N[W]=R,N[X]=rt,X=W;else break t}}function I(N){return N=N[0],N===void 0?null:N}function A(N){var R=N[0];if(R!==void 0){var X=N.pop();if(X!==R){N[0]=X;t:for(var W=0,rt=N.length;W<rt;){var xt=2*(W+1)-1,gt=N[xt],St=xt+1,Ot=N[St];if(gt!==void 0&&0>L(gt,X))Ot!==void 0&&0>L(Ot,gt)?(N[W]=Ot,N[St]=X,W=St):(N[W]=gt,N[xt]=X,W=xt);else if(Ot!==void 0&&0>L(Ot,X))N[W]=Ot,N[St]=X,W=St;else break t}}return R}return null}function L(N,R){var X=N.sortIndex-R.sortIndex;return X!==0?X:N.id-R.id}var P=[],U=[],$=1,B=null,b=3,K=!1,V=!1,Y=!1;function k(N){for(var R=I(U);R!==null;){if(R.callback===null)A(U);else if(R.startTime<=N)A(U),R.sortIndex=R.expirationTime,C(P,R);else break;R=I(U)}}function J(N){if(Y=!1,k(N),!V)if(I(P)!==null)V=!0,t(j);else{var R=I(U);R!==null&&e(J,R.startTime-N)}}function j(N,R){V=!1,Y&&(Y=!1,r()),K=!0;var X=b;try{for(k(R),B=I(P);B!==null&&(!(B.expirationTime>R)||N&&!n.unstable_shouldYield());){var W=B.callback;if(typeof W=="function"){B.callback=null,b=B.priorityLevel;var rt=W(B.expirationTime<=R);R=n.unstable_now(),typeof rt=="function"?B.callback=rt:B===I(P)&&A(P),k(R)}else A(P);B=I(P)}if(B!==null)var xt=!0;else{var gt=I(U);gt!==null&&e(J,gt.startTime-R),xt=!1}return xt}finally{B=null,b=X,K=!1}}var G=i;n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){V||K||(V=!0,t(j))},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return I(P)},n.unstable_next=function(N){switch(b){case 1:case 2:case 3:var R=3;break;default:R=b}var X=b;b=R;try{return N()}finally{b=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=G,n.unstable_runWithPriority=function(N,R){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var X=b;b=N;try{return R()}finally{b=X}},n.unstable_scheduleCallback=function(N,R,X){var W=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?W+X:W):X=W,N){case 1:var rt=-1;break;case 2:rt=250;break;case 5:rt=1073741823;break;case 4:rt=1e4;break;default:rt=5e3}return rt=X+rt,N={id:$++,callback:R,priorityLevel:N,startTime:X,expirationTime:rt,sortIndex:-1},X>W?(N.sortIndex=X,C(U,N),I(P)===null&&N===I(U)&&(Y?r():Y=!0,e(J,X-W))):(N.sortIndex=rt,C(P,N),V||K||(V=!0,t(j))),N},n.unstable_wrapCallback=function(N){var R=b;return function(){var X=b;b=R;try{return N.apply(this,arguments)}finally{b=X}}}})(Uh);kh.exports=Uh;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pa=Ia.exports,Et=mh,kt=kh.exports;function F(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Pa)throw Error(F(227));var Bh=new Set,Qi={};function er(n,t){Gr(n,t),Gr(n+"Capture",t)}function Gr(n,t){for(Qi[n]=t,n=0;n<t.length;n++)Bh.add(t[n])}var on=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),J_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jh=Object.prototype.hasOwnProperty,bh={},Gh={};function q_(n){return jh.call(Gh,n)?!0:jh.call(bh,n)?!1:J_.test(n)?Gh[n]=!0:(bh[n]=!0,!1)}function Q_(n,t,e,r){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:e!==null?!e.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function t0(n,t,e,r){if(t===null||typeof t=="undefined"||Q_(n,t,e,r))return!0;if(r)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qt(n,t,e,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=e,this.propertyName=n,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){jt[n]=new qt(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];jt[t]=new qt(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){jt[n]=new qt(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){jt[n]=new qt(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){jt[n]=new qt(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){jt[n]=new qt(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){jt[n]=new qt(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){jt[n]=new qt(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){jt[n]=new qt(n,5,!1,n.toLowerCase(),null,!1,!1)});var Gl=/[\-:]([a-z])/g;function $l(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(Gl,$l);jt[t]=new qt(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(Gl,$l);jt[t]=new qt(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(Gl,$l);jt[t]=new qt(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){jt[n]=new qt(n,1,!1,n.toLowerCase(),null,!1,!1)});jt.xlinkHref=new qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){jt[n]=new qt(n,1,!1,n.toLowerCase(),null,!0,!0)});function zl(n,t,e,r){var i=jt.hasOwnProperty(t)?jt[t]:null,o=i!==null?i.type===0:r?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");o||(t0(t,e,i,r)&&(e=null),r||i===null?q_(t)&&(e===null?n.removeAttribute(t):n.setAttribute(t,""+e)):i.mustUseProperty?n[i.propertyName]=e===null?i.type===3?!1:"":e:(t=i.attributeName,r=i.attributeNamespace,e===null?n.removeAttribute(t):(i=i.type,e=i===3||i===4&&e===!0?"":""+e,r?n.setAttributeNS(r,t,e):n.setAttribute(t,e))))}var nr=Pa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,to=60103,rr=60106,Tn=60107,Wl=60108,eo=60114,Vl=60109,Yl=60110,La=60112,no=60113,Na=60120,Ma=60115,Xl=60116,Hl=60121,Zl=60128,$h=60129,Kl=60130,Jl=60131;if(typeof Symbol=="function"&&Symbol.for){var Ut=Symbol.for;to=Ut("react.element"),rr=Ut("react.portal"),Tn=Ut("react.fragment"),Wl=Ut("react.strict_mode"),eo=Ut("react.profiler"),Vl=Ut("react.provider"),Yl=Ut("react.context"),La=Ut("react.forward_ref"),no=Ut("react.suspense"),Na=Ut("react.suspense_list"),Ma=Ut("react.memo"),Xl=Ut("react.lazy"),Hl=Ut("react.block"),Ut("react.scope"),Zl=Ut("react.opaque.id"),$h=Ut("react.debug_trace_mode"),Kl=Ut("react.offscreen"),Jl=Ut("react.legacy_hidden")}var zh=typeof Symbol=="function"&&Symbol.iterator;function ro(n){return n===null||typeof n!="object"?null:(n=zh&&n[zh]||n["@@iterator"],typeof n=="function"?n:null)}var ql;function io(n){if(ql===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);ql=t&&t[1]||""}return`
`+ql+n}var Ql=!1;function Da(n,t){if(!n||Ql)return"";Ql=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(n,[],t)}else{try{t.call()}catch(l){r=l}n.call(t.prototype)}else{try{throw Error()}catch(l){r=l}n()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s])return`
`+i[a].replace(" at new "," at ");while(1<=a&&0<=s);break}}}finally{Ql=!1,Error.prepareStackTrace=e}return(n=n?n.displayName||n.name:"")?io(n):""}function e0(n){switch(n.tag){case 5:return io(n.type);case 16:return io("Lazy");case 13:return io("Suspense");case 19:return io("SuspenseList");case 0:case 2:case 15:return n=Da(n.type,!1),n;case 11:return n=Da(n.type.render,!1),n;case 22:return n=Da(n.type._render,!1),n;case 1:return n=Da(n.type,!0),n;default:return""}}function $r(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Tn:return"Fragment";case rr:return"Portal";case eo:return"Profiler";case Wl:return"StrictMode";case no:return"Suspense";case Na:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Yl:return(n.displayName||"Context")+".Consumer";case Vl:return(n._context.displayName||"Context")+".Provider";case La:var t=n.render;return t=t.displayName||t.name||"",n.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case Ma:return $r(n.type);case Hl:return $r(n._render);case Xl:t=n._payload,n=n._init;try{return $r(n(t))}catch{}}return null}function Sn(n){switch(typeof n){case"boolean":case"number":case"object":case"string":case"undefined":return n;default:return""}}function Wh(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function n0(n){var t=Wh(n)?"checked":"value",e=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),r=""+n[t];if(!n.hasOwnProperty(t)&&typeof e!="undefined"&&typeof e.get=="function"&&typeof e.set=="function"){var i=e.get,o=e.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(n,t,{enumerable:e.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function Fa(n){n._valueTracker||(n._valueTracker=n0(n))}function Vh(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var e=t.getValue(),r="";return n&&(r=Wh(n)?n.checked?"true":"false":n.value),n=r,n!==e?(t.setValue(n),!0):!1}function ka(n){if(n=n||(typeof document!="undefined"?document:void 0),typeof n=="undefined")return null;try{return n.activeElement||n.body}catch{return n.body}}function tu(n,t){var e=t.checked;return Et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e!=null?e:n._wrapperState.initialChecked})}function Yh(n,t){var e=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;e=Sn(t.value!=null?t.value:e),n._wrapperState={initialChecked:r,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xh(n,t){t=t.checked,t!=null&&zl(n,"checked",t,!1)}function eu(n,t){Xh(n,t);var e=Sn(t.value),r=t.type;if(e!=null)r==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+e):n.value!==""+e&&(n.value=""+e);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?nu(n,t.type,e):t.hasOwnProperty("defaultValue")&&nu(n,t.type,Sn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function Hh(n,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,e||t===n.value||(n.value=t),n.defaultValue=t}e=n.name,e!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,e!==""&&(n.name=e)}function nu(n,t,e){(t!=="number"||ka(n.ownerDocument)!==n)&&(e==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+e&&(n.defaultValue=""+e))}function r0(n){var t="";return Pa.Children.forEach(n,function(e){e!=null&&(t+=e)}),t}function ru(n,t){return n=Et({children:void 0},t),(t=r0(t.children))&&(n.children=t),n}function zr(n,t,e,r){if(n=n.options,t){t={};for(var i=0;i<e.length;i++)t["$"+e[i]]=!0;for(e=0;e<n.length;e++)i=t.hasOwnProperty("$"+n[e].value),n[e].selected!==i&&(n[e].selected=i),i&&r&&(n[e].defaultSelected=!0)}else{for(e=""+Sn(e),t=null,i=0;i<n.length;i++){if(n[i].value===e){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}t!==null||n[i].disabled||(t=n[i])}t!==null&&(t.selected=!0)}}function iu(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Et({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Zh(n,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(F(92));if(Array.isArray(e)){if(!(1>=e.length))throw Error(F(93));e=e[0]}t=e}t==null&&(t=""),e=t}n._wrapperState={initialValue:Sn(e)}}function Kh(n,t){var e=Sn(t.value),r=Sn(t.defaultValue);e!=null&&(e=""+e,e!==n.value&&(n.value=e),t.defaultValue==null&&n.defaultValue!==e&&(n.defaultValue=e)),r!=null&&(n.defaultValue=""+r)}function Jh(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}var ou={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function qh(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function au(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?qh(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ua,Qh=function(n){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(t,e,r,i){MSApp.execUnsafeLocalFunction(function(){return n(t,e,r,i)})}:n}(function(n,t){if(n.namespaceURI!==ou.svg||"innerHTML"in n)n.innerHTML=t;else{for(Ua=Ua||document.createElement("div"),Ua.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ua.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function oo(n,t){if(t){var e=n.firstChild;if(e&&e===n.lastChild&&e.nodeType===3){e.nodeValue=t;return}}n.textContent=t}var ao={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i0=["Webkit","ms","Moz","O"];Object.keys(ao).forEach(function(n){i0.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),ao[t]=ao[n]})});function tp(n,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||ao.hasOwnProperty(n)&&ao[n]?(""+t).trim():t+"px"}function ep(n,t){n=n.style;for(var e in t)if(t.hasOwnProperty(e)){var r=e.indexOf("--")===0,i=tp(e,t[e],r);e==="float"&&(e="cssFloat"),r?n.setProperty(e,i):n[e]=i}}var o0=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function su(n,t){if(t){if(o0[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function lu(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function uu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var fu=null,Wr=null,Vr=null;function np(n){if(n=Co(n)){if(typeof fu!="function")throw Error(F(280));var t=n.stateNode;t&&(t=es(t),fu(n.stateNode,n.type,t))}}function rp(n){Wr?Vr?Vr.push(n):Vr=[n]:Wr=n}function ip(){if(Wr){var n=Wr,t=Vr;if(Vr=Wr=null,np(n),t)for(n=0;n<t.length;n++)np(t[n])}}function cu(n,t){return n(t)}function op(n,t,e,r,i){return n(t,e,r,i)}function hu(){}var ap=cu,ir=!1,pu=!1;function du(){(Wr!==null||Vr!==null)&&(hu(),ip())}function a0(n,t,e){if(pu)return n(t,e);pu=!0;try{return ap(n,t,e)}finally{pu=!1,du()}}function so(n,t){var e=n.stateNode;if(e===null)return null;var r=es(e);if(r===null)return null;e=r[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break t;default:n=!1}if(n)return null;if(e&&typeof e!="function")throw Error(F(231,t,typeof e));return e}var vu=!1;if(on)try{var lo={};Object.defineProperty(lo,"passive",{get:function(){vu=!0}}),window.addEventListener("test",lo,lo),window.removeEventListener("test",lo,lo)}catch{vu=!1}function s0(n,t,e,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(e,u)}catch(f){this.onError(f)}}var uo=!1,Ba=null,ja=!1,gu=null,l0={onError:function(n){uo=!0,Ba=n}};function u0(n,t,e,r,i,o,a,s,l){uo=!1,Ba=null,s0.apply(l0,arguments)}function f0(n,t,e,r,i,o,a,s,l){if(u0.apply(this,arguments),uo){if(uo){var u=Ba;uo=!1,Ba=null}else throw Error(F(198));ja||(ja=!0,gu=u)}}function or(n){var t=n,e=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,(t.flags&1026)!=0&&(e=t.return),n=t.return;while(n)}return t.tag===3?e:null}function sp(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function lp(n){if(or(n)!==n)throw Error(F(188))}function c0(n){var t=n.alternate;if(!t){if(t=or(n),t===null)throw Error(F(188));return t!==n?null:n}for(var e=n,r=t;;){var i=e.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){e=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===e)return lp(i),n;if(o===r)return lp(i),t;o=o.sibling}throw Error(F(188))}if(e.return!==r.return)e=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===e){a=!0,e=i,r=o;break}if(s===r){a=!0,r=i,e=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===e){a=!0,e=o,r=i;break}if(s===r){a=!0,r=o,e=i;break}s=s.sibling}if(!a)throw Error(F(189))}}if(e.alternate!==r)throw Error(F(190))}if(e.tag!==3)throw Error(F(188));return e.stateNode.current===e?n:t}function up(n){if(n=c0(n),!n)return null;for(var t=n;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===n)break;for(;!t.sibling;){if(!t.return||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function fp(n,t){for(var e=n.alternate;t!==null;){if(t===n||t===e)return!0;t=t.return}return!1}var cp,yu,hp,pp,_u=!1,$e=[],On=null,Cn=null,In=null,fo=new Map,co=new Map,ho=[],dp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mu(n,t,e,r,i){return{blockedOn:n,domEventName:t,eventSystemFlags:e|16,nativeEvent:i,targetContainers:[r]}}function vp(n,t){switch(n){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":Cn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":fo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":co.delete(t.pointerId)}}function po(n,t,e,r,i,o){return n===null||n.nativeEvent!==o?(n=mu(t,e,r,i,o),t!==null&&(t=Co(t),t!==null&&yu(t)),n):(n.eventSystemFlags|=r,t=n.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),n)}function h0(n,t,e,r,i){switch(t){case"focusin":return On=po(On,n,t,e,r,i),!0;case"dragenter":return Cn=po(Cn,n,t,e,r,i),!0;case"mouseover":return In=po(In,n,t,e,r,i),!0;case"pointerover":var o=i.pointerId;return fo.set(o,po(fo.get(o)||null,n,t,e,r,i)),!0;case"gotpointercapture":return o=i.pointerId,co.set(o,po(co.get(o)||null,n,t,e,r,i)),!0}return!1}function p0(n){var t=ar(n.target);if(t!==null){var e=or(t);if(e!==null){if(t=e.tag,t===13){if(t=sp(e),t!==null){n.blockedOn=t,pp(n.lanePriority,function(){kt.unstable_runWithPriority(n.priority,function(){hp(e)})});return}}else if(t===3&&e.stateNode.hydrate){n.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ba(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var e=Ou(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e!==null)return t=Co(e),t!==null&&yu(t),n.blockedOn=e,!1;t.shift()}return!0}function gp(n,t,e){ba(n)&&e.delete(t)}function d0(){for(_u=!1;0<$e.length;){var n=$e[0];if(n.blockedOn!==null){n=Co(n.blockedOn),n!==null&&cp(n);break}for(var t=n.targetContainers;0<t.length;){var e=Ou(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(e!==null){n.blockedOn=e;break}t.shift()}n.blockedOn===null&&$e.shift()}On!==null&&ba(On)&&(On=null),Cn!==null&&ba(Cn)&&(Cn=null),In!==null&&ba(In)&&(In=null),fo.forEach(gp),co.forEach(gp)}function vo(n,t){n.blockedOn===t&&(n.blockedOn=null,_u||(_u=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,d0)))}function yp(n){function t(i){return vo(i,n)}if(0<$e.length){vo($e[0],n);for(var e=1;e<$e.length;e++){var r=$e[e];r.blockedOn===n&&(r.blockedOn=null)}}for(On!==null&&vo(On,n),Cn!==null&&vo(Cn,n),In!==null&&vo(In,n),fo.forEach(t),co.forEach(t),e=0;e<ho.length;e++)r=ho[e],r.blockedOn===n&&(r.blockedOn=null);for(;0<ho.length&&(e=ho[0],e.blockedOn===null);)p0(e),e.blockedOn===null&&ho.shift()}function Ga(n,t){var e={};return e[n.toLowerCase()]=t.toLowerCase(),e["Webkit"+n]="webkit"+t,e["Moz"+n]="moz"+t,e}var Yr={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},Eu={},_p={};on&&(_p=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function $a(n){if(Eu[n])return Eu[n];if(!Yr[n])return n;var t=Yr[n],e;for(e in t)if(t.hasOwnProperty(e)&&e in _p)return Eu[n]=t[e];return n}var mp=$a("animationend"),Ep=$a("animationiteration"),wp=$a("animationstart"),xp=$a("transitionend"),Tp=new Map,wu=new Map,v0=["abort","abort",mp,"animationEnd",Ep,"animationIteration",wp,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",xp,"transitionEnd","waiting","waiting"];function xu(n,t){for(var e=0;e<n.length;e+=2){var r=n[e],i=n[e+1];i="on"+(i[0].toUpperCase()+i.slice(1)),wu.set(r,t),Tp.set(r,i),er(i,[r])}}var g0=kt.unstable_now;g0();var dt=8;function Xr(n){if((1&n)!=0)return dt=15,1;if((2&n)!=0)return dt=14,2;if((4&n)!=0)return dt=13,4;var t=24&n;return t!==0?(dt=12,t):(n&32)!=0?(dt=11,32):(t=192&n,t!==0?(dt=10,t):(n&256)!=0?(dt=9,256):(t=3584&n,t!==0?(dt=8,t):(n&4096)!=0?(dt=7,4096):(t=4186112&n,t!==0?(dt=6,t):(t=62914560&n,t!==0?(dt=5,t):n&67108864?(dt=4,67108864):(n&134217728)!=0?(dt=3,134217728):(t=805306368&n,t!==0?(dt=2,t):(1073741824&n)!=0?(dt=1,1073741824):(dt=8,n))))))}function y0(n){switch(n){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function _0(n){switch(n){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(F(358,n))}}function go(n,t){var e=n.pendingLanes;if(e===0)return dt=0;var r=0,i=0,o=n.expiredLanes,a=n.suspendedLanes,s=n.pingedLanes;if(o!==0)r=o,i=dt=15;else if(o=e&134217727,o!==0){var l=o&~a;l!==0?(r=Xr(l),i=dt):(s&=o,s!==0&&(r=Xr(s),i=dt))}else o=e&~a,o!==0?(r=Xr(o),i=dt):s!==0&&(r=Xr(s),i=dt);if(r===0)return 0;if(r=31-Rn(r),r=e&((0>r?0:1<<r)<<1)-1,t!==0&&t!==r&&(t&a)==0){if(Xr(t),i<=dt)return t;dt=i}if(t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=r;0<t;)e=31-Rn(t),i=1<<e,r|=n[e],t&=~i;return r}function Sp(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function za(n,t){switch(n){case 15:return 1;case 14:return 2;case 12:return n=Hr(24&~t),n===0?za(10,t):n;case 10:return n=Hr(192&~t),n===0?za(8,t):n;case 8:return n=Hr(3584&~t),n===0&&(n=Hr(4186112&~t),n===0&&(n=512)),n;case 2:return t=Hr(805306368&~t),t===0&&(t=268435456),t}throw Error(F(358,n))}function Hr(n){return n&-n}function Tu(n){for(var t=[],e=0;31>e;e++)t.push(n);return t}function Wa(n,t,e){n.pendingLanes|=t;var r=t-1;n.suspendedLanes&=r,n.pingedLanes&=r,n=n.eventTimes,t=31-Rn(t),n[t]=e}var Rn=Math.clz32?Math.clz32:w0,m0=Math.log,E0=Math.LN2;function w0(n){return n===0?32:31-(m0(n)/E0|0)|0}var x0=kt.unstable_UserBlockingPriority,T0=kt.unstable_runWithPriority,Va=!0;function S0(n,t,e,r){ir||hu();var i=Su,o=ir;ir=!0;try{op(i,n,t,e,r)}finally{(ir=o)||du()}}function O0(n,t,e,r){T0(x0,Su.bind(null,n,t,e,r))}function Su(n,t,e,r){if(Va){var i;if((i=(t&4)==0)&&0<$e.length&&-1<dp.indexOf(n))n=mu(null,n,t,e,r),$e.push(n);else{var o=Ou(n,t,e,r);if(o===null)i&&vp(n,r);else{if(i){if(-1<dp.indexOf(n)){n=mu(o,n,t,e,r),$e.push(n);return}if(h0(o,n,t,e,r))return;vp(n,r)}td(n,t,r,null,e)}}}}function Ou(n,t,e,r){var i=uu(r);if(i=ar(i),i!==null){var o=or(i);if(o===null)i=null;else{var a=o.tag;if(a===13){if(i=sp(o),i!==null)return i;i=null}else if(a===3){if(o.stateNode.hydrate)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return td(n,t,r,i,e),null}var An=null,Cu=null,Ya=null;function Op(){if(Ya)return Ya;var n,t=Cu,e=t.length,r,i="value"in An?An.value:An.textContent,o=i.length;for(n=0;n<e&&t[n]===i[n];n++);var a=e-n;for(r=1;r<=a&&t[e-r]===i[o-r];r++);return Ya=i.slice(n,1<r?1-r:void 0)}function Xa(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function Ha(){return!0}function Cp(){return!1}function se(n){function t(e,r,i,o,a){this._reactName=e,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in n)n.hasOwnProperty(s)&&(e=n[s],this[s]=e?e(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ha:Cp,this.isPropagationStopped=Cp,this}return Et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=Ha)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=Ha)},persist:function(){},isPersistent:Ha}),t}var Zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iu=se(Zr),yo=Et({},Zr,{view:0,detail:0}),C0=se(yo),Ru,Au,_o,Za=Et({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==_o&&(_o&&n.type==="mousemove"?(Ru=n.screenX-_o.screenX,Au=n.screenY-_o.screenY):Au=Ru=0,_o=n),Ru)},movementY:function(n){return"movementY"in n?n.movementY:Au}}),Ip=se(Za),I0=Et({},Za,{dataTransfer:0}),R0=se(I0),A0=Et({},yo,{relatedTarget:0}),Pu=se(A0),P0=Et({},Zr,{animationName:0,elapsedTime:0,pseudoElement:0}),L0=se(P0),N0=Et({},Zr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),M0=se(N0),D0=Et({},Zr,{data:0}),Rp=se(D0),F0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},U0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B0(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=U0[n])?!!t[n]:!1}function Lu(){return B0}var j0=Et({},yo,{key:function(n){if(n.key){var t=F0[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=Xa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?k0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lu,charCode:function(n){return n.type==="keypress"?Xa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Xa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),b0=se(j0),G0=Et({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ap=se(G0),$0=Et({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lu}),z0=se($0),W0=Et({},Zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),V0=se(W0),Y0=Et({},Za,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),X0=se(Y0),H0=[9,13,27,32],Nu=on&&"CompositionEvent"in window,mo=null;on&&"documentMode"in document&&(mo=document.documentMode);var Z0=on&&"TextEvent"in window&&!mo,Pp=on&&(!Nu||mo&&8<mo&&11>=mo),Lp=String.fromCharCode(32),Np=!1;function Mp(n,t){switch(n){case"keyup":return H0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Kr=!1;function K0(n,t){switch(n){case"compositionend":return Dp(t);case"keypress":return t.which!==32?null:(Np=!0,Lp);case"textInput":return n=t.data,n===Lp&&Np?null:n;default:return null}}function J0(n,t){if(Kr)return n==="compositionend"||!Nu&&Mp(n,t)?(n=Op(),Ya=Cu=An=null,Kr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pp&&t.locale!=="ko"?null:t.data;default:return null}}var q0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fp(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!q0[n.type]:t==="textarea"}function kp(n,t,e,r){rp(r),t=Ja(t,"onChange"),0<t.length&&(e=new Iu("onChange","change",null,e,r),n.push({event:e,listeners:t}))}var Eo=null,wo=null;function Q0(n){Zp(n,0)}function Ka(n){var t=ei(n);if(Vh(t))return n}function tm(n,t){if(n==="change")return t}var Up=!1;if(on){var Mu;if(on){var Du="oninput"in document;if(!Du){var Bp=document.createElement("div");Bp.setAttribute("oninput","return;"),Du=typeof Bp.oninput=="function"}Mu=Du}else Mu=!1;Up=Mu&&(!document.documentMode||9<document.documentMode)}function jp(){Eo&&(Eo.detachEvent("onpropertychange",bp),wo=Eo=null)}function bp(n){if(n.propertyName==="value"&&Ka(wo)){var t=[];if(kp(t,wo,n,uu(n)),n=Q0,ir)n(t);else{ir=!0;try{cu(n,t)}finally{ir=!1,du()}}}}function em(n,t,e){n==="focusin"?(jp(),Eo=t,wo=e,Eo.attachEvent("onpropertychange",bp)):n==="focusout"&&jp()}function nm(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ka(wo)}function rm(n,t){if(n==="click")return Ka(t)}function im(n,t){if(n==="input"||n==="change")return Ka(t)}function om(n,t){return n===t&&(n!==0||1/n==1/t)||n!==n&&t!==t}var ge=typeof Object.is=="function"?Object.is:om,am=Object.prototype.hasOwnProperty;function xo(n,t){if(ge(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var e=Object.keys(n),r=Object.keys(t);if(e.length!==r.length)return!1;for(r=0;r<e.length;r++)if(!am.call(t,e[r])||!ge(n[e[r]],t[e[r]]))return!1;return!0}function Gp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function $p(n,t){var e=Gp(n);n=0;for(var r;e;){if(e.nodeType===3){if(r=n+e.textContent.length,n<=t&&r>=t)return{node:e,offset:t-n};n=r}t:{for(;e;){if(e.nextSibling){e=e.nextSibling;break t}e=e.parentNode}e=void 0}e=Gp(e)}}function zp(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?zp(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function Wp(){for(var n=window,t=ka();t instanceof n.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)n=t.contentWindow;else break;t=ka(n.document)}return t}function Fu(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}var sm=on&&"documentMode"in document&&11>=document.documentMode,Jr=null,ku=null,To=null,Uu=!1;function Vp(n,t,e){var r=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;Uu||Jr==null||Jr!==ka(r)||(r=Jr,"selectionStart"in r&&Fu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),To&&xo(To,r)||(To=r,r=Ja(ku,"onSelect"),0<r.length&&(t=new Iu("onSelect","select",null,t,e),n.push({event:t,listeners:r}),t.target=Jr)))}xu("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);xu("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);xu(v0,2);for(var Yp="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Bu=0;Bu<Yp.length;Bu++)wu.set(Yp[Bu],0);Gr("onMouseEnter",["mouseout","mouseover"]);Gr("onMouseLeave",["mouseout","mouseover"]);Gr("onPointerEnter",["pointerout","pointerover"]);Gr("onPointerLeave",["pointerout","pointerover"]);er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));er("onBeforeInput",["compositionend","keypress","textInput","paste"]);er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xp=new Set("cancel close invalid load scroll toggle".split(" ").concat(So));function Hp(n,t,e){var r=n.type||"unknown-event";n.currentTarget=e,f0(r,t,void 0,n),n.currentTarget=null}function Zp(n,t){t=(t&4)!=0;for(var e=0;e<n.length;e++){var r=n[e],i=r.event;r=r.listeners;t:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break t;Hp(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break t;Hp(i,s,u),o=l}}}if(ja)throw n=gu,ja=!1,gu=null,n}function yt(n,t){var e=ad(t),r=n+"__bubble";e.has(r)||(Qp(t,n,2,!1),e.add(r))}var Kp="_reactListening"+Math.random().toString(36).slice(2);function Jp(n){n[Kp]||(n[Kp]=!0,Bh.forEach(function(t){Xp.has(t)||qp(t,!1,n,null),qp(t,!0,n,null)}))}function qp(n,t,e,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,o=e;if(n==="selectionchange"&&e.nodeType!==9&&(o=e.ownerDocument),r!==null&&!t&&Xp.has(n)){if(n!=="scroll")return;i|=2,o=r}var a=ad(o),s=n+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Qp(o,n,i,t),a.add(s))}function Qp(n,t,e,r){var i=wu.get(t);switch(i===void 0?2:i){case 0:i=S0;break;case 1:i=O0;break;default:i=Su}e=i.bind(null,t,e,n),i=void 0,!vu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(t,e,{capture:!0,passive:i}):n.addEventListener(t,e,!0):i!==void 0?n.addEventListener(t,e,{passive:i}):n.addEventListener(t,e,!1)}function td(n,t,e,r,i){var o=r;if((t&1)==0&&(t&2)==0&&r!==null)t:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=ar(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue t}s=s.parentNode}}r=r.return}a0(function(){var u=o,f=uu(e),h=[];t:{var c=Tp.get(n);if(c!==void 0){var v=Iu,g=n;switch(n){case"keypress":if(Xa(e)===0)break t;case"keydown":case"keyup":v=b0;break;case"focusin":g="focus",v=Pu;break;case"focusout":g="blur",v=Pu;break;case"beforeblur":case"afterblur":v=Pu;break;case"click":if(e.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ip;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=R0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=z0;break;case mp:case Ep:case wp:v=L0;break;case xp:v=V0;break;case"scroll":v=C0;break;case"wheel":v=X0;break;case"copy":case"cut":case"paste":v=M0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ap}var T=(t&4)!=0,_=!T&&n==="scroll",y=T?c!==null?c+"Capture":null:c;T=[];for(var m=u,x;m!==null;){x=m;var E=x.stateNode;if(x.tag===5&&E!==null&&(x=E,y!==null&&(E=so(m,y),E!=null&&T.push(Oo(m,E,x)))),_)break;m=m.return}0<T.length&&(c=new v(c,g,null,e,f),h.push({event:c,listeners:T}))}}if((t&7)==0){t:{if(c=n==="mouseover"||n==="pointerover",v=n==="mouseout"||n==="pointerout",c&&(t&16)==0&&(g=e.relatedTarget||e.fromElement)&&(ar(g)||g[ti]))break t;if((v||c)&&(c=f.window===f?f:(c=f.ownerDocument)?c.defaultView||c.parentWindow:window,v?(g=e.relatedTarget||e.toElement,v=u,g=g?ar(g):null,g!==null&&(_=or(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=u),v!==g)){if(T=Ip,E="onMouseLeave",y="onMouseEnter",m="mouse",(n==="pointerout"||n==="pointerover")&&(T=Ap,E="onPointerLeave",y="onPointerEnter",m="pointer"),_=v==null?c:ei(v),x=g==null?c:ei(g),c=new T(E,m+"leave",v,e,f),c.target=_,c.relatedTarget=x,E=null,ar(f)===u&&(T=new T(y,m+"enter",g,e,f),T.target=x,T.relatedTarget=_,E=T),_=E,v&&g)e:{for(T=v,y=g,m=0,x=T;x;x=qr(x))m++;for(x=0,E=y;E;E=qr(E))x++;for(;0<m-x;)T=qr(T),m--;for(;0<x-m;)y=qr(y),x--;for(;m--;){if(T===y||y!==null&&T===y.alternate)break e;T=qr(T),y=qr(y)}T=null}else T=null;v!==null&&ed(h,c,v,T,!1),g!==null&&_!==null&&ed(h,_,g,T,!0)}}t:{if(c=u?ei(u):window,v=c.nodeName&&c.nodeName.toLowerCase(),v==="select"||v==="input"&&c.type==="file")var C=tm;else if(Fp(c))if(Up)C=im;else{C=nm;var I=em}else(v=c.nodeName)&&v.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(C=rm);if(C&&(C=C(n,u))){kp(h,C,e,f);break t}I&&I(n,c,u),n==="focusout"&&(I=c._wrapperState)&&I.controlled&&c.type==="number"&&nu(c,"number",c.value)}switch(I=u?ei(u):window,n){case"focusin":(Fp(I)||I.contentEditable==="true")&&(Jr=I,ku=u,To=null);break;case"focusout":To=ku=Jr=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,Vp(h,e,f);break;case"selectionchange":if(sm)break;case"keydown":case"keyup":Vp(h,e,f)}var A;if(Nu)t:{switch(n){case"compositionstart":var L="onCompositionStart";break t;case"compositionend":L="onCompositionEnd";break t;case"compositionupdate":L="onCompositionUpdate";break t}L=void 0}else Kr?Mp(n,e)&&(L="onCompositionEnd"):n==="keydown"&&e.keyCode===229&&(L="onCompositionStart");L&&(Pp&&e.locale!=="ko"&&(Kr||L!=="onCompositionStart"?L==="onCompositionEnd"&&Kr&&(A=Op()):(An=f,Cu="value"in An?An.value:An.textContent,Kr=!0)),I=Ja(u,L),0<I.length&&(L=new Rp(L,n,null,e,f),h.push({event:L,listeners:I}),A?L.data=A:(A=Dp(e),A!==null&&(L.data=A)))),(A=Z0?K0(n,e):J0(n,e))&&(u=Ja(u,"onBeforeInput"),0<u.length&&(f=new Rp("onBeforeInput","beforeinput",null,e,f),h.push({event:f,listeners:u}),f.data=A))}Zp(h,t)})}function Oo(n,t,e){return{instance:n,listener:t,currentTarget:e}}function Ja(n,t){for(var e=t+"Capture",r=[];n!==null;){var i=n,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=so(n,e),o!=null&&r.unshift(Oo(n,o,i)),o=so(n,t),o!=null&&r.push(Oo(n,o,i))),n=n.return}return r}function qr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function ed(n,t,e,r,i){for(var o=t._reactName,a=[];e!==null&&e!==r;){var s=e,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=so(e,o),l!=null&&a.unshift(Oo(e,l,s))):i||(l=so(e,o),l!=null&&a.push(Oo(e,l,s)))),e=e.return}a.length!==0&&n.push({event:t,listeners:a})}function qa(){}var ju=null,bu=null;function nd(n,t){switch(n){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Gu(n,t){return n==="textarea"||n==="option"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var rd=typeof setTimeout=="function"?setTimeout:void 0,lm=typeof clearTimeout=="function"?clearTimeout:void 0;function $u(n){n.nodeType===1?n.textContent="":n.nodeType===9&&(n=n.body,n!=null&&(n.textContent=""))}function Qr(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break}return n}function id(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return n;t--}else e==="/$"&&t++}n=n.previousSibling}return null}var zu=0;function um(n){return{$$typeof:Zl,toString:n,valueOf:n}}var Qa=Math.random().toString(36).slice(2),Pn="__reactFiber$"+Qa,ts="__reactProps$"+Qa,ti="__reactContainer$"+Qa,od="__reactEvents$"+Qa;function ar(n){var t=n[Pn];if(t)return t;for(var e=n.parentNode;e;){if(t=e[ti]||e[Pn]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(n=id(n);n!==null;){if(e=n[Pn])return e;n=id(n)}return t}n=e,e=n.parentNode}return null}function Co(n){return n=n[Pn]||n[ti],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ei(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(F(33))}function es(n){return n[ts]||null}function ad(n){var t=n[od];return t===void 0&&(t=n[od]=new Set),t}var Wu=[],ni=-1;function Ln(n){return{current:n}}function _t(n){0>ni||(n.current=Wu[ni],Wu[ni]=null,ni--)}function Ct(n,t){ni++,Wu[ni]=n.current,n.current=t}var Nn={},Wt=Ln(Nn),ne=Ln(!1),sr=Nn;function ri(n,t){var e=n.type.contextTypes;if(!e)return Nn;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in e)i[o]=t[o];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=i),i}function re(n){return n=n.childContextTypes,n!=null}function ns(){_t(ne),_t(Wt)}function sd(n,t,e){if(Wt.current!==Nn)throw Error(F(168));Ct(Wt,t),Ct(ne,e)}function ld(n,t,e){var r=n.stateNode;if(n=t.childContextTypes,typeof r.getChildContext!="function")return e;r=r.getChildContext();for(var i in r)if(!(i in n))throw Error(F(108,$r(t)||"Unknown",i));return Et({},e,r)}function rs(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Nn,sr=Wt.current,Ct(Wt,n),Ct(ne,ne.current),!0}function ud(n,t,e){var r=n.stateNode;if(!r)throw Error(F(169));e?(n=ld(n,t,sr),r.__reactInternalMemoizedMergedChildContext=n,_t(ne),_t(Wt),Ct(Wt,n)):_t(ne),Ct(ne,e)}var Vu=null,lr=null,fm=kt.unstable_runWithPriority,Yu=kt.unstable_scheduleCallback,Xu=kt.unstable_cancelCallback,cm=kt.unstable_shouldYield,fd=kt.unstable_requestPaint,Hu=kt.unstable_now,hm=kt.unstable_getCurrentPriorityLevel,is=kt.unstable_ImmediatePriority,cd=kt.unstable_UserBlockingPriority,hd=kt.unstable_NormalPriority,pd=kt.unstable_LowPriority,dd=kt.unstable_IdlePriority,Zu={},pm=fd!==void 0?fd:function(){},an=null,os=null,Ku=!1,vd=Hu(),Vt=1e4>vd?Hu:function(){return Hu()-vd};function ii(){switch(hm()){case is:return 99;case cd:return 98;case hd:return 97;case pd:return 96;case dd:return 95;default:throw Error(F(332))}}function gd(n){switch(n){case 99:return is;case 98:return cd;case 97:return hd;case 96:return pd;case 95:return dd;default:throw Error(F(332))}}function ur(n,t){return n=gd(n),fm(n,t)}function Io(n,t,e){return n=gd(n),Yu(n,t,e)}function ze(){if(os!==null){var n=os;os=null,Xu(n)}yd()}function yd(){if(!Ku&&an!==null){Ku=!0;var n=0;try{var t=an;ur(99,function(){for(;n<t.length;n++){var e=t[n];do e=e(!0);while(e!==null)}}),an=null}catch(e){throw an!==null&&(an=an.slice(n+1)),Yu(is,ze),e}finally{Ku=!1}}}var dm=nr.ReactCurrentBatchConfig;function Pe(n,t){if(n&&n.defaultProps){t=Et({},t),n=n.defaultProps;for(var e in n)t[e]===void 0&&(t[e]=n[e]);return t}return t}var as=Ln(null),ss=null,oi=null,ls=null;function Ju(){ls=oi=ss=null}function qu(n){var t=as.current;_t(as),n.type._context._currentValue=t}function _d(n,t){for(;n!==null;){var e=n.alternate;if((n.childLanes&t)===t){if(e===null||(e.childLanes&t)===t)break;e.childLanes|=t}else n.childLanes|=t,e!==null&&(e.childLanes|=t);n=n.return}}function ai(n,t){ss=n,ls=oi=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&t)!=0&&(Le=!0),n.firstContext=null)}function ye(n,t){if(ls!==n&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(ls=n,t=1073741823),t={context:n,observedBits:t,next:null},oi===null){if(ss===null)throw Error(F(308));oi=t,ss.dependencies={lanes:0,firstContext:t,responders:null}}else oi=oi.next=t;return n._currentValue}var Mn=!1;function Qu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function md(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Dn(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function Fn(n,t){if(n=n.updateQueue,n!==null){n=n.shared;var e=n.pending;e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t}}function Ed(n,t){var e=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,e===r)){var i=null,o=null;if(e=e.firstBaseUpdate,e!==null){do{var a={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};o===null?i=o=a:o=o.next=a,e=e.next}while(e!==null);o===null?i=o=t:o=o.next=t}else i=o=t;e={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},n.updateQueue=e;return}n=e.lastBaseUpdate,n===null?e.firstBaseUpdate=t:n.next=t,e.lastBaseUpdate=t}function Ro(n,t,e,r){var i=n.updateQueue;Mn=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var f=n.alternate;if(f!==null){f=f.updateQueue;var h=f.lastBaseUpdate;h!==a&&(h===null?f.firstBaseUpdate=u:h.next=u,f.lastBaseUpdate=l)}}if(o!==null){h=i.baseState,a=0,f=u=l=null;do{s=o.lane;var c=o.eventTime;if((r&s)===s){f!==null&&(f=f.next={eventTime:c,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});t:{var v=n,g=o;switch(s=t,c=e,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(c,h,s);break t}h=v;break t;case 3:v.flags=v.flags&-4097|64;case 0:if(v=g.payload,s=typeof v=="function"?v.call(c,h,s):v,s==null)break t;h=Et({},h,s);break t;case 2:Mn=!0}}o.callback!==null&&(n.flags|=32,s=i.effects,s===null?i.effects=[o]:s.push(o))}else c={eventTime:c,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=c,l=h):f=f.next=c,a|=s;if(o=o.next,o===null){if(s=i.shared.pending,s===null)break;o=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}while(1);f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=f,bo|=a,n.lanes=a,n.memoizedState=h}}function wd(n,t,e){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var r=n[t],i=r.callback;if(i!==null){if(r.callback=null,r=e,typeof i!="function")throw Error(F(191,i));i.call(r)}}}var xd=new Pa.Component().refs;function us(n,t,e,r){t=n.memoizedState,e=e(r,t),e=e==null?t:Et({},t,e),n.memoizedState=e,n.lanes===0&&(n.updateQueue.baseState=e)}var fs={isMounted:function(n){return(n=n._reactInternals)?or(n)===n:!1},enqueueSetState:function(n,t,e){n=n._reactInternals;var r=le(),i=Bn(n),o=Dn(r,i);o.payload=t,e!=null&&(o.callback=e),Fn(n,o),jn(n,i,r)},enqueueReplaceState:function(n,t,e){n=n._reactInternals;var r=le(),i=Bn(n),o=Dn(r,i);o.tag=1,o.payload=t,e!=null&&(o.callback=e),Fn(n,o),jn(n,i,r)},enqueueForceUpdate:function(n,t){n=n._reactInternals;var e=le(),r=Bn(n),i=Dn(e,r);i.tag=2,t!=null&&(i.callback=t),Fn(n,i),jn(n,r,e)}};function Td(n,t,e,r,i,o,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!xo(e,r)||!xo(i,o):!0}function Sd(n,t,e){var r=!1,i=Nn,o=t.contextType;return typeof o=="object"&&o!==null?o=ye(o):(i=re(t)?sr:Wt.current,r=t.contextTypes,o=(r=r!=null)?ri(n,i):Nn),t=new t(e,o),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fs,n.stateNode=t,t._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=o),t}function Od(n,t,e,r){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,r),t.state!==n&&fs.enqueueReplaceState(t,t.state,null)}function tf(n,t,e,r){var i=n.stateNode;i.props=e,i.state=n.memoizedState,i.refs=xd,Qu(n);var o=t.contextType;typeof o=="object"&&o!==null?i.context=ye(o):(o=re(t)?sr:Wt.current,i.context=ri(n,o)),Ro(n,e,i,r),i.state=n.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(us(n,t,o,e),i.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&fs.enqueueReplaceState(i,i.state,null),Ro(n,e,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4)}var cs=Array.isArray;function Ao(n,t,e){if(n=e.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(F(309));var r=e.stateNode}if(!r)throw Error(F(147,n));var i=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=r.refs;a===xd&&(a=r.refs={}),o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof n!="string")throw Error(F(284));if(!e._owner)throw Error(F(290,n))}return n}function hs(n,t){if(n.type!=="textarea")throw Error(F(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Cd(n){function t(_,y){if(n){var m=_.lastEffect;m!==null?(m.nextEffect=y,_.lastEffect=y):_.firstEffect=_.lastEffect=y,y.nextEffect=null,y.flags=8}}function e(_,y){if(!n)return null;for(;y!==null;)t(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=$n(_,y),_.index=0,_.sibling=null,_}function o(_,y,m){return _.index=m,n?(m=_.alternate,m!==null?(m=m.index,m<y?(_.flags=2,y):m):(_.flags=2,y)):y}function a(_){return n&&_.alternate===null&&(_.flags=2),_}function s(_,y,m,x){return y===null||y.tag!==6?(y=Uf(m,_.mode,x),y.return=_,y):(y=i(y,m),y.return=_,y)}function l(_,y,m,x){return y!==null&&y.elementType===m.type?(x=i(y,m.props),x.ref=Ao(_,y,m),x.return=_,x):(x=Ps(m.type,m.key,m.props,null,_.mode,x),x.ref=Ao(_,y,m),x.return=_,x)}function u(_,y,m,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==m.containerInfo||y.stateNode.implementation!==m.implementation?(y=Bf(m,_.mode,x),y.return=_,y):(y=i(y,m.children||[]),y.return=_,y)}function f(_,y,m,x,E){return y===null||y.tag!==7?(y=di(m,_.mode,x,E),y.return=_,y):(y=i(y,m),y.return=_,y)}function h(_,y,m){if(typeof y=="string"||typeof y=="number")return y=Uf(""+y,_.mode,m),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case to:return m=Ps(y.type,y.key,y.props,null,_.mode,m),m.ref=Ao(_,null,y),m.return=_,m;case rr:return y=Bf(y,_.mode,m),y.return=_,y}if(cs(y)||ro(y))return y=di(y,_.mode,m,null),y.return=_,y;hs(_,y)}return null}function c(_,y,m,x){var E=y!==null?y.key:null;if(typeof m=="string"||typeof m=="number")return E!==null?null:s(_,y,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case to:return m.key===E?m.type===Tn?f(_,y,m.props.children,x,E):l(_,y,m,x):null;case rr:return m.key===E?u(_,y,m,x):null}if(cs(m)||ro(m))return E!==null?null:f(_,y,m,x,null);hs(_,m)}return null}function v(_,y,m,x,E){if(typeof x=="string"||typeof x=="number")return _=_.get(m)||null,s(y,_,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case to:return _=_.get(x.key===null?m:x.key)||null,x.type===Tn?f(y,_,x.props.children,E,x.key):l(y,_,x,E);case rr:return _=_.get(x.key===null?m:x.key)||null,u(y,_,x,E)}if(cs(x)||ro(x))return _=_.get(m)||null,f(y,_,x,E,null);hs(y,x)}return null}function g(_,y,m,x){for(var E=null,C=null,I=y,A=y=0,L=null;I!==null&&A<m.length;A++){I.index>A?(L=I,I=null):L=I.sibling;var P=c(_,I,m[A],x);if(P===null){I===null&&(I=L);break}n&&I&&P.alternate===null&&t(_,I),y=o(P,y,A),C===null?E=P:C.sibling=P,C=P,I=L}if(A===m.length)return e(_,I),E;if(I===null){for(;A<m.length;A++)I=h(_,m[A],x),I!==null&&(y=o(I,y,A),C===null?E=I:C.sibling=I,C=I);return E}for(I=r(_,I);A<m.length;A++)L=v(I,_,A,m[A],x),L!==null&&(n&&L.alternate!==null&&I.delete(L.key===null?A:L.key),y=o(L,y,A),C===null?E=L:C.sibling=L,C=L);return n&&I.forEach(function(U){return t(_,U)}),E}function T(_,y,m,x){var E=ro(m);if(typeof E!="function")throw Error(F(150));if(m=E.call(m),m==null)throw Error(F(151));for(var C=E=null,I=y,A=y=0,L=null,P=m.next();I!==null&&!P.done;A++,P=m.next()){I.index>A?(L=I,I=null):L=I.sibling;var U=c(_,I,P.value,x);if(U===null){I===null&&(I=L);break}n&&I&&U.alternate===null&&t(_,I),y=o(U,y,A),C===null?E=U:C.sibling=U,C=U,I=L}if(P.done)return e(_,I),E;if(I===null){for(;!P.done;A++,P=m.next())P=h(_,P.value,x),P!==null&&(y=o(P,y,A),C===null?E=P:C.sibling=P,C=P);return E}for(I=r(_,I);!P.done;A++,P=m.next())P=v(I,_,A,P.value,x),P!==null&&(n&&P.alternate!==null&&I.delete(P.key===null?A:P.key),y=o(P,y,A),C===null?E=P:C.sibling=P,C=P);return n&&I.forEach(function($){return t(_,$)}),E}return function(_,y,m,x){var E=typeof m=="object"&&m!==null&&m.type===Tn&&m.key===null;E&&(m=m.props.children);var C=typeof m=="object"&&m!==null;if(C)switch(m.$$typeof){case to:t:{for(C=m.key,E=y;E!==null;){if(E.key===C){switch(E.tag){case 7:if(m.type===Tn){e(_,E.sibling),y=i(E,m.props.children),y.return=_,_=y;break t}break;default:if(E.elementType===m.type){e(_,E.sibling),y=i(E,m.props),y.ref=Ao(_,E,m),y.return=_,_=y;break t}}e(_,E);break}else t(_,E);E=E.sibling}m.type===Tn?(y=di(m.props.children,_.mode,x,m.key),y.return=_,_=y):(x=Ps(m.type,m.key,m.props,null,_.mode,x),x.ref=Ao(_,y,m),x.return=_,_=x)}return a(_);case rr:t:{for(E=m.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===m.containerInfo&&y.stateNode.implementation===m.implementation){e(_,y.sibling),y=i(y,m.children||[]),y.return=_,_=y;break t}else{e(_,y);break}else t(_,y);y=y.sibling}y=Bf(m,_.mode,x),y.return=_,_=y}return a(_)}if(typeof m=="string"||typeof m=="number")return m=""+m,y!==null&&y.tag===6?(e(_,y.sibling),y=i(y,m),y.return=_,_=y):(e(_,y),y=Uf(m,_.mode,x),y.return=_,_=y),a(_);if(cs(m))return g(_,y,m,x);if(ro(m))return T(_,y,m,x);if(C&&hs(_,m),typeof m=="undefined"&&!E)switch(_.tag){case 1:case 22:case 0:case 11:case 15:throw Error(F(152,$r(_.type)||"Component"))}return e(_,y)}}var ps=Cd(!0),Id=Cd(!1),Po={},We=Ln(Po),Lo=Ln(Po),No=Ln(Po);function fr(n){if(n===Po)throw Error(F(174));return n}function ef(n,t){switch(Ct(No,t),Ct(Lo,n),Ct(We,Po),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:au(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=au(t,n)}_t(We),Ct(We,t)}function si(){_t(We),_t(Lo),_t(No)}function Rd(n){fr(No.current);var t=fr(We.current),e=au(t,n.type);t!==e&&(Ct(Lo,n),Ct(We,e))}function nf(n){Lo.current===n&&(_t(We),_t(Lo))}var It=Ln(0);function ds(n){for(var t=n;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&64)!=0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sn=null,kn=null,Ve=!1;function Ad(n,t){var e=Ee(5,null,null,0);e.elementType="DELETED",e.type="DELETED",e.stateNode=t,e.return=n,e.flags=8,n.lastEffect!==null?(n.lastEffect.nextEffect=e,n.lastEffect=e):n.firstEffect=n.lastEffect=e}function Pd(n,t){switch(n.tag){case 5:var e=n.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function rf(n){if(Ve){var t=kn;if(t){var e=t;if(!Pd(n,t)){if(t=Qr(e.nextSibling),!t||!Pd(n,t)){n.flags=n.flags&-1025|2,Ve=!1,sn=n;return}Ad(sn,e)}sn=n,kn=Qr(t.firstChild)}else n.flags=n.flags&-1025|2,Ve=!1,sn=n}}function Ld(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;sn=n}function vs(n){if(n!==sn)return!1;if(!Ve)return Ld(n),Ve=!0,!1;var t=n.type;if(n.tag!==5||t!=="head"&&t!=="body"&&!Gu(t,n.memoizedProps))for(t=kn;t;)Ad(n,t),t=Qr(t.nextSibling);if(Ld(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(F(317));t:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var e=n.data;if(e==="/$"){if(t===0){kn=Qr(n.nextSibling);break t}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}n=n.nextSibling}kn=null}}else kn=sn?Qr(n.stateNode.nextSibling):null;return!0}function of(){kn=sn=null,Ve=!1}var li=[];function af(){for(var n=0;n<li.length;n++)li[n]._workInProgressVersionPrimary=null;li.length=0}var Mo=nr.ReactCurrentDispatcher,_e=nr.ReactCurrentBatchConfig,Do=0,Pt=null,Yt=null,bt=null,gs=!1,Fo=!1;function ie(){throw Error(F(321))}function sf(n,t){if(t===null)return!1;for(var e=0;e<t.length&&e<n.length;e++)if(!ge(n[e],t[e]))return!1;return!0}function lf(n,t,e,r,i,o){if(Do=o,Pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mo.current=n===null||n.memoizedState===null?gm:ym,n=e(r,i),Fo){o=0;do{if(Fo=!1,!(25>o))throw Error(F(301));o+=1,bt=Yt=null,t.updateQueue=null,Mo.current=_m,n=e(r,i)}while(Fo)}if(Mo.current=Es,t=Yt!==null&&Yt.next!==null,Do=0,bt=Yt=Pt=null,gs=!1,t)throw Error(F(300));return n}function cr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Pt.memoizedState=bt=n:bt=bt.next=n,bt}function hr(){if(Yt===null){var n=Pt.alternate;n=n!==null?n.memoizedState:null}else n=Yt.next;var t=bt===null?Pt.memoizedState:bt.next;if(t!==null)bt=t,Yt=n;else{if(n===null)throw Error(F(310));Yt=n,n={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},bt===null?Pt.memoizedState=bt=n:bt=bt.next=n}return bt}function Ye(n,t){return typeof t=="function"?t(n):t}function ko(n){var t=hr(),e=t.queue;if(e===null)throw Error(F(311));e.lastRenderedReducer=n;var r=Yt,i=r.baseQueue,o=e.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,e.pending=null}if(i!==null){i=i.next,r=r.baseState;var s=a=o=null,l=i;do{var u=l.lane;if((Do&u)===u)s!==null&&(s=s.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===n?l.eagerState:n(r,l.action);else{var f={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};s===null?(a=s=f,o=r):s=s.next=f,Pt.lanes|=u,bo|=u}l=l.next}while(l!==null&&l!==i);s===null?o=r:s.next=a,ge(r,t.memoizedState)||(Le=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,e.lastRenderedState=r}return[t.memoizedState,e.dispatch]}function Uo(n){var t=hr(),e=t.queue;if(e===null)throw Error(F(311));e.lastRenderedReducer=n;var r=e.dispatch,i=e.pending,o=t.memoizedState;if(i!==null){e.pending=null;var a=i=i.next;do o=n(o,a.action),a=a.next;while(a!==i);ge(o,t.memoizedState)||(Le=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),e.lastRenderedState=o}return[o,r]}function Nd(n,t,e){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(i!==null?n=i===r:(n=n.mutableReadLanes,(n=(Do&n)===n)&&(t._workInProgressVersionPrimary=r,li.push(t))),n)return e(t._source);throw li.push(t),Error(F(350))}function Md(n,t,e,r){var i=Qt;if(i===null)throw Error(F(349));var o=t._getVersion,a=o(t._source),s=Mo.current,l=s.useState(function(){return Nd(i,t,e)}),u=l[1],f=l[0];l=bt;var h=n.memoizedState,c=h.refs,v=c.getSnapshot,g=h.source;h=h.subscribe;var T=Pt;return n.memoizedState={refs:c,source:t,subscribe:r},s.useEffect(function(){c.getSnapshot=e,c.setSnapshot=u;var _=o(t._source);if(!ge(a,_)){_=e(t._source),ge(f,_)||(u(_),_=Bn(T),i.mutableReadLanes|=_&i.pendingLanes),_=i.mutableReadLanes,i.entangledLanes|=_;for(var y=i.entanglements,m=_;0<m;){var x=31-Rn(m),E=1<<x;y[x]|=_,m&=~E}}},[e,t,r]),s.useEffect(function(){return r(t._source,function(){var _=c.getSnapshot,y=c.setSnapshot;try{y(_(t._source));var m=Bn(T);i.mutableReadLanes|=m&i.pendingLanes}catch(x){y(function(){throw x})}})},[t,r]),ge(v,e)&&ge(g,t)&&ge(h,r)||(n={pending:null,dispatch:null,lastRenderedReducer:Ye,lastRenderedState:f},n.dispatch=u=hf.bind(null,Pt,n),l.queue=n,l.baseQueue=null,f=Nd(i,t,e),l.memoizedState=l.baseState=f),f}function Dd(n,t,e){var r=hr();return Md(r,n,t,e)}function Bo(n){var t=cr();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n=t.queue={pending:null,dispatch:null,lastRenderedReducer:Ye,lastRenderedState:n},n=n.dispatch=hf.bind(null,Pt,n),[t.memoizedState,n]}function ys(n,t,e,r){return n={tag:n,create:t,destroy:e,deps:r,next:null},t=Pt.updateQueue,t===null?(t={lastEffect:null},Pt.updateQueue=t,t.lastEffect=n.next=n):(e=t.lastEffect,e===null?t.lastEffect=n.next=n:(r=e.next,e.next=n,n.next=r,t.lastEffect=n)),n}function Fd(n){var t=cr();return n={current:n},t.memoizedState=n}function _s(){return hr().memoizedState}function uf(n,t,e,r){var i=cr();Pt.flags|=n,i.memoizedState=ys(1|t,e,void 0,r===void 0?null:r)}function ff(n,t,e,r){var i=hr();r=r===void 0?null:r;var o=void 0;if(Yt!==null){var a=Yt.memoizedState;if(o=a.destroy,r!==null&&sf(r,a.deps)){ys(t,e,o,r);return}}Pt.flags|=n,i.memoizedState=ys(1|t,e,o,r)}function kd(n,t){return uf(516,4,n,t)}function ms(n,t){return ff(516,4,n,t)}function Ud(n,t){return ff(4,2,n,t)}function Bd(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function jd(n,t,e){return e=e!=null?e.concat([n]):null,ff(4,2,Bd.bind(null,t,n),e)}function cf(){}function bd(n,t){var e=hr();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&sf(t,r[1])?r[0]:(e.memoizedState=[n,t],n)}function Gd(n,t){var e=hr();t=t===void 0?null:t;var r=e.memoizedState;return r!==null&&t!==null&&sf(t,r[1])?r[0]:(n=n(),e.memoizedState=[n,t],n)}function vm(n,t){var e=ii();ur(98>e?98:e,function(){n(!0)}),ur(97<e?97:e,function(){var r=_e.transition;_e.transition=1;try{n(!1),t()}finally{_e.transition=r}})}function hf(n,t,e){var r=le(),i=Bn(n),o={lane:i,action:e,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(a===null?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=n.alternate,n===Pt||a!==null&&a===Pt)Fo=gs=!0;else{if(n.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,l=a(s,e);if(o.eagerReducer=a,o.eagerState=l,ge(l,s))return}catch{}finally{}jn(n,i,r)}}var Es={readContext:ye,useCallback:ie,useContext:ie,useEffect:ie,useImperativeHandle:ie,useLayoutEffect:ie,useMemo:ie,useReducer:ie,useRef:ie,useState:ie,useDebugValue:ie,useDeferredValue:ie,useTransition:ie,useMutableSource:ie,useOpaqueIdentifier:ie,unstable_isNewReconciler:!1},gm={readContext:ye,useCallback:function(n,t){return cr().memoizedState=[n,t===void 0?null:t],n},useContext:ye,useEffect:kd,useImperativeHandle:function(n,t,e){return e=e!=null?e.concat([n]):null,uf(4,2,Bd.bind(null,t,n),e)},useLayoutEffect:function(n,t){return uf(4,2,n,t)},useMemo:function(n,t){var e=cr();return t=t===void 0?null:t,n=n(),e.memoizedState=[n,t],n},useReducer:function(n,t,e){var r=cr();return t=e!==void 0?e(t):t,r.memoizedState=r.baseState=t,n=r.queue={pending:null,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},n=n.dispatch=hf.bind(null,Pt,n),[r.memoizedState,n]},useRef:Fd,useState:Bo,useDebugValue:cf,useDeferredValue:function(n){var t=Bo(n),e=t[0],r=t[1];return kd(function(){var i=_e.transition;_e.transition=1;try{r(n)}finally{_e.transition=i}},[n]),e},useTransition:function(){var n=Bo(!1),t=n[0];return n=vm.bind(null,n[1]),Fd(n),[n,t]},useMutableSource:function(n,t,e){var r=cr();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:n,subscribe:e},Md(r,n,t,e)},useOpaqueIdentifier:function(){if(Ve){var n=!1,t=um(function(){throw n||(n=!0,e("r:"+(zu++).toString(36))),Error(F(355))}),e=Bo(t)[1];return(Pt.mode&2)==0&&(Pt.flags|=516,ys(5,function(){e("r:"+(zu++).toString(36))},void 0,null)),t}return t="r:"+(zu++).toString(36),Bo(t),t},unstable_isNewReconciler:!1},ym={readContext:ye,useCallback:bd,useContext:ye,useEffect:ms,useImperativeHandle:jd,useLayoutEffect:Ud,useMemo:Gd,useReducer:ko,useRef:_s,useState:function(){return ko(Ye)},useDebugValue:cf,useDeferredValue:function(n){var t=ko(Ye),e=t[0],r=t[1];return ms(function(){var i=_e.transition;_e.transition=1;try{r(n)}finally{_e.transition=i}},[n]),e},useTransition:function(){var n=ko(Ye)[0];return[_s().current,n]},useMutableSource:Dd,useOpaqueIdentifier:function(){return ko(Ye)[0]},unstable_isNewReconciler:!1},_m={readContext:ye,useCallback:bd,useContext:ye,useEffect:ms,useImperativeHandle:jd,useLayoutEffect:Ud,useMemo:Gd,useReducer:Uo,useRef:_s,useState:function(){return Uo(Ye)},useDebugValue:cf,useDeferredValue:function(n){var t=Uo(Ye),e=t[0],r=t[1];return ms(function(){var i=_e.transition;_e.transition=1;try{r(n)}finally{_e.transition=i}},[n]),e},useTransition:function(){var n=Uo(Ye)[0];return[_s().current,n]},useMutableSource:Dd,useOpaqueIdentifier:function(){return Uo(Ye)[0]},unstable_isNewReconciler:!1},mm=nr.ReactCurrentOwner,Le=!1;function oe(n,t,e,r){t.child=n===null?Id(t,null,e,r):ps(t,n.child,e,r)}function $d(n,t,e,r,i){e=e.render;var o=t.ref;return ai(t,i),r=lf(n,t,e,r,o,i),n!==null&&!Le?(t.updateQueue=n.updateQueue,t.flags&=-517,n.lanes&=~i,ln(n,t,i)):(t.flags|=1,oe(n,t,r,i),t.child)}function zd(n,t,e,r,i,o){if(n===null){var a=e.type;return typeof a=="function"&&!Ff(a)&&a.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=a,Wd(n,t,a,r,i,o)):(n=Ps(e.type,null,r,t,t.mode,o),n.ref=t.ref,n.return=t,t.child=n)}return a=n.child,(i&o)==0&&(i=a.memoizedProps,e=e.compare,e=e!==null?e:xo,e(i,r)&&n.ref===t.ref)?ln(n,t,o):(t.flags|=1,n=$n(a,r),n.ref=t.ref,n.return=t,t.child=n)}function Wd(n,t,e,r,i,o){if(n!==null&&xo(n.memoizedProps,r)&&n.ref===t.ref)if(Le=!1,(o&i)!=0)(n.flags&16384)!=0&&(Le=!0);else return t.lanes=n.lanes,ln(n,t,o);return df(n,t,e,r,o)}function pf(n,t,e){var r=t.pendingProps,i=r.children,o=n!==null?n.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((t.mode&4)==0)t.memoizedState={baseLanes:0},As(t,e);else if((e&1073741824)!=0)t.memoizedState={baseLanes:0},As(t,o!==null?o.baseLanes:e);else return n=o!==null?o.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n},As(t,n),null;else o!==null?(r=o.baseLanes|e,t.memoizedState=null):r=e,As(t,r);return oe(n,t,i,e),t.child}function Vd(n,t){var e=t.ref;(n===null&&e!==null||n!==null&&n.ref!==e)&&(t.flags|=128)}function df(n,t,e,r,i){var o=re(e)?sr:Wt.current;return o=ri(t,o),ai(t,i),e=lf(n,t,e,r,o,i),n!==null&&!Le?(t.updateQueue=n.updateQueue,t.flags&=-517,n.lanes&=~i,ln(n,t,i)):(t.flags|=1,oe(n,t,e,i),t.child)}function Yd(n,t,e,r,i){if(re(e)){var o=!0;rs(t)}else o=!1;if(ai(t,i),t.stateNode===null)n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2),Sd(t,e,r),tf(t,e,r,i),r=!0;else if(n===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=e.contextType;typeof u=="object"&&u!==null?u=ye(u):(u=re(e)?sr:Wt.current,u=ri(t,u));var f=e.getDerivedStateFromProps,h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&Od(t,a,r,u),Mn=!1;var c=t.memoizedState;a.state=c,Ro(t,r,a,i),l=t.memoizedState,s!==r||c!==l||ne.current||Mn?(typeof f=="function"&&(us(t,e,f,r),l=t.memoizedState),(s=Mn||Td(t,e,s,r,c,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4)):(typeof a.componentDidMount=="function"&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4),r=!1)}else{a=t.stateNode,md(n,t),s=t.memoizedProps,u=t.type===t.elementType?s:Pe(t.type,s),a.props=u,h=t.pendingProps,c=a.context,l=e.contextType,typeof l=="object"&&l!==null?l=ye(l):(l=re(e)?sr:Wt.current,l=ri(t,l));var v=e.getDerivedStateFromProps;(f=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==h||c!==l)&&Od(t,a,r,l),Mn=!1,c=t.memoizedState,a.state=c,Ro(t,r,a,i);var g=t.memoizedState;s!==h||c!==g||ne.current||Mn?(typeof v=="function"&&(us(t,e,v,r),g=t.memoizedState),(u=Mn||Td(t,e,u,r,c,g,l))?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=256)):(typeof a.componentDidUpdate!="function"||s===n.memoizedProps&&c===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&c===n.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===n.memoizedProps&&c===n.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===n.memoizedProps&&c===n.memoizedState||(t.flags|=256),r=!1)}return vf(n,t,e,r,o,i)}function vf(n,t,e,r,i,o){Vd(n,t);var a=(t.flags&64)!=0;if(!r&&!a)return i&&ud(t,e,!1),ln(n,t,o);r=t.stateNode,mm.current=t;var s=a&&typeof e.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,n!==null&&a?(t.child=ps(t,n.child,null,o),t.child=ps(t,null,s,o)):oe(n,t,s,o),t.memoizedState=r.state,i&&ud(t,e,!0),t.child}function Xd(n){var t=n.stateNode;t.pendingContext?sd(n,t.pendingContext,t.pendingContext!==t.context):t.context&&sd(n,t.context,!1),ef(n,t.containerInfo)}var ws={dehydrated:null,retryLane:0};function Hd(n,t,e){var r=t.pendingProps,i=It.current,o=!1,a;return(a=(t.flags&64)!=0)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!=0),a?(o=!0,t.flags&=-65):n!==null&&n.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),Ct(It,i&1),n===null?(r.fallback!==void 0&&rf(t),n=r.children,i=r.fallback,o?(n=Zd(t,n,i,e),t.child.memoizedState={baseLanes:e},t.memoizedState=ws,n):typeof r.unstable_expectedLoadTime=="number"?(n=Zd(t,n,i,e),t.child.memoizedState={baseLanes:e},t.memoizedState=ws,t.lanes=33554432,n):(e=kf({mode:"visible",children:n},t.mode,e,null),e.return=t,t.child=e)):n.memoizedState!==null?o?(r=Jd(n,t,r.children,r.fallback,e),o=t.child,i=n.child.memoizedState,o.memoizedState=i===null?{baseLanes:e}:{baseLanes:i.baseLanes|e},o.childLanes=n.childLanes&~e,t.memoizedState=ws,r):(e=Kd(n,t,r.children,e),t.memoizedState=null,e):o?(r=Jd(n,t,r.children,r.fallback,e),o=t.child,i=n.child.memoizedState,o.memoizedState=i===null?{baseLanes:e}:{baseLanes:i.baseLanes|e},o.childLanes=n.childLanes&~e,t.memoizedState=ws,r):(e=Kd(n,t,r.children,e),t.memoizedState=null,e)}function Zd(n,t,e,r){var i=n.mode,o=n.child;return t={mode:"hidden",children:t},(i&2)==0&&o!==null?(o.childLanes=0,o.pendingProps=t):o=kf(t,i,0,null),e=di(e,i,r,null),o.return=n,e.return=n,o.sibling=e,n.child=o,e}function Kd(n,t,e,r){var i=n.child;return n=i.sibling,e=$n(i,{mode:"visible",children:e}),(t.mode&2)==0&&(e.lanes=r),e.return=t,e.sibling=null,n!==null&&(n.nextEffect=null,n.flags=8,t.firstEffect=t.lastEffect=n),t.child=e}function Jd(n,t,e,r,i){var o=t.mode,a=n.child;n=a.sibling;var s={mode:"hidden",children:e};return(o&2)==0&&t.child!==a?(e=t.child,e.childLanes=0,e.pendingProps=s,a=e.lastEffect,a!==null?(t.firstEffect=e.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):e=$n(a,s),n!==null?r=$n(n,r):(r=di(r,o,i,null),r.flags|=2),r.return=t,e.return=t,e.sibling=r,t.child=e,r}function qd(n,t){n.lanes|=t;var e=n.alternate;e!==null&&(e.lanes|=t),_d(n.return,t)}function gf(n,t,e,r,i,o){var a=n.memoizedState;a===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:e,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=e,a.tailMode=i,a.lastEffect=o)}function Qd(n,t,e){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(oe(n,t,r.children,e),r=It.current,(r&2)!=0)r=r&1|2,t.flags|=64;else{if(n!==null&&(n.flags&64)!=0)t:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&qd(n,e);else if(n.tag===19)qd(n,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(Ct(It,r),(t.mode&2)==0)t.memoizedState=null;else switch(i){case"forwards":for(e=t.child,i=null;e!==null;)n=e.alternate,n!==null&&ds(n)===null&&(i=e),e=e.sibling;e=i,e===null?(i=t.child,t.child=null):(i=e.sibling,e.sibling=null),gf(t,!1,i,e,o,t.lastEffect);break;case"backwards":for(e=null,i=t.child,t.child=null;i!==null;){if(n=i.alternate,n!==null&&ds(n)===null){t.child=i;break}n=i.sibling,i.sibling=e,e=i,i=n}gf(t,!0,e,null,o,t.lastEffect);break;case"together":gf(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function ln(n,t,e){if(n!==null&&(t.dependencies=n.dependencies),bo|=t.lanes,(e&t.childLanes)!=0){if(n!==null&&t.child!==n.child)throw Error(F(153));if(t.child!==null){for(n=t.child,e=$n(n,n.pendingProps),t.child=e,e.return=t;n.sibling!==null;)n=n.sibling,e=e.sibling=$n(n,n.pendingProps),e.return=t;e.sibling=null}return t.child}return null}var tv,yf,ev,nv;tv=function(n,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)n.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};yf=function(){};ev=function(n,t,e,r){var i=n.memoizedProps;if(i!==r){n=t.stateNode,fr(We.current);var o=null;switch(e){case"input":i=tu(n,i),r=tu(n,r),o=[];break;case"option":i=ru(n,i),r=ru(n,r),o=[];break;case"select":i=Et({},i,{value:void 0}),r=Et({},r,{value:void 0}),o=[];break;case"textarea":i=iu(n,i),r=iu(n,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=qa)}su(e,r);var a;e=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(e||(e={}),e[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qi.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(e||(e={}),e[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(e||(e={}),e[a]=l[a])}else e||(o||(o=[]),o.push(u,e)),e=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&yt("scroll",n),o||s===l||(o=[])):typeof l=="object"&&l!==null&&l.$$typeof===Zl?l.toString():(o=o||[]).push(u,l))}e&&(o=o||[]).push("style",e);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};nv=function(n,t,e,r){e!==r&&(t.flags|=4)};function jo(n,t){if(!Ve)switch(n.tailMode){case"hidden":t=n.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?n.tail=null:e.sibling=null;break;case"collapsed":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Em(n,t,e){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return re(t.type)&&ns(),null;case 3:return si(),_t(ne),_t(Wt),af(),r=t.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(vs(t)?t.flags|=4:r.hydrate||(t.flags|=256)),yf(t),null;case 5:nf(t);var i=fr(No.current);if(e=t.type,n!==null&&t.stateNode!=null)ev(n,t,e,r,i),n.ref!==t.ref&&(t.flags|=128);else{if(!r){if(t.stateNode===null)throw Error(F(166));return null}if(n=fr(We.current),vs(t)){r=t.stateNode,e=t.type;var o=t.memoizedProps;switch(r[Pn]=t,r[ts]=o,e){case"dialog":yt("cancel",r),yt("close",r);break;case"iframe":case"object":case"embed":yt("load",r);break;case"video":case"audio":for(n=0;n<So.length;n++)yt(So[n],r);break;case"source":yt("error",r);break;case"img":case"image":case"link":yt("error",r),yt("load",r);break;case"details":yt("toggle",r);break;case"input":Yh(r,o),yt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},yt("invalid",r);break;case"textarea":Zh(r,o),yt("invalid",r)}su(e,o),n=null;for(var a in o)o.hasOwnProperty(a)&&(i=o[a],a==="children"?typeof i=="string"?r.textContent!==i&&(n=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(n=["children",""+i]):Qi.hasOwnProperty(a)&&i!=null&&a==="onScroll"&&yt("scroll",r));switch(e){case"input":Fa(r),Hh(r,o,!0);break;case"textarea":Fa(r),Jh(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=qa)}r=n,t.updateQueue=r,r!==null&&(t.flags|=4)}else{switch(a=i.nodeType===9?i:i.ownerDocument,n===ou.html&&(n=qh(e)),n===ou.html?e==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=a.createElement(e,{is:r.is}):(n=a.createElement(e),e==="select"&&(a=n,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):n=a.createElementNS(n,e),n[Pn]=t,n[ts]=r,tv(n,t,!1,!1),t.stateNode=n,a=lu(e,r),e){case"dialog":yt("cancel",n),yt("close",n),i=r;break;case"iframe":case"object":case"embed":yt("load",n),i=r;break;case"video":case"audio":for(i=0;i<So.length;i++)yt(So[i],n);i=r;break;case"source":yt("error",n),i=r;break;case"img":case"image":case"link":yt("error",n),yt("load",n),i=r;break;case"details":yt("toggle",n),i=r;break;case"input":Yh(n,r),i=tu(n,r),yt("invalid",n);break;case"option":i=ru(n,r);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Et({},r,{value:void 0}),yt("invalid",n);break;case"textarea":Zh(n,r),i=iu(n,r),yt("invalid",n);break;default:i=r}su(e,i);var s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?ep(n,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Qh(n,l)):o==="children"?typeof l=="string"?(e!=="textarea"||l!=="")&&oo(n,l):typeof l=="number"&&oo(n,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Qi.hasOwnProperty(o)?l!=null&&o==="onScroll"&&yt("scroll",n):l!=null&&zl(n,o,l,a))}switch(e){case"input":Fa(n),Hh(n,r,!1);break;case"textarea":Fa(n),Jh(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Sn(r.value));break;case"select":n.multiple=!!r.multiple,o=r.value,o!=null?zr(n,!!r.multiple,o,!1):r.defaultValue!=null&&zr(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=qa)}nd(e,r)&&(t.flags|=4)}t.ref!==null&&(t.flags|=128)}return null;case 6:if(n&&t.stateNode!=null)nv(n,t,n.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));e=fr(No.current),fr(We.current),vs(t)?(r=t.stateNode,e=t.memoizedProps,r[Pn]=t,r.nodeValue!==e&&(t.flags|=4)):(r=(e.nodeType===9?e:e.ownerDocument).createTextNode(r),r[Pn]=t,t.stateNode=r)}return null;case 13:return _t(It),r=t.memoizedState,(t.flags&64)!=0?(t.lanes=e,t):(r=r!==null,e=!1,n===null?t.memoizedProps.fallback!==void 0&&vs(t):e=n.memoizedState!==null,r&&!e&&(t.mode&2)!=0&&(n===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(It.current&1)!=0?Gt===0&&(Gt=3):((Gt===0||Gt===3)&&(Gt=4),Qt===null||(bo&134217727)==0&&(fi&134217727)==0||hi(Qt,Xt))),(r||e)&&(t.flags|=4),null);case 4:return si(),yf(t),n===null&&Jp(t.stateNode.containerInfo),null;case 10:return qu(t),null;case 17:return re(t.type)&&ns(),null;case 19:if(_t(It),r=t.memoizedState,r===null)return null;if(o=(t.flags&64)!=0,a=r.rendering,a===null)if(o)jo(r,!1);else{if(Gt!==0||n!==null&&(n.flags&64)!=0)for(n=t.child;n!==null;){if(a=ds(n),a!==null){for(t.flags|=64,jo(r,!1),o=a.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),r.lastEffect===null&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=e,e=t.child;e!==null;)o=e,n=r,o.flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,a=o.alternate,a===null?(o.childLanes=0,o.lanes=n,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,n=a.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e=e.sibling;return Ct(It,It.current&1|2),t.child}n=n.sibling}r.tail!==null&&Vt()>Rf&&(t.flags|=64,o=!0,jo(r,!1),t.lanes=33554432)}else{if(!o)if(n=ds(a),n!==null){if(t.flags|=64,o=!0,e=n.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),jo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Ve)return t=t.lastEffect=r.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*Vt()-r.renderingStartTime>Rf&&e!==1073741824&&(t.flags|=64,o=!0,jo(r,!1),t.lanes=33554432);r.isBackwards?(a.sibling=t.child,t.child=a):(e=r.last,e!==null?e.sibling=a:t.child=a,r.last=a)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Vt(),e.sibling=null,t=It.current,Ct(It,o?t&1|2:t&1),e):null;case 23:case 24:return Df(),n!==null&&n.memoizedState!==null!=(t.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(t.flags|=4),null}throw Error(F(156,t.tag))}function wm(n){switch(n.tag){case 1:re(n.type)&&ns();var t=n.flags;return t&4096?(n.flags=t&-4097|64,n):null;case 3:if(si(),_t(ne),_t(Wt),af(),t=n.flags,(t&64)!=0)throw Error(F(285));return n.flags=t&-4097|64,n;case 5:return nf(n),null;case 13:return _t(It),t=n.flags,t&4096?(n.flags=t&-4097|64,n):null;case 19:return _t(It),null;case 4:return si(),null;case 10:return qu(n),null;case 23:case 24:return Df(),null;default:return null}}function _f(n,t){try{var e="",r=t;do e+=e0(r),r=r.return;while(r);var i=e}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:n,source:t,stack:i}}function mf(n,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var xm=typeof WeakMap=="function"?WeakMap:Map;function rv(n,t,e){e=Dn(-1,e),e.tag=3,e.payload={element:null};var r=t.value;return e.callback=function(){Ss||(Ss=!0,Af=r),mf(n,t)},e}function iv(n,t,e){e=Dn(-1,e),e.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;e.payload=function(){return mf(n,t),r(i)}}var o=n.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){typeof r!="function"&&(Xe===null?Xe=new Set([this]):Xe.add(this),mf(n,t));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),e}var Tm=typeof WeakSet=="function"?WeakSet:Set;function ov(n){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(e){Gn(n,e)}else t.current=null}function Sm(n,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.flags&256&&n!==null){var e=n.memoizedProps,r=n.memoizedState;n=t.stateNode,t=n.getSnapshotBeforeUpdate(t.elementType===t.type?e:Pe(t.type,e),r),n.__reactInternalSnapshotBeforeUpdate=t}return;case 3:t.flags&256&&$u(t.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(F(163))}function Om(n,t,e){switch(e.tag){case 0:case 11:case 15:case 22:if(t=e.updateQueue,t=t!==null?t.lastEffect:null,t!==null){n=t=t.next;do{if((n.tag&3)==3){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}if(t=e.updateQueue,t=t!==null?t.lastEffect:null,t!==null){n=t=t.next;do{var i=n;r=i.next,i=i.tag,(i&4)!=0&&(i&1)!=0&&(Ev(e,n),Mm(e,n)),n=r}while(n!==t)}return;case 1:n=e.stateNode,e.flags&4&&(t===null?n.componentDidMount():(r=e.elementType===e.type?t.memoizedProps:Pe(e.type,t.memoizedProps),n.componentDidUpdate(r,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate))),t=e.updateQueue,t!==null&&wd(e,t,n);return;case 3:if(t=e.updateQueue,t!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wd(e,t,n)}return;case 5:n=e.stateNode,t===null&&e.flags&4&&nd(e.type,e.memoizedProps)&&n.focus();return;case 6:return;case 4:return;case 12:return;case 13:e.memoizedState===null&&(e=e.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&yp(e))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(F(163))}function av(n,t){for(var e=n;;){if(e.tag===5){var r=e.stateNode;if(t)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=e.stateNode;var i=e.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=tp("display",i)}}else if(e.tag===6)e.stateNode.nodeValue=t?"":e.memoizedProps;else if((e.tag!==23&&e.tag!==24||e.memoizedState===null||e===n)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return;e=e.return}e.sibling.return=e.return,e=e.sibling}}function sv(n,t){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(Vu,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var e=n=n.next;do{var r=e,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!=0)Ev(t,e);else{r=t;try{i()}catch(o){Gn(r,o)}}e=e.next}while(e!==n)}break;case 1:if(ov(t),n=t.stateNode,typeof n.componentWillUnmount=="function")try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(o){Gn(t,o)}break;case 5:ov(t);break;case 4:cv(n,t)}}function lv(n){n.alternate=null,n.child=null,n.dependencies=null,n.firstEffect=null,n.lastEffect=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.return=null,n.updateQueue=null}function uv(n){return n.tag===5||n.tag===3||n.tag===4}function fv(n){t:{for(var t=n.return;t!==null;){if(uv(t))break t;t=t.return}throw Error(F(160))}var e=t;switch(t=e.stateNode,e.tag){case 5:var r=!1;break;case 3:t=t.containerInfo,r=!0;break;case 4:t=t.containerInfo,r=!0;break;default:throw Error(F(161))}e.flags&16&&(oo(t,""),e.flags&=-17);t:e:for(e=n;;){for(;e.sibling===null;){if(e.return===null||uv(e.return)){e=null;break t}e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2)){e=e.stateNode;break t}}r?Ef(n,e,t):wf(n,e,t)}function Ef(n,t,e){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,t?e.nodeType===8?e.parentNode.insertBefore(n,t):e.insertBefore(n,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(n,e)):(t=e,t.appendChild(n)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=qa));else if(r!==4&&(n=n.child,n!==null))for(Ef(n,t,e),n=n.sibling;n!==null;)Ef(n,t,e),n=n.sibling}function wf(n,t,e){var r=n.tag,i=r===5||r===6;if(i)n=i?n.stateNode:n.stateNode.instance,t?e.insertBefore(n,t):e.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(wf(n,t,e),n=n.sibling;n!==null;)wf(n,t,e),n=n.sibling}function cv(n,t){for(var e=t,r=!1,i,o;;){if(!r){r=e.return;t:for(;;){if(r===null)throw Error(F(160));switch(i=r.stateNode,r.tag){case 5:o=!1;break t;case 3:i=i.containerInfo,o=!0;break t;case 4:i=i.containerInfo,o=!0;break t}r=r.return}r=!0}if(e.tag===5||e.tag===6){t:for(var a=n,s=e,l=s;;)if(sv(a,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===s)break t;for(;l.sibling===null;){if(l.return===null||l.return===s)break t;l=l.return}l.sibling.return=l.return,l=l.sibling}o?(a=i,s=e.stateNode,a.nodeType===8?a.parentNode.removeChild(s):a.removeChild(s)):i.removeChild(e.stateNode)}else if(e.tag===4){if(e.child!==null){i=e.stateNode.containerInfo,o=!0,e.child.return=e,e=e.child;continue}}else if(sv(n,e),e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return,e.tag===4&&(r=!1)}e.sibling.return=e.return,e=e.sibling}}function xf(n,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var e=t.updateQueue;if(e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do(r.tag&3)==3&&(n=r.destroy,r.destroy=void 0,n!==void 0&&n()),r=r.next;while(r!==e)}return;case 1:return;case 5:if(e=t.stateNode,e!=null){r=t.memoizedProps;var i=n!==null?n.memoizedProps:r;n=t.type;var o=t.updateQueue;if(t.updateQueue=null,o!==null){for(e[ts]=r,n==="input"&&r.type==="radio"&&r.name!=null&&Xh(e,r),lu(n,i),t=lu(n,r),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];a==="style"?ep(e,s):a==="dangerouslySetInnerHTML"?Qh(e,s):a==="children"?oo(e,s):zl(e,a,s,t)}switch(n){case"input":eu(e,r);break;case"textarea":Kh(e,r);break;case"select":n=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!r.multiple,o=r.value,o!=null?zr(e,!!r.multiple,o,!1):n!==!!r.multiple&&(r.defaultValue!=null?zr(e,!!r.multiple,r.defaultValue,!0):zr(e,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(F(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:e=t.stateNode,e.hydrate&&(e.hydrate=!1,yp(e.containerInfo));return;case 12:return;case 13:t.memoizedState!==null&&(If=Vt(),av(t.child,!0)),hv(t);return;case 19:hv(t);return;case 17:return;case 23:case 24:av(t,t.memoizedState!==null);return}throw Error(F(163))}function hv(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var e=n.stateNode;e===null&&(e=n.stateNode=new Tm),t.forEach(function(r){var i=km.bind(null,n,r);e.has(r)||(e.add(r),r.then(i,i))})}}function Cm(n,t){return n!==null&&(n=n.memoizedState,n===null||n.dehydrated!==null)?(t=t.memoizedState,t!==null&&t.dehydrated===null):!1}var Im=Math.ceil,xs=nr.ReactCurrentDispatcher,Tf=nr.ReactCurrentOwner,Q=0,Qt=null,Mt=null,Xt=0,pr=0,Sf=Ln(0),Gt=0,Ts=null,ui=0,bo=0,fi=0,Of=0,Cf=null,If=0,Rf=1/0;function ci(){Rf=Vt()+500}var z=null,Ss=!1,Af=null,Xe=null,Un=!1,Go=null,$o=90,Pf=[],Lf=[],un=null,zo=0,Nf=null,Os=-1,fn=0,Cs=0,Wo=null,Is=!1;function le(){return(Q&48)!=0?Vt():Os!==-1?Os:Os=Vt()}function Bn(n){if(n=n.mode,(n&2)==0)return 1;if((n&4)==0)return ii()===99?1:2;if(fn===0&&(fn=ui),dm.transition!==0){Cs!==0&&(Cs=Cf!==null?Cf.pendingLanes:0),n=fn;var t=4186112&~Cs;return t&=-t,t===0&&(n=4186112&~n,t=n&-n,t===0&&(t=8192)),t}return n=ii(),(Q&4)!=0&&n===98?n=za(12,fn):(n=y0(n),n=za(n,fn)),n}function jn(n,t,e){if(50<zo)throw zo=0,Nf=null,Error(F(185));if(n=Rs(n,t),n===null)return null;Wa(n,t,e),n===Qt&&(fi|=t,Gt===4&&hi(n,Xt));var r=ii();t===1?(Q&8)!=0&&(Q&48)==0?Mf(n):(me(n,e),Q===0&&(ci(),ze())):((Q&4)==0||r!==98&&r!==99||(un===null?un=new Set([n]):un.add(n)),me(n,e)),Cf=n}function Rs(n,t){n.lanes|=t;var e=n.alternate;for(e!==null&&(e.lanes|=t),e=n,n=n.return;n!==null;)n.childLanes|=t,e=n.alternate,e!==null&&(e.childLanes|=t),e=n,n=n.return;return e.tag===3?e.stateNode:null}function me(n,t){for(var e=n.callbackNode,r=n.suspendedLanes,i=n.pingedLanes,o=n.expirationTimes,a=n.pendingLanes;0<a;){var s=31-Rn(a),l=1<<s,u=o[s];if(u===-1){if((l&r)==0||(l&i)!=0){u=t,Xr(l);var f=dt;o[s]=10<=f?u+250:6<=f?u+5e3:-1}}else u<=t&&(n.expiredLanes|=l);a&=~l}if(r=go(n,n===Qt?Xt:0),t=dt,r===0)e!==null&&(e!==Zu&&Xu(e),n.callbackNode=null,n.callbackPriority=0);else{if(e!==null){if(n.callbackPriority===t)return;e!==Zu&&Xu(e)}t===15?(e=Mf.bind(null,n),an===null?(an=[e],os=Yu(is,yd)):an.push(e),e=Zu):t===14?e=Io(99,Mf.bind(null,n)):(e=_0(t),e=Io(e,pv.bind(null,n))),n.callbackPriority=t,n.callbackNode=e}}function pv(n){if(Os=-1,Cs=fn=0,(Q&48)!=0)throw Error(F(327));var t=n.callbackNode;if(bn()&&n.callbackNode!==t)return null;var e=go(n,n===Qt?Xt:0);if(e===0)return null;var r=e,i=Q;Q|=16;var o=yv();(Qt!==n||Xt!==r)&&(ci(),pi(n,r));do try{Pm();break}catch(s){gv(n,s)}while(1);if(Ju(),xs.current=o,Q=i,Mt!==null?r=0:(Qt=null,Xt=0,r=Gt),(ui&fi)!=0)pi(n,0);else if(r!==0){if(r===2&&(Q|=64,n.hydrate&&(n.hydrate=!1,$u(n.containerInfo)),e=Sp(n),e!==0&&(r=Vo(n,e))),r===1)throw t=Ts,pi(n,0),hi(n,e),me(n,Vt()),t;switch(n.finishedWork=n.current.alternate,n.finishedLanes=e,r){case 0:case 1:throw Error(F(345));case 2:dr(n);break;case 3:if(hi(n,e),(e&62914560)===e&&(r=If+500-Vt(),10<r)){if(go(n,0)!==0)break;if(i=n.suspendedLanes,(i&e)!==e){le(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=rd(dr.bind(null,n),r);break}dr(n);break;case 4:if(hi(n,e),(e&4186112)===e)break;for(r=n.eventTimes,i=-1;0<e;){var a=31-Rn(e);o=1<<a,a=r[a],a>i&&(i=a),e&=~o}if(e=i,e=Vt()-e,e=(120>e?120:480>e?480:1080>e?1080:1920>e?1920:3e3>e?3e3:4320>e?4320:1960*Im(e/1960))-e,10<e){n.timeoutHandle=rd(dr.bind(null,n),e);break}dr(n);break;case 5:dr(n);break;default:throw Error(F(329))}}return me(n,Vt()),n.callbackNode===t?pv.bind(null,n):null}function hi(n,t){for(t&=~Of,t&=~fi,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var e=31-Rn(t),r=1<<e;n[e]=-1,t&=~r}}function Mf(n){if((Q&48)!=0)throw Error(F(327));if(bn(),n===Qt&&(n.expiredLanes&Xt)!=0){var t=Xt,e=Vo(n,t);(ui&fi)!=0&&(t=go(n,t),e=Vo(n,t))}else t=go(n,0),e=Vo(n,t);if(n.tag!==0&&e===2&&(Q|=64,n.hydrate&&(n.hydrate=!1,$u(n.containerInfo)),t=Sp(n),t!==0&&(e=Vo(n,t))),e===1)throw e=Ts,pi(n,0),hi(n,t),me(n,Vt()),e;return n.finishedWork=n.current.alternate,n.finishedLanes=t,dr(n),me(n,Vt()),null}function Rm(){if(un!==null){var n=un;un=null,n.forEach(function(t){t.expiredLanes|=24&t.pendingLanes,me(t,Vt())})}ze()}function dv(n,t){var e=Q;Q|=1;try{return n(t)}finally{Q=e,Q===0&&(ci(),ze())}}function vv(n,t){var e=Q;Q&=-2,Q|=8;try{return n(t)}finally{Q=e,Q===0&&(ci(),ze())}}function As(n,t){Ct(Sf,pr),pr|=t,ui|=t}function Df(){pr=Sf.current,_t(Sf)}function pi(n,t){n.finishedWork=null,n.finishedLanes=0;var e=n.timeoutHandle;if(e!==-1&&(n.timeoutHandle=-1,lm(e)),Mt!==null)for(e=Mt.return;e!==null;){var r=e;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&ns();break;case 3:si(),_t(ne),_t(Wt),af();break;case 5:nf(r);break;case 4:si();break;case 13:_t(It);break;case 19:_t(It);break;case 10:qu(r);break;case 23:case 24:Df()}e=e.return}Qt=n,Mt=$n(n.current,null),Xt=pr=ui=t,Gt=0,Ts=null,Of=fi=bo=0}function gv(n,t){do{var e=Mt;try{if(Ju(),Mo.current=Es,gs){for(var r=Pt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}gs=!1}if(Do=0,bt=Yt=Pt=null,Fo=!1,Tf.current=null,e===null||e.return===null){Gt=1,Ts=t,Mt=null;break}t:{var o=n,a=e.return,s=e,l=t;if(t=Xt,s.flags|=2048,s.firstEffect=s.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l;if((s.mode&2)==0){var f=s.alternate;f?(s.updateQueue=f.updateQueue,s.memoizedState=f.memoizedState,s.lanes=f.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=(It.current&1)!=0,c=a;do{var v;if(v=c.tag===13){var g=c.memoizedState;if(g!==null)v=g.dehydrated!==null;else{var T=c.memoizedProps;v=T.fallback===void 0?!1:T.unstable_avoidThisFallback!==!0?!0:!h}}if(v){var _=c.updateQueue;if(_===null){var y=new Set;y.add(u),c.updateQueue=y}else _.add(u);if((c.mode&2)==0){if(c.flags|=64,s.flags|=16384,s.flags&=-2981,s.tag===1)if(s.alternate===null)s.tag=17;else{var m=Dn(-1,1);m.tag=2,Fn(s,m)}s.lanes|=1;break t}l=void 0,s=t;var x=o.pingCache;if(x===null?(x=o.pingCache=new xm,l=new Set,x.set(u,l)):(l=x.get(u),l===void 0&&(l=new Set,x.set(u,l))),!l.has(s)){l.add(s);var E=Fm.bind(null,o,u,s);u.then(E,E)}c.flags|=4096,c.lanes=t;break t}c=c.return}while(c!==null);l=Error(($r(s.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Gt!==5&&(Gt=2),l=_f(l,s),c=a;do{switch(c.tag){case 3:o=l,c.flags|=4096,t&=-t,c.lanes|=t;var C=rv(c,o,t);Ed(c,C);break t;case 1:o=l;var I=c.type,A=c.stateNode;if((c.flags&64)==0&&(typeof I.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Xe===null||!Xe.has(A)))){c.flags|=4096,t&=-t,c.lanes|=t;var L=iv(c,o,t);Ed(c,L);break t}}c=c.return}while(c!==null)}mv(e)}catch(P){t=P,Mt===e&&e!==null&&(Mt=e=e.return);continue}break}while(1)}function yv(){var n=xs.current;return xs.current=Es,n===null?Es:n}function Vo(n,t){var e=Q;Q|=16;var r=yv();Qt===n&&Xt===t||pi(n,t);do try{Am();break}catch(i){gv(n,i)}while(1);if(Ju(),Q=e,xs.current=r,Mt!==null)throw Error(F(261));return Qt=null,Xt=0,Gt}function Am(){for(;Mt!==null;)_v(Mt)}function Pm(){for(;Mt!==null&&!cm();)_v(Mt)}function _v(n){var t=xv(n.alternate,n,pr);n.memoizedProps=n.pendingProps,t===null?mv(n):Mt=t,Tf.current=null}function mv(n){var t=n;do{var e=t.alternate;if(n=t.return,(t.flags&2048)==0){if(e=Em(e,t,pr),e!==null){Mt=e;return}if(e=t,e.tag!==24&&e.tag!==23||e.memoizedState===null||(pr&1073741824)!=0||(e.mode&4)==0){for(var r=0,i=e.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;e.childLanes=r}n!==null&&(n.flags&2048)==0&&(n.firstEffect===null&&(n.firstEffect=t.firstEffect),t.lastEffect!==null&&(n.lastEffect!==null&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.flags&&(n.lastEffect!==null?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t))}else{if(e=wm(t),e!==null){e.flags&=2047,Mt=e;return}n!==null&&(n.firstEffect=n.lastEffect=null,n.flags|=2048)}if(t=t.sibling,t!==null){Mt=t;return}Mt=t=n}while(t!==null);Gt===0&&(Gt=5)}function dr(n){var t=ii();return ur(99,Lm.bind(null,n,t)),null}function Lm(n,t){do bn();while(Go!==null);if((Q&48)!=0)throw Error(F(327));var e=n.finishedWork;if(e===null)return null;if(n.finishedWork=null,n.finishedLanes=0,e===n.current)throw Error(F(177));n.callbackNode=null;var r=e.lanes|e.childLanes,i=r,o=n.pendingLanes&~i;n.pendingLanes=i,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=i,n.mutableReadLanes&=i,n.entangledLanes&=i,i=n.entanglements;for(var a=n.eventTimes,s=n.expirationTimes;0<o;){var l=31-Rn(o),u=1<<l;i[l]=0,a[l]=-1,s[l]=-1,o&=~u}if(un!==null&&(r&24)==0&&un.has(n)&&un.delete(n),n===Qt&&(Mt=Qt=null,Xt=0),1<e.flags?e.lastEffect!==null?(e.lastEffect.nextEffect=e,r=e.firstEffect):r=e:r=e.firstEffect,r!==null){if(i=Q,Q|=32,Tf.current=null,ju=Va,a=Wp(),Fu(a)){if("selectionStart"in a)s={start:a.selectionStart,end:a.selectionEnd};else t:if(s=(s=a.ownerDocument)&&s.defaultView||window,(u=s.getSelection&&s.getSelection())&&u.rangeCount!==0){s=u.anchorNode,o=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{s.nodeType,l.nodeType}catch{s=null;break t}var f=0,h=-1,c=-1,v=0,g=0,T=a,_=null;e:for(;;){for(var y;T!==s||o!==0&&T.nodeType!==3||(h=f+o),T!==l||u!==0&&T.nodeType!==3||(c=f+u),T.nodeType===3&&(f+=T.nodeValue.length),(y=T.firstChild)!==null;)_=T,T=y;for(;;){if(T===a)break e;if(_===s&&++v===o&&(h=f),_===l&&++g===u&&(c=f),(y=T.nextSibling)!==null)break;T=_,_=T.parentNode}T=y}s=h===-1||c===-1?null:{start:h,end:c}}else s=null;s=s||{start:0,end:0}}else s=null;bu={focusedElem:a,selectionRange:s},Va=!1,Wo=null,Is=!1,z=r;do try{Nm()}catch(P){if(z===null)throw Error(F(330));Gn(z,P),z=z.nextEffect}while(z!==null);Wo=null,z=r;do try{for(a=n;z!==null;){var m=z.flags;if(m&16&&oo(z.stateNode,""),m&128){var x=z.alternate;if(x!==null){var E=x.ref;E!==null&&(typeof E=="function"?E(null):E.current=null)}}switch(m&1038){case 2:fv(z),z.flags&=-3;break;case 6:fv(z),z.flags&=-3,xf(z.alternate,z);break;case 1024:z.flags&=-1025;break;case 1028:z.flags&=-1025,xf(z.alternate,z);break;case 4:xf(z.alternate,z);break;case 8:s=z,cv(a,s);var C=s.alternate;lv(s),C!==null&&lv(C)}z=z.nextEffect}}catch(P){if(z===null)throw Error(F(330));Gn(z,P),z=z.nextEffect}while(z!==null);if(E=bu,x=Wp(),m=E.focusedElem,a=E.selectionRange,x!==m&&m&&m.ownerDocument&&zp(m.ownerDocument.documentElement,m)){for(a!==null&&Fu(m)&&(x=a.start,E=a.end,E===void 0&&(E=x),"selectionStart"in m?(m.selectionStart=x,m.selectionEnd=Math.min(E,m.value.length)):(E=(x=m.ownerDocument||document)&&x.defaultView||window,E.getSelection&&(E=E.getSelection(),s=m.textContent.length,C=Math.min(a.start,s),a=a.end===void 0?C:Math.min(a.end,s),!E.extend&&C>a&&(s=a,a=C,C=s),s=$p(m,C),o=$p(m,a),s&&o&&(E.rangeCount!==1||E.anchorNode!==s.node||E.anchorOffset!==s.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&(x=x.createRange(),x.setStart(s.node,s.offset),E.removeAllRanges(),C>a?(E.addRange(x),E.extend(o.node,o.offset)):(x.setEnd(o.node,o.offset),E.addRange(x)))))),x=[],E=m;E=E.parentNode;)E.nodeType===1&&x.push({element:E,left:E.scrollLeft,top:E.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<x.length;m++)E=x[m],E.element.scrollLeft=E.left,E.element.scrollTop=E.top}Va=!!ju,bu=ju=null,n.current=e,z=r;do try{for(m=n;z!==null;){var I=z.flags;if(I&36&&Om(m,z.alternate,z),I&128){x=void 0;var A=z.ref;if(A!==null){var L=z.stateNode;switch(z.tag){case 5:x=L;break;default:x=L}typeof A=="function"?A(x):A.current=x}}z=z.nextEffect}}catch(P){if(z===null)throw Error(F(330));Gn(z,P),z=z.nextEffect}while(z!==null);z=null,pm(),Q=i}else n.current=e;if(Un)Un=!1,Go=n,$o=t;else for(z=r;z!==null;)t=z.nextEffect,z.nextEffect=null,z.flags&8&&(I=z,I.sibling=null,I.stateNode=null),z=t;if(r=n.pendingLanes,r===0&&(Xe=null),r===1?n===Nf?zo++:(zo=0,Nf=n):zo=0,e=e.stateNode,lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(Vu,e,void 0,(e.current.flags&64)==64)}catch{}if(me(n,Vt()),Ss)throw Ss=!1,n=Af,Af=null,n;return(Q&8)!=0||ze(),null}function Nm(){for(;z!==null;){var n=z.alternate;Is||Wo===null||((z.flags&8)!=0?fp(z,Wo)&&(Is=!0):z.tag===13&&Cm(n,z)&&fp(z,Wo)&&(Is=!0));var t=z.flags;(t&256)!=0&&Sm(n,z),(t&512)==0||Un||(Un=!0,Io(97,function(){return bn(),null})),z=z.nextEffect}}function bn(){if($o!==90){var n=97<$o?97:$o;return $o=90,ur(n,Dm)}return!1}function Mm(n,t){Pf.push(t,n),Un||(Un=!0,Io(97,function(){return bn(),null}))}function Ev(n,t){Lf.push(t,n),Un||(Un=!0,Io(97,function(){return bn(),null}))}function Dm(){if(Go===null)return!1;var n=Go;if(Go=null,(Q&48)!=0)throw Error(F(331));var t=Q;Q|=32;var e=Lf;Lf=[];for(var r=0;r<e.length;r+=2){var i=e[r],o=e[r+1],a=i.destroy;if(i.destroy=void 0,typeof a=="function")try{a()}catch(l){if(o===null)throw Error(F(330));Gn(o,l)}}for(e=Pf,Pf=[],r=0;r<e.length;r+=2){i=e[r],o=e[r+1];try{var s=i.create;i.destroy=s()}catch(l){if(o===null)throw Error(F(330));Gn(o,l)}}for(s=n.current.firstEffect;s!==null;)n=s.nextEffect,s.nextEffect=null,s.flags&8&&(s.sibling=null,s.stateNode=null),s=n;return Q=t,ze(),!0}function wv(n,t,e){t=_f(e,t),t=rv(n,t,1),Fn(n,t),t=le(),n=Rs(n,1),n!==null&&(Wa(n,1,t),me(n,t))}function Gn(n,t){if(n.tag===3)wv(n,n,t);else for(var e=n.return;e!==null;){if(e.tag===3){wv(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xe===null||!Xe.has(r))){n=_f(t,n);var i=iv(e,n,1);if(Fn(e,i),i=le(),e=Rs(e,1),e!==null)Wa(e,1,i),me(e,i);else if(typeof r.componentDidCatch=="function"&&(Xe===null||!Xe.has(r)))try{r.componentDidCatch(t,n)}catch{}break}}e=e.return}}function Fm(n,t,e){var r=n.pingCache;r!==null&&r.delete(t),t=le(),n.pingedLanes|=n.suspendedLanes&e,Qt===n&&(Xt&e)===e&&(Gt===4||Gt===3&&(Xt&62914560)===Xt&&500>Vt()-If?pi(n,0):Of|=e),me(n,t)}function km(n,t){var e=n.stateNode;e!==null&&e.delete(t),t=0,t===0&&(t=n.mode,(t&2)==0?t=1:(t&4)==0?t=ii()===99?1:2:(fn===0&&(fn=ui),t=Hr(62914560&~fn),t===0&&(t=4194304))),e=le(),n=Rs(n,t),n!==null&&(Wa(n,t,e),me(n,e))}var xv;xv=function(n,t,e){var r=t.lanes;if(n!==null)if(n.memoizedProps!==t.pendingProps||ne.current)Le=!0;else if((e&r)!=0)Le=(n.flags&16384)!=0;else{switch(Le=!1,t.tag){case 3:Xd(t),of();break;case 5:Rd(t);break;case 1:re(t.type)&&rs(t);break;case 4:ef(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;Ct(as,i._currentValue),i._currentValue=r;break;case 13:if(t.memoizedState!==null)return(e&t.child.childLanes)!=0?Hd(n,t,e):(Ct(It,It.current&1),t=ln(n,t,e),t!==null?t.sibling:null);Ct(It,It.current&1);break;case 19:if(r=(e&t.childLanes)!=0,(n.flags&64)!=0){if(r)return Qd(n,t,e);t.flags|=64}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ct(It,It.current),r)break;return null;case 23:case 24:return t.lanes=0,pf(n,t,e)}return ln(n,t,e)}else Le=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2),n=t.pendingProps,i=ri(t,Wt.current),ai(t,e),i=lf(null,t,r,n,i,e),t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,re(r)){var o=!0;rs(t)}else o=!1;t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Qu(t);var a=r.getDerivedStateFromProps;typeof a=="function"&&us(t,r,a,n),i.updater=fs,t.stateNode=i,i._reactInternals=t,tf(t,r,n,e),t=vf(null,t,r,!0,o,e)}else t.tag=0,oe(null,t,i,e),t=t.child;return t;case 16:i=t.elementType;t:{switch(n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2),n=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=Bm(i),n=Pe(i,n),o){case 0:t=df(null,t,i,n,e);break t;case 1:t=Yd(null,t,i,n,e);break t;case 11:t=$d(null,t,i,n,e);break t;case 14:t=zd(null,t,i,Pe(i.type,n),r,e);break t}throw Error(F(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pe(r,i),df(n,t,r,i,e);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pe(r,i),Yd(n,t,r,i,e);case 3:if(Xd(t),r=t.updateQueue,n===null||r===null)throw Error(F(282));if(r=t.pendingProps,i=t.memoizedState,i=i!==null?i.element:null,md(n,t),Ro(t,r,null,e),r=t.memoizedState.element,r===i)of(),t=ln(n,t,e);else{if(i=t.stateNode,(o=i.hydrate)&&(kn=Qr(t.stateNode.containerInfo.firstChild),sn=t,o=Ve=!0),o){if(n=i.mutableSourceEagerHydrationData,n!=null)for(i=0;i<n.length;i+=2)o=n[i],o._workInProgressVersionPrimary=n[i+1],li.push(o);for(e=Id(t,null,r,e),t.child=e;e;)e.flags=e.flags&-3|1024,e=e.sibling}else oe(n,t,r,e),of();t=t.child}return t;case 5:return Rd(t),n===null&&rf(t),r=t.type,i=t.pendingProps,o=n!==null?n.memoizedProps:null,a=i.children,Gu(r,i)?a=null:o!==null&&Gu(r,o)&&(t.flags|=16),Vd(n,t),oe(n,t,a,e),t.child;case 6:return n===null&&rf(t),null;case 13:return Hd(n,t,e);case 4:return ef(t,t.stateNode.containerInfo),r=t.pendingProps,n===null?t.child=ps(t,null,r,e):oe(n,t,r,e),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pe(r,i),$d(n,t,r,i,e);case 7:return oe(n,t,t.pendingProps,e),t.child;case 8:return oe(n,t,t.pendingProps.children,e),t.child;case 12:return oe(n,t,t.pendingProps.children,e),t.child;case 10:t:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var s=t.type._context;if(Ct(as,s._currentValue),s._currentValue=o,a!==null)if(s=a.value,o=ge(s,o)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(s,o):1073741823)|0,o===0){if(a.children===i.children&&!ne.current){t=ln(n,t,e);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r&&(u.observedBits&o)!=0){s.tag===1&&(u=Dn(-1,e&-e),u.tag=2,Fn(s,u)),s.lanes|=e,u=s.alternate,u!==null&&(u.lanes|=e),_d(s.return,e),l.lanes|=e;break}u=u.next}}else a=s.tag===10&&s.type===t.type?null:s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}oe(n,t,i.children,e),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps,r=o.children,ai(t,e),i=ye(i,o.unstable_observedBits),r=r(i),t.flags|=1,oe(n,t,r,e),t.child;case 14:return i=t.type,o=Pe(i,t.pendingProps),o=Pe(i.type,o),zd(n,t,i,o,r,e);case 15:return Wd(n,t,t.type,t.pendingProps,r,e);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Pe(r,i),n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,re(r)?(n=!0,rs(t)):n=!1,ai(t,e),Sd(t,r,i),tf(t,r,i,e),vf(null,t,r,!0,n,e);case 19:return Qd(n,t,e);case 23:return pf(n,t,e);case 24:return pf(n,t,e)}throw Error(F(156,t.tag))};function Um(n,t,e,r){this.tag=n,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ee(n,t,e,r){return new Um(n,t,e,r)}function Ff(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Bm(n){if(typeof n=="function")return Ff(n)?1:0;if(n!=null){if(n=n.$$typeof,n===La)return 11;if(n===Ma)return 14}return 2}function $n(n,t){var e=n.alternate;return e===null?(e=Ee(n.tag,t,n.key,n.mode),e.elementType=n.elementType,e.type=n.type,e.stateNode=n.stateNode,e.alternate=n,n.alternate=e):(e.pendingProps=t,e.type=n.type,e.flags=0,e.nextEffect=null,e.firstEffect=null,e.lastEffect=null),e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=n.sibling,e.index=n.index,e.ref=n.ref,e}function Ps(n,t,e,r,i,o){var a=2;if(r=n,typeof n=="function")Ff(n)&&(a=1);else if(typeof n=="string")a=5;else t:switch(n){case Tn:return di(e.children,i,o,t);case $h:a=8,i|=16;break;case Wl:a=8,i|=1;break;case eo:return n=Ee(12,e,t,i|8),n.elementType=eo,n.type=eo,n.lanes=o,n;case no:return n=Ee(13,e,t,i),n.type=no,n.elementType=no,n.lanes=o,n;case Na:return n=Ee(19,e,t,i),n.elementType=Na,n.lanes=o,n;case Kl:return kf(e,i,o,t);case Jl:return n=Ee(24,e,t,i),n.elementType=Jl,n.lanes=o,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Vl:a=10;break t;case Yl:a=9;break t;case La:a=11;break t;case Ma:a=14;break t;case Xl:a=16,r=null;break t;case Hl:a=22;break t}throw Error(F(130,n==null?n:typeof n,""))}return t=Ee(a,e,t,i),t.elementType=n,t.type=r,t.lanes=o,t}function di(n,t,e,r){return n=Ee(7,n,r,t),n.lanes=e,n}function kf(n,t,e,r){return n=Ee(23,n,r,t),n.elementType=Kl,n.lanes=e,n}function Uf(n,t,e){return n=Ee(6,n,null,t),n.lanes=e,n}function Bf(n,t,e){return t=Ee(4,n.children!==null?n.children:[],n.key,t),t.lanes=e,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function jm(n,t,e){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=e,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Tu(0),this.expirationTimes=Tu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tu(0),this.mutableSourceEagerHydrationData=null}function bm(n,t,e){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rr,key:r==null?null:""+r,children:n,containerInfo:t,implementation:e}}function Ls(n,t,e,r){var i=t.current,o=le(),a=Bn(i);t:if(e){e=e._reactInternals;e:{if(or(e)!==e||e.tag!==1)throw Error(F(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(re(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(F(171))}if(e.tag===1){var l=e.type;if(re(l)){e=ld(e,l,s);break t}}e=s}else e=Nn;return t.context===null?t.context=e:t.pendingContext=e,t=Dn(o,a),t.payload={element:n},r=r===void 0?null:r,r!==null&&(t.callback=r),Fn(i,t),jn(i,a,o),a}function jf(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Tv(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var e=n.retryLane;n.retryLane=e!==0&&e<t?e:t}}function bf(n,t){Tv(n,t),(n=n.alternate)&&Tv(n,t)}function Gm(){return null}function Gf(n,t,e){var r=e!=null&&e.hydrationOptions!=null&&e.hydrationOptions.mutableSources||null;if(e=new jm(n,t,e!=null&&e.hydrate===!0),t=Ee(3,null,null,t===2?7:t===1?3:0),e.current=t,t.stateNode=e,Qu(t),n[ti]=e.current,Jp(n.nodeType===8?n.parentNode:n),r)for(n=0;n<r.length;n++){t=r[n];var i=t._getVersion;i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=e}Gf.prototype.render=function(n){Ls(n,this._internalRoot,null,null)};Gf.prototype.unmount=function(){var n=this._internalRoot,t=n.containerInfo;Ls(null,n,null,function(){t[ti]=null})};function Yo(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function $m(n,t){if(t||(t=n?n.nodeType===9?n.documentElement:n.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var e;e=n.lastChild;)n.removeChild(e);return new Gf(n,0,t?{hydrate:!0}:void 0)}function Ns(n,t,e,r,i){var o=e._reactRootContainer;if(o){var a=o._internalRoot;if(typeof i=="function"){var s=i;i=function(){var u=jf(a);s.call(u)}}Ls(t,a,n,i)}else{if(o=e._reactRootContainer=$m(e,r),a=o._internalRoot,typeof i=="function"){var l=i;i=function(){var u=jf(a);l.call(u)}}vv(function(){Ls(t,a,n,i)})}return jf(a)}cp=function(n){if(n.tag===13){var t=le();jn(n,4,t),bf(n,4)}};yu=function(n){if(n.tag===13){var t=le();jn(n,67108864,t),bf(n,67108864)}};hp=function(n){if(n.tag===13){var t=le(),e=Bn(n);jn(n,e,t),bf(n,e)}};pp=function(n,t){return t()};fu=function(n,t,e){switch(t){case"input":if(eu(n,e),t=e.name,e.type==="radio"&&t!=null){for(e=n;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var r=e[t];if(r!==n&&r.form===n.form){var i=es(r);if(!i)throw Error(F(90));Vh(r),eu(r,i)}}}break;case"textarea":Kh(n,e);break;case"select":t=e.value,t!=null&&zr(n,!!e.multiple,t,!1)}};cu=dv;op=function(n,t,e,r,i){var o=Q;Q|=4;try{return ur(98,n.bind(null,t,e,r,i))}finally{Q=o,Q===0&&(ci(),ze())}};hu=function(){(Q&49)==0&&(Rm(),bn())};ap=function(n,t){var e=Q;Q|=2;try{return n(t)}finally{Q=e,Q===0&&(ci(),ze())}};function Sv(n,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yo(t))throw Error(F(200));return bm(n,t,null,e)}var zm={Events:[Co,ei,es,rp,ip,bn,{current:!1}]},Xo={findFiberByHostInstance:ar,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Wm={bundleType:Xo.bundleType,version:Xo.version,rendererPackageName:Xo.rendererPackageName,rendererConfig:Xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=up(n),n===null?null:n.stateNode},findFiberByHostInstance:Xo.findFiberByHostInstance||Gm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ms.isDisabled&&Ms.supportsFiber)try{Vu=Ms.inject(Wm),lr=Ms}catch{}}ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zm;ve.createPortal=Sv;ve.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(F(188)):Error(F(268,Object.keys(n)));return n=up(t),n=n===null?null:n.stateNode,n};ve.flushSync=function(n,t){var e=Q;if((e&48)!=0)return n(t);Q|=1;try{if(n)return ur(99,n.bind(null,t))}finally{Q=e,ze()}};ve.hydrate=function(n,t,e){if(!Yo(t))throw Error(F(200));return Ns(null,n,t,!0,e)};ve.render=function(n,t,e){if(!Yo(t))throw Error(F(200));return Ns(null,n,t,!1,e)};ve.unmountComponentAtNode=function(n){if(!Yo(n))throw Error(F(40));return n._reactRootContainer?(vv(function(){Ns(null,null,n,!1,function(){n._reactRootContainer=null,n[ti]=null})}),!0):!1};ve.unstable_batchedUpdates=dv;ve.unstable_createPortal=function(n,t){return Sv(n,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};ve.unstable_renderSubtreeIntoContainer=function(n,t,e,r){if(!Yo(e))throw Error(F(200));if(n==null||n._reactInternals===void 0)throw Error(F(38));return Ns(n,t,e,!1,r)};ve.version="17.0.2";function Ov(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ov)}catch(n){console.error(n)}}Ov(),Fh.exports=ve;var PI=Fh.exports;function Vm(n,t){return t={exports:{}},n(t,t.exports),t.exports}var Ym=Jm,Xm=Qm,Hm=nE,He=[],we=[],Zm=typeof Uint8Array!="undefined"?Uint8Array:Array,$f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var vi=0,Km=$f.length;vi<Km;++vi)He[vi]=$f[vi],we[$f.charCodeAt(vi)]=vi;we["-".charCodeAt(0)]=62;we["_".charCodeAt(0)]=63;function Cv(n){var t=n.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=n.indexOf("=");e===-1&&(e=t);var r=e===t?0:4-e%4;return[e,r]}function Jm(n){var t=Cv(n),e=t[0],r=t[1];return(e+r)*3/4-r}function qm(n,t,e){return(t+e)*3/4-e}function Qm(n){var t,e=Cv(n),r=e[0],i=e[1],o=new Zm(qm(n,r,i)),a=0,s=i>0?r-4:r,l;for(l=0;l<s;l+=4)t=we[n.charCodeAt(l)]<<18|we[n.charCodeAt(l+1)]<<12|we[n.charCodeAt(l+2)]<<6|we[n.charCodeAt(l+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return i===2&&(t=we[n.charCodeAt(l)]<<2|we[n.charCodeAt(l+1)]>>4,o[a++]=t&255),i===1&&(t=we[n.charCodeAt(l)]<<10|we[n.charCodeAt(l+1)]<<4|we[n.charCodeAt(l+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}function tE(n){return He[n>>18&63]+He[n>>12&63]+He[n>>6&63]+He[n&63]}function eE(n,t,e){for(var r,i=[],o=t;o<e;o+=3)r=(n[o]<<16&16711680)+(n[o+1]<<8&65280)+(n[o+2]&255),i.push(tE(r));return i.join("")}function nE(n){for(var t,e=n.length,r=e%3,i=[],o=16383,a=0,s=e-r;a<s;a+=o)i.push(eE(n,a,a+o>s?s:a+o));return r===1?(t=n[e-1],i.push(He[t>>2]+He[t<<4&63]+"==")):r===2&&(t=(n[e-2]<<8)+n[e-1],i.push(He[t>>10]+He[t>>4&63]+He[t<<2&63]+"=")),i.join("")}var zf={byteLength:Ym,toByteArray:Xm,fromByteArray:Hm};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var rE=function(t,e,r,i,o){var a,s,l=o*8-i-1,u=(1<<l)-1,f=u>>1,h=-7,c=r?o-1:0,v=r?-1:1,g=t[e+c];for(c+=v,a=g&(1<<-h)-1,g>>=-h,h+=l;h>0;a=a*256+t[e+c],c+=v,h-=8);for(s=a&(1<<-h)-1,a>>=-h,h+=i;h>0;s=s*256+t[e+c],c+=v,h-=8);if(a===0)a=1-f;else{if(a===u)return s?NaN:(g?-1:1)*(1/0);s=s+Math.pow(2,i),a=a-f}return(g?-1:1)*s*Math.pow(2,a-i)},iE=function(t,e,r,i,o,a){var s,l,u,f=a*8-o-1,h=(1<<f)-1,c=h>>1,v=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=i?0:a-1,T=i?1:-1,_=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,s=h):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+c>=1?e+=v/u:e+=v*Math.pow(2,1-c),e*u>=2&&(s++,u/=2),s+c>=h?(l=0,s=h):s+c>=1?(l=(e*u-1)*Math.pow(2,o),s=s+c):(l=e*Math.pow(2,c-1)*Math.pow(2,o),s=0));o>=8;t[r+g]=l&255,g+=T,l/=256,o-=8);for(s=s<<o|l,f+=o;f>0;t[r+g]=s&255,g+=T,s/=256,f-=8);t[r+g-T]|=_*128},gi={read:rE,write:iE},Ds=Vm(function(n,t){var e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=y,t.INSPECT_MAX_BYTES=50;var r=2147483647;t.kMaxLength=r,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var w=new Uint8Array(1),p={foo:function(){return 42}};return Object.setPrototypeOf(p,Uint8Array.prototype),Object.setPrototypeOf(w,p),w.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.byteOffset}});function o(w){if(w>r)throw new RangeError('The value "'+w+'" is invalid for option "size"');var p=new Uint8Array(w);return Object.setPrototypeOf(p,a.prototype),p}function a(w,p,d){if(typeof w=="number"){if(typeof p=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(w)}return s(w,p,d)}a.poolSize=8192;function s(w,p,d){if(typeof w=="string")return h(w,p);if(ArrayBuffer.isView(w))return v(w);if(w==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(w));if(Jt(w,ArrayBuffer)||w&&Jt(w.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Jt(w,SharedArrayBuffer)||w&&Jt(w.buffer,SharedArrayBuffer)))return g(w,p,d);if(typeof w=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var S=w.valueOf&&w.valueOf();if(S!=null&&S!==w)return a.from(S,p,d);var O=T(w);if(O)return O;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof w[Symbol.toPrimitive]=="function")return a.from(w[Symbol.toPrimitive]("string"),p,d);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+babelHelpers.typeof(w))}a.from=function(w,p,d){return s(w,p,d)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(w){if(typeof w!="number")throw new TypeError('"size" argument must be of type number');if(w<0)throw new RangeError('The value "'+w+'" is invalid for option "size"')}function u(w,p,d){return l(w),w<=0?o(w):p!==void 0?typeof d=="string"?o(w).fill(p,d):o(w).fill(p):o(w)}a.alloc=function(w,p,d){return u(w,p,d)};function f(w){return l(w),o(w<0?0:_(w)|0)}a.allocUnsafe=function(w){return f(w)},a.allocUnsafeSlow=function(w){return f(w)};function h(w,p){if((typeof p!="string"||p==="")&&(p="utf8"),!a.isEncoding(p))throw new TypeError("Unknown encoding: "+p);var d=m(w,p)|0,S=o(d),O=S.write(w,p);return O!==d&&(S=S.slice(0,O)),S}function c(w){for(var p=w.length<0?0:_(w.length)|0,d=o(p),S=0;S<p;S+=1)d[S]=w[S]&255;return d}function v(w){if(Jt(w,Uint8Array)){var p=new Uint8Array(w);return g(p.buffer,p.byteOffset,p.byteLength)}return c(w)}function g(w,p,d){if(p<0||w.byteLength<p)throw new RangeError('"offset" is outside of buffer bounds');if(w.byteLength<p+(d||0))throw new RangeError('"length" is outside of buffer bounds');var S;return p===void 0&&d===void 0?S=new Uint8Array(w):d===void 0?S=new Uint8Array(w,p):S=new Uint8Array(w,p,d),Object.setPrototypeOf(S,a.prototype),S}function T(w){if(a.isBuffer(w)){var p=_(w.length)|0,d=o(p);return d.length===0||w.copy(d,0,0,p),d}if(w.length!==void 0)return typeof w.length!="number"||wn(w.length)?o(0):c(w);if(w.type==="Buffer"&&Array.isArray(w.data))return c(w.data)}function _(w){if(w>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return w|0}function y(w){return+w!=w&&(w=0),a.alloc(+w)}a.isBuffer=function(p){return p!=null&&p._isBuffer===!0&&p!==a.prototype},a.compare=function(p,d){if(Jt(p,Uint8Array)&&(p=a.from(p,p.offset,p.byteLength)),Jt(d,Uint8Array)&&(d=a.from(d,d.offset,d.byteLength)),!a.isBuffer(p)||!a.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(p===d)return 0;for(var S=p.length,O=d.length,M=0,D=Math.min(S,O);M<D;++M)if(p[M]!==d[M]){S=p[M],O=d[M];break}return S<O?-1:O<S?1:0},a.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(p,d){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return a.alloc(0);var S;if(d===void 0)for(d=0,S=0;S<p.length;++S)d+=p[S].length;var O=a.allocUnsafe(d),M=0;for(S=0;S<p.length;++S){var D=p[S];if(Jt(D,Uint8Array))M+D.length>O.length?a.from(D).copy(O,M):Uint8Array.prototype.set.call(O,D,M);else if(a.isBuffer(D))D.copy(O,M);else throw new TypeError('"list" argument must be an Array of Buffers');M+=D.length}return O};function m(w,p){if(a.isBuffer(w))return w.length;if(ArrayBuffer.isView(w)||Jt(w,ArrayBuffer))return w.byteLength;if(typeof w!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+babelHelpers.typeof(w));var d=w.length,S=arguments.length>2&&arguments[2]===!0;if(!S&&d===0)return 0;for(var O=!1;;)switch(p){case"ascii":case"latin1":case"binary":return d;case"utf8":case"utf-8":return gt(w).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d*2;case"hex":return d>>>1;case"base64":return nn(w).length;default:if(O)return S?-1:gt(w).length;p=(""+p).toLowerCase(),O=!0}}a.byteLength=m;function x(w,p,d){var S=!1;if((p===void 0||p<0)&&(p=0),p>this.length||((d===void 0||d>this.length)&&(d=this.length),d<=0)||(d>>>=0,p>>>=0,d<=p))return"";for(w||(w="utf8");;)switch(w){case"hex":return J(this,p,d);case"utf8":case"utf-8":return b(this,p,d);case"ascii":return Y(this,p,d);case"latin1":case"binary":return k(this,p,d);case"base64":return B(this,p,d);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,p,d);default:if(S)throw new TypeError("Unknown encoding: "+w);w=(w+"").toLowerCase(),S=!0}}a.prototype._isBuffer=!0;function E(w,p,d){var S=w[p];w[p]=w[d],w[d]=S}a.prototype.swap16=function(){var p=this.length;if(p%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var d=0;d<p;d+=2)E(this,d,d+1);return this},a.prototype.swap32=function(){var p=this.length;if(p%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var d=0;d<p;d+=4)E(this,d,d+3),E(this,d+1,d+2);return this},a.prototype.swap64=function(){var p=this.length;if(p%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var d=0;d<p;d+=8)E(this,d,d+7),E(this,d+1,d+6),E(this,d+2,d+5),E(this,d+3,d+4);return this},a.prototype.toString=function(){var p=this.length;return p===0?"":arguments.length===0?b(this,0,p):x.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(p){if(!a.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p?!0:a.compare(this,p)===0},a.prototype.inspect=function(){var p="",d=t.INSPECT_MAX_BYTES;return p=this.toString("hex",0,d).replace(/(.{2})/g,"$1 ").trim(),this.length>d&&(p+=" ... "),"<Buffer "+p+">"},e&&(a.prototype[e]=a.prototype.inspect),a.prototype.compare=function(p,d,S,O,M){if(Jt(p,Uint8Array)&&(p=a.from(p,p.offset,p.byteLength)),!a.isBuffer(p))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+babelHelpers.typeof(p));if(d===void 0&&(d=0),S===void 0&&(S=p?p.length:0),O===void 0&&(O=0),M===void 0&&(M=this.length),d<0||S>p.length||O<0||M>this.length)throw new RangeError("out of range index");if(O>=M&&d>=S)return 0;if(O>=M)return-1;if(d>=S)return 1;if(d>>>=0,S>>>=0,O>>>=0,M>>>=0,this===p)return 0;for(var D=M-O,et=S-d,it=Math.min(D,et),ut=this.slice(O,M),Lt=p.slice(d,S),pt=0;pt<it;++pt)if(ut[pt]!==Lt[pt]){D=ut[pt],et=Lt[pt];break}return D<et?-1:et<D?1:0};function C(w,p,d,S,O){if(w.length===0)return-1;if(typeof d=="string"?(S=d,d=0):d>2147483647?d=2147483647:d<-2147483648&&(d=-2147483648),d=+d,wn(d)&&(d=O?0:w.length-1),d<0&&(d=w.length+d),d>=w.length){if(O)return-1;d=w.length-1}else if(d<0)if(O)d=0;else return-1;if(typeof p=="string"&&(p=a.from(p,S)),a.isBuffer(p))return p.length===0?-1:I(w,p,d,S,O);if(typeof p=="number")return p=p&255,typeof Uint8Array.prototype.indexOf=="function"?O?Uint8Array.prototype.indexOf.call(w,p,d):Uint8Array.prototype.lastIndexOf.call(w,p,d):I(w,[p],d,S,O);throw new TypeError("val must be string, number or Buffer")}function I(w,p,d,S,O){var M=1,D=w.length,et=p.length;if(S!==void 0&&(S=String(S).toLowerCase(),S==="ucs2"||S==="ucs-2"||S==="utf16le"||S==="utf-16le")){if(w.length<2||p.length<2)return-1;M=2,D/=2,et/=2,d/=2}function it(Ce,pe){return M===1?Ce[pe]:Ce.readUInt16BE(pe*M)}var ut;if(O){var Lt=-1;for(ut=d;ut<D;ut++)if(it(w,ut)===it(p,Lt===-1?0:ut-Lt)){if(Lt===-1&&(Lt=ut),ut-Lt+1===et)return Lt*M}else Lt!==-1&&(ut-=ut-Lt),Lt=-1}else for(d+et>D&&(d=D-et),ut=d;ut>=0;ut--){for(var pt=!0,be=0;be<et;be++)if(it(w,ut+be)!==it(p,be)){pt=!1;break}if(pt)return ut}return-1}a.prototype.includes=function(p,d,S){return this.indexOf(p,d,S)!==-1},a.prototype.indexOf=function(p,d,S){return C(this,p,d,S,!0)},a.prototype.lastIndexOf=function(p,d,S){return C(this,p,d,S,!1)};function A(w,p,d,S){d=Number(d)||0;var O=w.length-d;S?(S=Number(S),S>O&&(S=O)):S=O;var M=p.length;S>M/2&&(S=M/2);for(var D=0;D<S;++D){var et=parseInt(p.substr(D*2,2),16);if(wn(et))return D;w[d+D]=et}return D}function L(w,p,d,S){return Kt(gt(p,w.length-d),w,d,S)}function P(w,p,d,S){return Kt(St(p),w,d,S)}function U(w,p,d,S){return Kt(nn(p),w,d,S)}function $(w,p,d,S){return Kt(Ot(p,w.length-d),w,d,S)}a.prototype.write=function(p,d,S,O){if(d===void 0)O="utf8",S=this.length,d=0;else if(S===void 0&&typeof d=="string")O=d,S=this.length,d=0;else if(isFinite(d))d=d>>>0,isFinite(S)?(S=S>>>0,O===void 0&&(O="utf8")):(O=S,S=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var M=this.length-d;if((S===void 0||S>M)&&(S=M),p.length>0&&(S<0||d<0)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");O||(O="utf8");for(var D=!1;;)switch(O){case"hex":return A(this,p,d,S);case"utf8":case"utf-8":return L(this,p,d,S);case"ascii":case"latin1":case"binary":return P(this,p,d,S);case"base64":return U(this,p,d,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,p,d,S);default:if(D)throw new TypeError("Unknown encoding: "+O);O=(""+O).toLowerCase(),D=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(w,p,d){return p===0&&d===w.length?zf.fromByteArray(w):zf.fromByteArray(w.slice(p,d))}function b(w,p,d){d=Math.min(w.length,d);for(var S=[],O=p;O<d;){var M=w[O],D=null,et=M>239?4:M>223?3:M>191?2:1;if(O+et<=d){var it,ut,Lt,pt;switch(et){case 1:M<128&&(D=M);break;case 2:it=w[O+1],(it&192)==128&&(pt=(M&31)<<6|it&63,pt>127&&(D=pt));break;case 3:it=w[O+1],ut=w[O+2],(it&192)==128&&(ut&192)==128&&(pt=(M&15)<<12|(it&63)<<6|ut&63,pt>2047&&(pt<55296||pt>57343)&&(D=pt));break;case 4:it=w[O+1],ut=w[O+2],Lt=w[O+3],(it&192)==128&&(ut&192)==128&&(Lt&192)==128&&(pt=(M&15)<<18|(it&63)<<12|(ut&63)<<6|Lt&63,pt>65535&&pt<1114112&&(D=pt))}}D===null?(D=65533,et=1):D>65535&&(D-=65536,S.push(D>>>10&1023|55296),D=56320|D&1023),S.push(D),O+=et}return V(S)}var K=4096;function V(w){var p=w.length;if(p<=K)return String.fromCharCode.apply(String,w);for(var d="",S=0;S<p;)d+=String.fromCharCode.apply(String,w.slice(S,S+=K));return d}function Y(w,p,d){var S="";d=Math.min(w.length,d);for(var O=p;O<d;++O)S+=String.fromCharCode(w[O]&127);return S}function k(w,p,d){var S="";d=Math.min(w.length,d);for(var O=p;O<d;++O)S+=String.fromCharCode(w[O]);return S}function J(w,p,d){var S=w.length;(!p||p<0)&&(p=0),(!d||d<0||d>S)&&(d=S);for(var O="",M=p;M<d;++M)O+=je[w[M]];return O}function j(w,p,d){for(var S=w.slice(p,d),O="",M=0;M<S.length-1;M+=2)O+=String.fromCharCode(S[M]+S[M+1]*256);return O}a.prototype.slice=function(p,d){var S=this.length;p=~~p,d=d===void 0?S:~~d,p<0?(p+=S,p<0&&(p=0)):p>S&&(p=S),d<0?(d+=S,d<0&&(d=0)):d>S&&(d=S),d<p&&(d=p);var O=this.subarray(p,d);return Object.setPrototypeOf(O,a.prototype),O};function G(w,p,d){if(w%1!=0||w<0)throw new RangeError("offset is not uint");if(w+p>d)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(p,d,S){p=p>>>0,d=d>>>0,S||G(p,d,this.length);for(var O=this[p],M=1,D=0;++D<d&&(M*=256);)O+=this[p+D]*M;return O},a.prototype.readUintBE=a.prototype.readUIntBE=function(p,d,S){p=p>>>0,d=d>>>0,S||G(p,d,this.length);for(var O=this[p+--d],M=1;d>0&&(M*=256);)O+=this[p+--d]*M;return O},a.prototype.readUint8=a.prototype.readUInt8=function(p,d){return p=p>>>0,d||G(p,1,this.length),this[p]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(p,d){return p=p>>>0,d||G(p,2,this.length),this[p]|this[p+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(p,d){return p=p>>>0,d||G(p,2,this.length),this[p]<<8|this[p+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(p,d){return p=p>>>0,d||G(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+this[p+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(p,d){return p=p>>>0,d||G(p,4,this.length),this[p]*16777216+(this[p+1]<<16|this[p+2]<<8|this[p+3])},a.prototype.readIntLE=function(p,d,S){p=p>>>0,d=d>>>0,S||G(p,d,this.length);for(var O=this[p],M=1,D=0;++D<d&&(M*=256);)O+=this[p+D]*M;return M*=128,O>=M&&(O-=Math.pow(2,8*d)),O},a.prototype.readIntBE=function(p,d,S){p=p>>>0,d=d>>>0,S||G(p,d,this.length);for(var O=d,M=1,D=this[p+--O];O>0&&(M*=256);)D+=this[p+--O]*M;return M*=128,D>=M&&(D-=Math.pow(2,8*d)),D},a.prototype.readInt8=function(p,d){return p=p>>>0,d||G(p,1,this.length),this[p]&128?(255-this[p]+1)*-1:this[p]},a.prototype.readInt16LE=function(p,d){p=p>>>0,d||G(p,2,this.length);var S=this[p]|this[p+1]<<8;return S&32768?S|4294901760:S},a.prototype.readInt16BE=function(p,d){p=p>>>0,d||G(p,2,this.length);var S=this[p+1]|this[p]<<8;return S&32768?S|4294901760:S},a.prototype.readInt32LE=function(p,d){return p=p>>>0,d||G(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},a.prototype.readInt32BE=function(p,d){return p=p>>>0,d||G(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},a.prototype.readFloatLE=function(p,d){return p=p>>>0,d||G(p,4,this.length),gi.read(this,p,!0,23,4)},a.prototype.readFloatBE=function(p,d){return p=p>>>0,d||G(p,4,this.length),gi.read(this,p,!1,23,4)},a.prototype.readDoubleLE=function(p,d){return p=p>>>0,d||G(p,8,this.length),gi.read(this,p,!0,52,8)},a.prototype.readDoubleBE=function(p,d){return p=p>>>0,d||G(p,8,this.length),gi.read(this,p,!1,52,8)};function N(w,p,d,S,O,M){if(!a.isBuffer(w))throw new TypeError('"buffer" argument must be a Buffer instance');if(p>O||p<M)throw new RangeError('"value" argument is out of bounds');if(d+S>w.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(p,d,S,O){if(p=+p,d=d>>>0,S=S>>>0,!O){var M=Math.pow(2,8*S)-1;N(this,p,d,S,M,0)}var D=1,et=0;for(this[d]=p&255;++et<S&&(D*=256);)this[d+et]=p/D&255;return d+S},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(p,d,S,O){if(p=+p,d=d>>>0,S=S>>>0,!O){var M=Math.pow(2,8*S)-1;N(this,p,d,S,M,0)}var D=S-1,et=1;for(this[d+D]=p&255;--D>=0&&(et*=256);)this[d+D]=p/et&255;return d+S},a.prototype.writeUint8=a.prototype.writeUInt8=function(p,d,S){return p=+p,d=d>>>0,S||N(this,p,d,1,255,0),this[d]=p&255,d+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(p,d,S){return p=+p,d=d>>>0,S||N(this,p,d,2,65535,0),this[d]=p&255,this[d+1]=p>>>8,d+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(p,d,S){return p=+p,d=d>>>0,S||N(this,p,d,2,65535,0),this[d]=p>>>8,this[d+1]=p&255,d+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(p,d,S){return p=+p,d=d>>>0,S||N(this,p,d,4,4294967295,0),this[d+3]=p>>>24,this[d+2]=p>>>16,this[d+1]=p>>>8,this[d]=p&255,d+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(p,d,S){return p=+p,d=d>>>0,S||N(this,p,d,4,4294967295,0),this[d]=p>>>24,this[d+1]=p>>>16,this[d+2]=p>>>8,this[d+3]=p&255,d+4},a.prototype.writeIntLE=function(p,d,S,O){if(p=+p,d=d>>>0,!O){var M=Math.pow(2,8*S-1);N(this,p,d,S,M-1,-M)}var D=0,et=1,it=0;for(this[d]=p&255;++D<S&&(et*=256);)p<0&&it===0&&this[d+D-1]!==0&&(it=1),this[d+D]=(p/et>>0)-it&255;return d+S},a.prototype.writeIntBE=function(p,d,S,O){if(p=+p,d=d>>>0,!O){var M=Math.pow(2,8*S-1);N(this,p,d,S,M-1,-M)}var D=S-1,et=1,it=0;for(this[d+D]=p&255;--D>=0&&(et*=256);)p<0&&it===0&&this[d+D+1]!==0&&(it=1),this[d+D]=(p/et>>0)-it&255;return d+S},a.prototype.writeInt8=function(p,d,S){return p=+p,d=d>>>0,S||N(this,p,d,1,127,-128),p<0&&(p=255+p+1),this[d]=p&255,d+1},a.prototype.writeInt16LE=function(p,d,S){return p=+p,d=d>>>0,S||N(this,p,d,2,32767,-32768),this[d]=p&255,this[d+1]=p>>>8,d+2},a.prototype.writeInt16BE=function(p,d,S){return p=+p,d=d>>>0,S||N(this,p,d,2,32767,-32768),this[d]=p>>>8,this[d+1]=p&255,d+2},a.prototype.writeInt32LE=function(p,d,S){return p=+p,d=d>>>0,S||N(this,p,d,4,2147483647,-2147483648),this[d]=p&255,this[d+1]=p>>>8,this[d+2]=p>>>16,this[d+3]=p>>>24,d+4},a.prototype.writeInt32BE=function(p,d,S){return p=+p,d=d>>>0,S||N(this,p,d,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),this[d]=p>>>24,this[d+1]=p>>>16,this[d+2]=p>>>8,this[d+3]=p&255,d+4};function R(w,p,d,S,O,M){if(d+S>w.length)throw new RangeError("Index out of range");if(d<0)throw new RangeError("Index out of range")}function X(w,p,d,S,O){return p=+p,d=d>>>0,O||R(w,p,d,4),gi.write(w,p,d,S,23,4),d+4}a.prototype.writeFloatLE=function(p,d,S){return X(this,p,d,!0,S)},a.prototype.writeFloatBE=function(p,d,S){return X(this,p,d,!1,S)};function W(w,p,d,S,O){return p=+p,d=d>>>0,O||R(w,p,d,8),gi.write(w,p,d,S,52,8),d+8}a.prototype.writeDoubleLE=function(p,d,S){return W(this,p,d,!0,S)},a.prototype.writeDoubleBE=function(p,d,S){return W(this,p,d,!1,S)},a.prototype.copy=function(p,d,S,O){if(!a.isBuffer(p))throw new TypeError("argument should be a Buffer");if(S||(S=0),!O&&O!==0&&(O=this.length),d>=p.length&&(d=p.length),d||(d=0),O>0&&O<S&&(O=S),O===S||p.length===0||this.length===0)return 0;if(d<0)throw new RangeError("targetStart out of bounds");if(S<0||S>=this.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("sourceEnd out of bounds");O>this.length&&(O=this.length),p.length-d<O-S&&(O=p.length-d+S);var M=O-S;return this===p&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(d,S,O):Uint8Array.prototype.set.call(p,this.subarray(S,O),d),M},a.prototype.fill=function(p,d,S,O){if(typeof p=="string"){if(typeof d=="string"?(O=d,d=0,S=this.length):typeof S=="string"&&(O=S,S=this.length),O!==void 0&&typeof O!="string")throw new TypeError("encoding must be a string");if(typeof O=="string"&&!a.isEncoding(O))throw new TypeError("Unknown encoding: "+O);if(p.length===1){var M=p.charCodeAt(0);(O==="utf8"&&M<128||O==="latin1")&&(p=M)}}else typeof p=="number"?p=p&255:typeof p=="boolean"&&(p=Number(p));if(d<0||this.length<d||this.length<S)throw new RangeError("Out of range index");if(S<=d)return this;d=d>>>0,S=S===void 0?this.length:S>>>0,p||(p=0);var D;if(typeof p=="number")for(D=d;D<S;++D)this[D]=p;else{var et=a.isBuffer(p)?p:a.from(p,O),it=et.length;if(it===0)throw new TypeError('The value "'+p+'" is invalid for argument "value"');for(D=0;D<S-d;++D)this[D+d]=et[D%it]}return this};var rt=/[^+/0-9A-Za-z-_]/g;function xt(w){if(w=w.split("=")[0],w=w.trim().replace(rt,""),w.length<2)return"";for(;w.length%4!=0;)w=w+"=";return w}function gt(w,p){p=p||1/0;for(var d,S=w.length,O=null,M=[],D=0;D<S;++D){if(d=w.charCodeAt(D),d>55295&&d<57344){if(!O){if(d>56319){(p-=3)>-1&&M.push(239,191,189);continue}else if(D+1===S){(p-=3)>-1&&M.push(239,191,189);continue}O=d;continue}if(d<56320){(p-=3)>-1&&M.push(239,191,189),O=d;continue}d=(O-55296<<10|d-56320)+65536}else O&&(p-=3)>-1&&M.push(239,191,189);if(O=null,d<128){if((p-=1)<0)break;M.push(d)}else if(d<2048){if((p-=2)<0)break;M.push(d>>6|192,d&63|128)}else if(d<65536){if((p-=3)<0)break;M.push(d>>12|224,d>>6&63|128,d&63|128)}else if(d<1114112){if((p-=4)<0)break;M.push(d>>18|240,d>>12&63|128,d>>6&63|128,d&63|128)}else throw new Error("Invalid code point")}return M}function St(w){for(var p=[],d=0;d<w.length;++d)p.push(w.charCodeAt(d)&255);return p}function Ot(w,p){for(var d,S,O,M=[],D=0;D<w.length&&!((p-=2)<0);++D)d=w.charCodeAt(D),S=d>>8,O=d%256,M.push(O),M.push(S);return M}function nn(w){return zf.toByteArray(xt(w))}function Kt(w,p,d,S){for(var O=0;O<S&&!(O+d>=p.length||O>=w.length);++O)p[O+d]=w[O];return O}function Jt(w,p){return w instanceof p||w!=null&&w.constructor!=null&&w.constructor.name!=null&&w.constructor.name===p.name}function wn(w){return w!==w}var je=function(){for(var w="0123456789abcdef",p=new Array(256),d=0;d<16;++d)for(var S=d*16,O=0;O<16;++O)p[S+O]=w[d]+w[O];return p}()}),ct=Ds.Buffer;Ds.SlowBuffer;Ds.INSPECT_MAX_BYTES;Ds.kMaxLength;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Wf=function(t,e){return Wf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},Wf(t,e)};function Vf(n,t){Wf(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var vr=function(n){Vf(t,n);function t(e){var r=n.call(this,e)||this;return Object.setPrototypeOf(r,t.prototype),r}return Object.defineProperty(t.prototype,"name",{get:function(){return"BSONError"},enumerable:!1,configurable:!0}),t}(Error),Rt=function(n){Vf(t,n);function t(e){var r=n.call(this,e)||this;return Object.setPrototypeOf(r,t.prototype),r}return Object.defineProperty(t.prototype,"name",{get:function(){return"BSONTypeError"},enumerable:!1,configurable:!0}),t}(TypeError);function Fs(n){return n&&n.Math==Math&&n}function Iv(){return Fs(typeof globalThis=="object"&&globalThis)||Fs(typeof window=="object"&&window)||Fs(typeof self=="object"&&self)||Fs(typeof global=="object"&&global)||Function("return this")()}function oE(){var n=Iv();return typeof n.navigator=="object"&&n.navigator.product==="ReactNative"}var aE=function(t){var e=oE()?"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.":"BSON: No cryptographic implementation for random bytes present, falling back to a less secure implementation.";console.warn(e);for(var r=ct.alloc(t),i=0;i<t;++i)r[i]=Math.floor(Math.random()*256);return r},sE=function(){if(typeof window!="undefined"){var n=window.crypto||window.msCrypto;if(n&&n.getRandomValues)return function(e){return n.getRandomValues(ct.alloc(e))}}if(typeof global!="undefined"&&global.crypto&&global.crypto.getRandomValues)return function(e){return global.crypto.getRandomValues(ct.alloc(e))};var t;try{t=require("crypto").randomBytes}catch{}return t||aE},Rv=sE();function lE(n){return["[object ArrayBuffer]","[object SharedArrayBuffer]"].includes(Object.prototype.toString.call(n))}function Yf(n){return Object.prototype.toString.call(n)==="[object Uint8Array]"}function uE(n){return Object.prototype.toString.call(n)==="[object RegExp]"}function fE(n){return Ho(n)&&Object.prototype.toString.call(n)==="[object Date]"}function Ho(n){return typeof n=="object"&&n!==null}function ks(n,t){var e=!1;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return e||(console.warn(t),e=!0),n.apply(this,i)}return r}function Us(n){if(ArrayBuffer.isView(n))return ct.from(n.buffer,n.byteOffset,n.byteLength);if(lE(n))return ct.from(n);throw new Rt("Must use either Buffer or TypedArray")}var cE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|[0-9a-f]{12}4[0-9a-f]{3}[89ab][0-9a-f]{15})$/i,Av=function(n){return typeof n=="string"&&cE.test(n)},Xf=function(n){if(!Av(n))throw new Rt('UUID string representations must be a 32 or 36 character hex string (dashes excluded/included). Format: "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx" or "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx".');var t=n.replace(/-/g,"");return ct.from(t,"hex")},Pv=function(n,t){return t===void 0&&(t=!0),t?n.toString("hex",0,4)+"-"+n.toString("hex",4,6)+"-"+n.toString("hex",6,8)+"-"+n.toString("hex",8,10)+"-"+n.toString("hex",10,16):n.toString("hex")},Hf=16,Zf=Symbol("id"),Lv=function(){function n(t){if(typeof t=="undefined")this.id=n.generate();else if(t instanceof n)this[Zf]=ct.from(t.id),this.__id=t.__id;else if(ArrayBuffer.isView(t)&&t.byteLength===Hf)this.id=Us(t);else if(typeof t=="string")this.id=Xf(t);else throw new Rt("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).")}return Object.defineProperty(n.prototype,"id",{get:function(){return this[Zf]},set:function(t){this[Zf]=t,n.cacheHexString&&(this.__id=Pv(t))},enumerable:!1,configurable:!0}),n.prototype.toHexString=function(t){if(t===void 0&&(t=!0),n.cacheHexString&&this.__id)return this.__id;var e=Pv(this.id,t);return n.cacheHexString&&(this.__id=e),e},n.prototype.toString=function(t){return t?this.id.toString(t):this.toHexString()},n.prototype.toJSON=function(){return this.toHexString()},n.prototype.equals=function(t){if(!t)return!1;if(t instanceof n)return t.id.equals(this.id);try{return new n(t).id.equals(this.id)}catch{return!1}},n.prototype.toBinary=function(){return new gr(this.id,gr.SUBTYPE_UUID)},n.generate=function(){var t=Rv(Hf);return t[6]=t[6]&15|64,t[8]=t[8]&63|128,ct.from(t)},n.isValid=function(t){if(!t)return!1;if(t instanceof n)return!0;if(typeof t=="string")return Av(t);if(Yf(t)){if(t.length!==Hf)return!1;try{return parseInt(t[6].toString(16)[0],10)===gr.SUBTYPE_UUID}catch{return!1}}return!1},n.createFromHexString=function(t){var e=Xf(t);return new n(e)},n.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},n.prototype.inspect=function(){return'new UUID("'+this.toHexString()+'")'},n}();Object.defineProperty(Lv.prototype,"_bsontype",{value:"UUID"});var gr=function(){function n(t,e){if(!(this instanceof n))return new n(t,e);if(t!=null&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!(t instanceof ArrayBuffer)&&!Array.isArray(t))throw new Rt("Binary can only be constructed from string, Buffer, TypedArray, or Array<number>");this.sub_type=e!=null?e:n.BSON_BINARY_SUBTYPE_DEFAULT,t==null?(this.buffer=ct.alloc(n.BUFFER_SIZE),this.position=0):(typeof t=="string"?this.buffer=ct.from(t,"binary"):Array.isArray(t)?this.buffer=ct.from(t):this.buffer=Us(t),this.position=this.buffer.byteLength)}return n.prototype.put=function(t){if(typeof t=="string"&&t.length!==1)throw new Rt("only accepts single character String");if(typeof t!="number"&&t.length!==1)throw new Rt("only accepts single character Uint8Array or Array");var e;if(typeof t=="string"?e=t.charCodeAt(0):typeof t=="number"?e=t:e=t[0],e<0||e>255)throw new Rt("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.length>this.position)this.buffer[this.position++]=e;else{var r=ct.alloc(n.BUFFER_SIZE+this.buffer.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r,this.buffer[this.position++]=e}},n.prototype.write=function(t,e){if(e=typeof e=="number"?e:this.position,this.buffer.length<e+t.length){var r=ct.alloc(this.buffer.length+t.length);this.buffer.copy(r,0,0,this.buffer.length),this.buffer=r}ArrayBuffer.isView(t)?(this.buffer.set(Us(t),e),this.position=e+t.byteLength>this.position?e+t.length:this.position):typeof t=="string"&&(this.buffer.write(t,e,t.length,"binary"),this.position=e+t.length>this.position?e+t.length:this.position)},n.prototype.read=function(t,e){return e=e&&e>0?e:this.position,this.buffer.slice(t,t+e)},n.prototype.value=function(t){return t=!!t,t&&this.buffer.length===this.position?this.buffer:t?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position)},n.prototype.length=function(){return this.position},n.prototype.toJSON=function(){return this.buffer.toString("base64")},n.prototype.toString=function(t){return this.buffer.toString(t)},n.prototype.toExtendedJSON=function(t){t=t||{};var e=this.buffer.toString("base64"),r=Number(this.sub_type).toString(16);return t.legacy?{$binary:e,$type:r.length===1?"0"+r:r}:{$binary:{base64:e,subType:r.length===1?"0"+r:r}}},n.prototype.toUUID=function(){if(this.sub_type===n.SUBTYPE_UUID)return new Lv(this.buffer.slice(0,this.position));throw new vr('Binary sub_type "'+this.sub_type+'" is not supported for converting to UUID. Only "'+n.SUBTYPE_UUID+'" is currently supported.')},n.fromExtendedJSON=function(t,e){e=e||{};var r,i;if("$binary"in t?e.legacy&&typeof t.$binary=="string"&&"$type"in t?(i=t.$type?parseInt(t.$type,16):0,r=ct.from(t.$binary,"base64")):typeof t.$binary!="string"&&(i=t.$binary.subType?parseInt(t.$binary.subType,16):0,r=ct.from(t.$binary.base64,"base64")):"$uuid"in t&&(i=4,r=Xf(t.$uuid)),!r)throw new Rt("Unexpected Binary Extended JSON format "+JSON.stringify(t));return new n(r,i)},n.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},n.prototype.inspect=function(){var t=this.value(!0);return'new Binary(Buffer.from("'+t.toString("hex")+'", "hex"), '+this.sub_type+")"},n.BSON_BINARY_SUBTYPE_DEFAULT=0,n.BUFFER_SIZE=256,n.SUBTYPE_DEFAULT=0,n.SUBTYPE_FUNCTION=1,n.SUBTYPE_BYTE_ARRAY=2,n.SUBTYPE_UUID_OLD=3,n.SUBTYPE_UUID=4,n.SUBTYPE_MD5=5,n.SUBTYPE_ENCRYPTED=6,n.SUBTYPE_COLUMN=7,n.SUBTYPE_USER_DEFINED=128,n}();Object.defineProperty(gr.prototype,"_bsontype",{value:"Binary"});var Bs=function(){function n(t,e){if(!(this instanceof n))return new n(t,e);this.code=t,this.scope=e}return n.prototype.toJSON=function(){return{code:this.code,scope:this.scope}},n.prototype.toExtendedJSON=function(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}},n.fromExtendedJSON=function(t){return new n(t.$code,t.$scope)},n.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},n.prototype.inspect=function(){var t=this.toJSON();return'new Code("'+t.code+'"'+(t.scope?", "+JSON.stringify(t.scope):"")+")"},n}();Object.defineProperty(Bs.prototype,"_bsontype",{value:"Code"});function hE(n){return Ho(n)&&n.$id!=null&&typeof n.$ref=="string"&&(n.$db==null||typeof n.$db=="string")}var Zo=function(){function n(t,e,r,i){if(!(this instanceof n))return new n(t,e,r,i);var o=t.split(".");o.length===2&&(r=o.shift(),t=o.shift()),this.collection=t,this.oid=e,this.db=r,this.fields=i||{}}return Object.defineProperty(n.prototype,"namespace",{get:function(){return this.collection},set:function(t){this.collection=t},enumerable:!1,configurable:!0}),n.prototype.toJSON=function(){var t=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(t.$db=this.db),t},n.prototype.toExtendedJSON=function(t){t=t||{};var e={$ref:this.collection,$id:this.oid};return t.legacy||(this.db&&(e.$db=this.db),e=Object.assign(e,this.fields)),e},n.fromExtendedJSON=function(t){var e=Object.assign({},t);return delete e.$ref,delete e.$id,delete e.$db,new n(t.$ref,t.$id,t.$db,e)},n.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},n.prototype.inspect=function(){var t=this.oid===void 0||this.oid.toString===void 0?this.oid:this.oid.toString();return'new DBRef("'+this.namespace+'", new ObjectId("'+t+'")'+(this.db?', "'+this.db+'"':"")+")"},n}();Object.defineProperty(Zo.prototype,"_bsontype",{value:"DBRef"});var xe=void 0;try{xe=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}var Nv=1<<16,pE=1<<24,yi=Nv*Nv,Mv=yi*yi,Dv=Mv/2,Fv={},kv={},H=function(){function n(t,e,r){if(t===void 0&&(t=0),!(this instanceof n))return new n(t,e,r);typeof t=="bigint"?Object.assign(this,n.fromBigInt(t,!!e)):typeof t=="string"?Object.assign(this,n.fromString(t,!!e)):(this.low=t|0,this.high=e|0,this.unsigned=!!r),Object.defineProperty(this,"__isLong__",{value:!0,configurable:!1,writable:!1,enumerable:!1})}return n.fromBits=function(t,e,r){return new n(t,e,r)},n.fromInt=function(t,e){var r,i,o;return e?(t>>>=0,(o=0<=t&&t<256)&&(i=kv[t],i)?i:(r=n.fromBits(t,(t|0)<0?-1:0,!0),o&&(kv[t]=r),r)):(t|=0,(o=-128<=t&&t<128)&&(i=Fv[t],i)?i:(r=n.fromBits(t,t<0?-1:0,!1),o&&(Fv[t]=r),r))},n.fromNumber=function(t,e){if(isNaN(t))return e?n.UZERO:n.ZERO;if(e){if(t<0)return n.UZERO;if(t>=Mv)return n.MAX_UNSIGNED_VALUE}else{if(t<=-Dv)return n.MIN_VALUE;if(t+1>=Dv)return n.MAX_VALUE}return t<0?n.fromNumber(-t,e).neg():n.fromBits(t%yi|0,t/yi|0,e)},n.fromBigInt=function(t,e){return n.fromString(t.toString(),e)},n.fromString=function(t,e,r){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return n.ZERO;if(typeof e=="number"?(r=e,e=!1):e=!!e,r=r||10,r<2||36<r)throw RangeError("radix");var i;if((i=t.indexOf("-"))>0)throw Error("interior hyphen");if(i===0)return n.fromString(t.substring(1),e,r).neg();for(var o=n.fromNumber(Math.pow(r,8)),a=n.ZERO,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+l),r);if(l<8){var f=n.fromNumber(Math.pow(r,l));a=a.mul(f).add(n.fromNumber(u))}else a=a.mul(o),a=a.add(n.fromNumber(u))}return a.unsigned=e,a},n.fromBytes=function(t,e,r){return r?n.fromBytesLE(t,e):n.fromBytesBE(t,e)},n.fromBytesLE=function(t,e){return new n(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},n.fromBytesBE=function(t,e){return new n(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)},n.isLong=function(t){return Ho(t)&&t.__isLong__===!0},n.fromValue=function(t,e){return typeof t=="number"?n.fromNumber(t,e):typeof t=="string"?n.fromString(t,e):n.fromBits(t.low,t.high,typeof e=="boolean"?e:t.unsigned)},n.prototype.add=function(t){n.isLong(t)||(t=n.fromValue(t));var e=this.high>>>16,r=this.high&65535,i=this.low>>>16,o=this.low&65535,a=t.high>>>16,s=t.high&65535,l=t.low>>>16,u=t.low&65535,f=0,h=0,c=0,v=0;return v+=o+u,c+=v>>>16,v&=65535,c+=i+l,h+=c>>>16,c&=65535,h+=r+s,f+=h>>>16,h&=65535,f+=e+a,f&=65535,n.fromBits(c<<16|v,f<<16|h,this.unsigned)},n.prototype.and=function(t){return n.isLong(t)||(t=n.fromValue(t)),n.fromBits(this.low&t.low,this.high&t.high,this.unsigned)},n.prototype.compare=function(t){if(n.isLong(t)||(t=n.fromValue(t)),this.eq(t))return 0;var e=this.isNegative(),r=t.isNegative();return e&&!r?-1:!e&&r?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},n.prototype.comp=function(t){return this.compare(t)},n.prototype.divide=function(t){if(n.isLong(t)||(t=n.fromValue(t)),t.isZero())throw Error("division by zero");if(xe){if(!this.unsigned&&this.high===-2147483648&&t.low===-1&&t.high===-1)return this;var e=(this.unsigned?xe.div_u:xe.div_s)(this.low,this.high,t.low,t.high);return n.fromBits(e,xe.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?n.UZERO:n.ZERO;var r,i,o;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return n.UZERO;if(t.gt(this.shru(1)))return n.UONE;o=n.UZERO}else{if(this.eq(n.MIN_VALUE)){if(t.eq(n.ONE)||t.eq(n.NEG_ONE))return n.MIN_VALUE;if(t.eq(n.MIN_VALUE))return n.ONE;var a=this.shr(1);return r=a.div(t).shl(1),r.eq(n.ZERO)?t.isNegative()?n.ONE:n.NEG_ONE:(i=this.sub(t.mul(r)),o=r.add(i.div(t)),o)}else if(t.eq(n.MIN_VALUE))return this.unsigned?n.UZERO:n.ZERO;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();o=n.ZERO}for(i=this;i.gte(t);){r=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));for(var s=Math.ceil(Math.log(r)/Math.LN2),l=s<=48?1:Math.pow(2,s-48),u=n.fromNumber(r),f=u.mul(t);f.isNegative()||f.gt(i);)r-=l,u=n.fromNumber(r,this.unsigned),f=u.mul(t);u.isZero()&&(u=n.ONE),o=o.add(u),i=i.sub(f)}return o},n.prototype.div=function(t){return this.divide(t)},n.prototype.equals=function(t){return n.isLong(t)||(t=n.fromValue(t)),this.unsigned!==t.unsigned&&this.high>>>31==1&&t.high>>>31==1?!1:this.high===t.high&&this.low===t.low},n.prototype.eq=function(t){return this.equals(t)},n.prototype.getHighBits=function(){return this.high},n.prototype.getHighBitsUnsigned=function(){return this.high>>>0},n.prototype.getLowBits=function(){return this.low},n.prototype.getLowBitsUnsigned=function(){return this.low>>>0},n.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.eq(n.MIN_VALUE)?64:this.neg().getNumBitsAbs();var t=this.high!==0?this.high:this.low,e;for(e=31;e>0&&(t&1<<e)==0;e--);return this.high!==0?e+33:e+1},n.prototype.greaterThan=function(t){return this.comp(t)>0},n.prototype.gt=function(t){return this.greaterThan(t)},n.prototype.greaterThanOrEqual=function(t){return this.comp(t)>=0},n.prototype.gte=function(t){return this.greaterThanOrEqual(t)},n.prototype.ge=function(t){return this.greaterThanOrEqual(t)},n.prototype.isEven=function(){return(this.low&1)==0},n.prototype.isNegative=function(){return!this.unsigned&&this.high<0},n.prototype.isOdd=function(){return(this.low&1)==1},n.prototype.isPositive=function(){return this.unsigned||this.high>=0},n.prototype.isZero=function(){return this.high===0&&this.low===0},n.prototype.lessThan=function(t){return this.comp(t)<0},n.prototype.lt=function(t){return this.lessThan(t)},n.prototype.lessThanOrEqual=function(t){return this.comp(t)<=0},n.prototype.lte=function(t){return this.lessThanOrEqual(t)},n.prototype.modulo=function(t){if(n.isLong(t)||(t=n.fromValue(t)),xe){var e=(this.unsigned?xe.rem_u:xe.rem_s)(this.low,this.high,t.low,t.high);return n.fromBits(e,xe.get_high(),this.unsigned)}return this.sub(this.div(t).mul(t))},n.prototype.mod=function(t){return this.modulo(t)},n.prototype.rem=function(t){return this.modulo(t)},n.prototype.multiply=function(t){if(this.isZero())return n.ZERO;if(n.isLong(t)||(t=n.fromValue(t)),xe){var e=xe.mul(this.low,this.high,t.low,t.high);return n.fromBits(e,xe.get_high(),this.unsigned)}if(t.isZero())return n.ZERO;if(this.eq(n.MIN_VALUE))return t.isOdd()?n.MIN_VALUE:n.ZERO;if(t.eq(n.MIN_VALUE))return this.isOdd()?n.MIN_VALUE:n.ZERO;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(n.TWO_PWR_24)&&t.lt(n.TWO_PWR_24))return n.fromNumber(this.toNumber()*t.toNumber(),this.unsigned);var r=this.high>>>16,i=this.high&65535,o=this.low>>>16,a=this.low&65535,s=t.high>>>16,l=t.high&65535,u=t.low>>>16,f=t.low&65535,h=0,c=0,v=0,g=0;return g+=a*f,v+=g>>>16,g&=65535,v+=o*f,c+=v>>>16,v&=65535,v+=a*u,c+=v>>>16,v&=65535,c+=i*f,h+=c>>>16,c&=65535,c+=o*u,h+=c>>>16,c&=65535,c+=a*l,h+=c>>>16,c&=65535,h+=r*f+i*u+o*l+a*s,h&=65535,n.fromBits(v<<16|g,h<<16|c,this.unsigned)},n.prototype.mul=function(t){return this.multiply(t)},n.prototype.negate=function(){return!this.unsigned&&this.eq(n.MIN_VALUE)?n.MIN_VALUE:this.not().add(n.ONE)},n.prototype.neg=function(){return this.negate()},n.prototype.not=function(){return n.fromBits(~this.low,~this.high,this.unsigned)},n.prototype.notEquals=function(t){return!this.equals(t)},n.prototype.neq=function(t){return this.notEquals(t)},n.prototype.ne=function(t){return this.notEquals(t)},n.prototype.or=function(t){return n.isLong(t)||(t=n.fromValue(t)),n.fromBits(this.low|t.low,this.high|t.high,this.unsigned)},n.prototype.shiftLeft=function(t){return n.isLong(t)&&(t=t.toInt()),(t&=63)==0?this:t<32?n.fromBits(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):n.fromBits(0,this.low<<t-32,this.unsigned)},n.prototype.shl=function(t){return this.shiftLeft(t)},n.prototype.shiftRight=function(t){return n.isLong(t)&&(t=t.toInt()),(t&=63)==0?this:t<32?n.fromBits(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):n.fromBits(this.high>>t-32,this.high>=0?0:-1,this.unsigned)},n.prototype.shr=function(t){return this.shiftRight(t)},n.prototype.shiftRightUnsigned=function(t){if(n.isLong(t)&&(t=t.toInt()),t&=63,t===0)return this;var e=this.high;if(t<32){var r=this.low;return n.fromBits(r>>>t|e<<32-t,e>>>t,this.unsigned)}else return t===32?n.fromBits(e,0,this.unsigned):n.fromBits(e>>>t-32,0,this.unsigned)},n.prototype.shr_u=function(t){return this.shiftRightUnsigned(t)},n.prototype.shru=function(t){return this.shiftRightUnsigned(t)},n.prototype.subtract=function(t){return n.isLong(t)||(t=n.fromValue(t)),this.add(t.neg())},n.prototype.sub=function(t){return this.subtract(t)},n.prototype.toInt=function(){return this.unsigned?this.low>>>0:this.low},n.prototype.toNumber=function(){return this.unsigned?(this.high>>>0)*yi+(this.low>>>0):this.high*yi+(this.low>>>0)},n.prototype.toBigInt=function(){return BigInt(this.toString())},n.prototype.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},n.prototype.toBytesLE=function(){var t=this.high,e=this.low;return[e&255,e>>>8&255,e>>>16&255,e>>>24,t&255,t>>>8&255,t>>>16&255,t>>>24]},n.prototype.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,t&255,e>>>24,e>>>16&255,e>>>8&255,e&255]},n.prototype.toSigned=function(){return this.unsigned?n.fromBits(this.low,this.high,!1):this},n.prototype.toString=function(t){if(t=t||10,t<2||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(n.MIN_VALUE)){var e=n.fromNumber(t),r=this.div(e),i=r.mul(e).sub(this);return r.toString(t)+i.toInt().toString(t)}else return"-"+this.neg().toString(t);for(var o=n.fromNumber(Math.pow(t,6),this.unsigned),a=this,s="";;){var l=a.div(o),u=a.sub(l.mul(o)).toInt()>>>0,f=u.toString(t);if(a=l,a.isZero())return f+s;for(;f.length<6;)f="0"+f;s=""+f+s}},n.prototype.toUnsigned=function(){return this.unsigned?this:n.fromBits(this.low,this.high,!0)},n.prototype.xor=function(t){return n.isLong(t)||(t=n.fromValue(t)),n.fromBits(this.low^t.low,this.high^t.high,this.unsigned)},n.prototype.eqz=function(){return this.isZero()},n.prototype.le=function(t){return this.lessThanOrEqual(t)},n.prototype.toExtendedJSON=function(t){return t&&t.relaxed?this.toNumber():{$numberLong:this.toString()}},n.fromExtendedJSON=function(t,e){var r=n.fromString(t.$numberLong);return e&&e.relaxed?r.toNumber():r},n.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},n.prototype.inspect=function(){return'new Long("'+this.toString()+'"'+(this.unsigned?", true":"")+")"},n.TWO_PWR_24=n.fromInt(pE),n.MAX_UNSIGNED_VALUE=n.fromBits(4294967295|0,4294967295|0,!0),n.ZERO=n.fromInt(0),n.UZERO=n.fromInt(0,!0),n.ONE=n.fromInt(1),n.UONE=n.fromInt(1,!0),n.NEG_ONE=n.fromInt(-1),n.MAX_VALUE=n.fromBits(4294967295|0,2147483647|0,!1),n.MIN_VALUE=n.fromBits(0,2147483648|0,!1),n}();Object.defineProperty(H.prototype,"__isLong__",{value:!0});Object.defineProperty(H.prototype,"_bsontype",{value:"Long"});var dE=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,vE=/^(\+|-)?(Infinity|inf)$/i,gE=/^(\+|-)?NaN$/i,Ko=6111,Kf=-6176,Uv=6176,yE=34,Jf=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),Bv=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),jv=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),_E=/^([-+])?(\d+)?$/,mE=31,bv=16383,EE=30,wE=31;function Gv(n){return!isNaN(parseInt(n,10))}function xE(n){var t=H.fromNumber(1e3*1e3*1e3),e=H.fromNumber(0);if(!n.parts[0]&&!n.parts[1]&&!n.parts[2]&&!n.parts[3])return{quotient:n,rem:e};for(var r=0;r<=3;r++)e=e.shiftLeft(32),e=e.add(new H(n.parts[r],0)),n.parts[r]=e.div(t).low,e=e.modulo(t);return{quotient:n,rem:e}}function TE(n,t){if(!n&&!t)return{high:H.fromNumber(0),low:H.fromNumber(0)};var e=n.shiftRightUnsigned(32),r=new H(n.getLowBits(),0),i=t.shiftRightUnsigned(32),o=new H(t.getLowBits(),0),a=e.multiply(i),s=e.multiply(o),l=r.multiply(i),u=r.multiply(o);return a=a.add(s.shiftRightUnsigned(32)),s=new H(s.getLowBits(),0).add(l).add(u.shiftRightUnsigned(32)),a=a.add(s.shiftRightUnsigned(32)),u=s.shiftLeft(32).add(new H(u.getLowBits(),0)),{high:a,low:u}}function SE(n,t){var e=n.high>>>0,r=t.high>>>0;if(e<r)return!0;if(e===r){var i=n.low>>>0,o=t.low>>>0;if(i<o)return!0}return!1}function _i(n,t){throw new Rt('"'+n+'" is not a valid Decimal128 string - '+t)}var qf=function(){function n(t){if(!(this instanceof n))return new n(t);if(typeof t=="string")this.bytes=n.fromString(t).bytes;else if(Yf(t)){if(t.byteLength!==16)throw new Rt("Decimal128 must take a Buffer of 16 bytes");this.bytes=t}else throw new Rt("Decimal128 must take a Buffer or string")}return n.fromString=function(t){var e=!1,r=!1,i=!1,o=0,a=0,s=0,l=0,u=0,f=[0],h=0,c=0,v=0,g=0,T=0,_=0,y=new H(0,0),m=new H(0,0),x=0,E=0;if(t.length>=7e3)throw new Rt(""+t+" not a valid Decimal128 string");var C=t.match(dE),I=t.match(vE),A=t.match(gE);if(!C&&!I&&!A||t.length===0)throw new Rt(""+t+" not a valid Decimal128 string");if(C){var L=C[2],P=C[4],U=C[5],$=C[6];P&&$===void 0&&_i(t,"missing exponent power"),P&&L===void 0&&_i(t,"missing exponent base"),P===void 0&&(U||$)&&_i(t,"missing e before exponent")}if((t[E]==="+"||t[E]==="-")&&(e=t[E++]==="-"),!Gv(t[E])&&t[E]!=="."){if(t[E]==="i"||t[E]==="I")return new n(ct.from(e?Bv:jv));if(t[E]==="N")return new n(ct.from(Jf))}for(;Gv(t[E])||t[E]===".";){if(t[E]==="."){r&&_i(t,"contains multiple periods"),r=!0,E=E+1;continue}h<34&&(t[E]!=="0"||i)&&(i||(u=a),i=!0,f[c++]=parseInt(t[E],10),h=h+1),i&&(s=s+1),r&&(l=l+1),a=a+1,E=E+1}if(r&&!a)throw new Rt(""+t+" not a valid Decimal128 string");if(t[E]==="e"||t[E]==="E"){var B=t.substr(++E).match(_E);if(!B||!B[2])return new n(ct.from(Jf));T=parseInt(B[0],10),E=E+B[0].length}if(t[E])return new n(ct.from(Jf));if(v=0,!h)v=0,g=0,f[0]=0,s=1,h=1,o=0;else if(g=h-1,o=s,o!==1)for(;f[u+o-1]===0;)o=o-1;for(T<=l&&l-T>1<<14?T=Kf:T=T-l;T>Ko;){if(g=g+1,g-v>yE){var b=f.join("");if(b.match(/^0+$/)){T=Ko;break}_i(t,"overflow")}T=T-1}for(;T<Kf||h<s;){if(g===0&&o<h){T=Kf,o=0;break}if(h<s?s=s-1:g=g-1,T<Ko)T=T+1;else{var b=f.join("");if(b.match(/^0+$/)){T=Ko;break}_i(t,"overflow")}}if(g-v+1<o){var K=a;r&&(u=u+1,K=K+1),e&&(u=u+1,K=K+1);var V=parseInt(t[u+g+1],10),Y=0;if(V>=5&&(Y=1,V===5)){for(Y=f[g]%2==1?1:0,_=u+g+2;_<K;_++)if(parseInt(t[_],10)){Y=1;break}}if(Y){for(var k=g;k>=0;k--)if(++f[k]>9&&(f[k]=0,k===0))if(T<Ko)T=T+1,f[k]=1;else return new n(ct.from(e?Bv:jv))}}if(y=H.fromNumber(0),m=H.fromNumber(0),o===0)y=H.fromNumber(0),m=H.fromNumber(0);else if(g-v<17){var k=v;for(m=H.fromNumber(f[k++]),y=new H(0,0);k<=g;k++)m=m.multiply(H.fromNumber(10)),m=m.add(H.fromNumber(f[k]))}else{var k=v;for(y=H.fromNumber(f[k++]);k<=g-17;k++)y=y.multiply(H.fromNumber(10)),y=y.add(H.fromNumber(f[k]));for(m=H.fromNumber(f[k++]);k<=g;k++)m=m.multiply(H.fromNumber(10)),m=m.add(H.fromNumber(f[k]))}var J=TE(y,H.fromString("100000000000000000"));J.low=J.low.add(m),SE(J.low,m)&&(J.high=J.high.add(H.fromNumber(1))),x=T+Uv;var j={low:H.fromNumber(0),high:H.fromNumber(0)};J.high.shiftRightUnsigned(49).and(H.fromNumber(1)).equals(H.fromNumber(1))?(j.high=j.high.or(H.fromNumber(3).shiftLeft(61)),j.high=j.high.or(H.fromNumber(x).and(H.fromNumber(16383).shiftLeft(47))),j.high=j.high.or(J.high.and(H.fromNumber(140737488355327)))):(j.high=j.high.or(H.fromNumber(x&16383).shiftLeft(49)),j.high=j.high.or(J.high.and(H.fromNumber(562949953421311)))),j.low=J.low,e&&(j.high=j.high.or(H.fromString("9223372036854775808")));var G=ct.alloc(16);return E=0,G[E++]=j.low.low&255,G[E++]=j.low.low>>8&255,G[E++]=j.low.low>>16&255,G[E++]=j.low.low>>24&255,G[E++]=j.low.high&255,G[E++]=j.low.high>>8&255,G[E++]=j.low.high>>16&255,G[E++]=j.low.high>>24&255,G[E++]=j.high.low&255,G[E++]=j.high.low>>8&255,G[E++]=j.high.low>>16&255,G[E++]=j.high.low>>24&255,G[E++]=j.high.high&255,G[E++]=j.high.high>>8&255,G[E++]=j.high.high>>16&255,G[E++]=j.high.high>>24&255,new n(G)},n.prototype.toString=function(){for(var t,e=0,r=new Array(36),i=0;i<r.length;i++)r[i]=0;var o=0,a=!1,s,l={parts:[0,0,0,0]},u,f,h=[];o=0;var c=this.bytes,v=c[o++]|c[o++]<<8|c[o++]<<16|c[o++]<<24,g=c[o++]|c[o++]<<8|c[o++]<<16|c[o++]<<24,T=c[o++]|c[o++]<<8|c[o++]<<16|c[o++]<<24,_=c[o++]|c[o++]<<8|c[o++]<<16|c[o++]<<24;o=0;var y={low:new H(v,g),high:new H(T,_)};y.high.lessThan(H.ZERO)&&h.push("-");var m=_>>26&mE;if(m>>3==3){if(m===EE)return h.join("")+"Infinity";if(m===wE)return"NaN";t=_>>15&bv,s=8+(_>>14&1)}else s=_>>14&7,t=_>>17&bv;var x=t-Uv;if(l.parts[0]=(_&16383)+((s&15)<<14),l.parts[1]=T,l.parts[2]=g,l.parts[3]=v,l.parts[0]===0&&l.parts[1]===0&&l.parts[2]===0&&l.parts[3]===0)a=!0;else for(f=3;f>=0;f--){var E=0,C=xE(l);if(l=C.quotient,E=C.rem.low,!!E)for(u=8;u>=0;u--)r[f*9+u]=E%10,E=Math.floor(E/10)}if(a)e=1,r[o]=0;else for(e=36;!r[o];)e=e-1,o=o+1;var I=e-1+x;if(I>=34||I<=-7||x>0){if(e>34)return h.push(""+0),x>0?h.push("E+"+x):x<0&&h.push("E"+x),h.join("");h.push(""+r[o++]),e=e-1,e&&h.push(".");for(var i=0;i<e;i++)h.push(""+r[o++]);h.push("E"),I>0?h.push("+"+I):h.push(""+I)}else if(x>=0)for(var i=0;i<e;i++)h.push(""+r[o++]);else{var A=e+x;if(A>0)for(var i=0;i<A;i++)h.push(""+r[o++]);else h.push("0");for(h.push(".");A++<0;)h.push("0");for(var i=0;i<e-Math.max(A-1,0);i++)h.push(""+r[o++])}return h.join("")},n.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},n.prototype.toExtendedJSON=function(){return{$numberDecimal:this.toString()}},n.fromExtendedJSON=function(t){return n.fromString(t.$numberDecimal)},n.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},n.prototype.inspect=function(){return'new Decimal128("'+this.toString()+'")'},n}();Object.defineProperty(qf.prototype,"_bsontype",{value:"Decimal128"});var js=function(){function n(t){if(!(this instanceof n))return new n(t);t instanceof Number&&(t=t.valueOf()),this.value=+t}return n.prototype.valueOf=function(){return this.value},n.prototype.toJSON=function(){return this.value},n.prototype.toString=function(t){return this.value.toString(t)},n.prototype.toExtendedJSON=function(t){if(t&&(t.legacy||t.relaxed&&isFinite(this.value)))return this.value;if(Object.is(Math.sign(this.value),-0))return{$numberDouble:"-"+this.value.toFixed(1)};var e;return Number.isInteger(this.value)?(e=this.value.toFixed(1),e.length>=13&&(e=this.value.toExponential(13).toUpperCase())):e=this.value.toString(),{$numberDouble:e}},n.fromExtendedJSON=function(t,e){var r=parseFloat(t.$numberDouble);return e&&e.relaxed?r:new n(r)},n.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},n.prototype.inspect=function(){var t=this.toExtendedJSON();return"new Double("+t.$numberDouble+")"},n}();Object.defineProperty(js.prototype,"_bsontype",{value:"Double"});var bs=function(){function n(t){if(!(this instanceof n))return new n(t);t instanceof Number&&(t=t.valueOf()),this.value=+t|0}return n.prototype.valueOf=function(){return this.value},n.prototype.toString=function(t){return this.value.toString(t)},n.prototype.toJSON=function(){return this.value},n.prototype.toExtendedJSON=function(t){return t&&(t.relaxed||t.legacy)?this.value:{$numberInt:this.value.toString()}},n.fromExtendedJSON=function(t,e){return e&&e.relaxed?parseInt(t.$numberInt,10):new n(t.$numberInt)},n.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},n.prototype.inspect=function(){return"new Int32("+this.valueOf()+")"},n}();Object.defineProperty(bs.prototype,"_bsontype",{value:"Int32"});var Qf=function(){function n(){if(!(this instanceof n))return new n}return n.prototype.toExtendedJSON=function(){return{$maxKey:1}},n.fromExtendedJSON=function(){return new n},n.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},n.prototype.inspect=function(){return"new MaxKey()"},n}();Object.defineProperty(Qf.prototype,"_bsontype",{value:"MaxKey"});var tc=function(){function n(){if(!(this instanceof n))return new n}return n.prototype.toExtendedJSON=function(){return{$minKey:1}},n.fromExtendedJSON=function(){return new n},n.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},n.prototype.inspect=function(){return"new MinKey()"},n}();Object.defineProperty(tc.prototype,"_bsontype",{value:"MinKey"});var OE=new RegExp("^[0-9a-fA-F]{24}$"),yr=null,mi=Symbol("id"),ue=function(){function n(t){if(!(this instanceof n))return new n(t);var e;if(typeof t=="object"&&t&&"id"in t){if(typeof t.id!="string"&&!ArrayBuffer.isView(t.id))throw new Rt("Argument passed in must have an id that is of type string or Buffer");"toHexString"in t&&typeof t.toHexString=="function"?e=ct.from(t.toHexString(),"hex"):e=t.id}else e=t;if(e==null||typeof e=="number")this[mi]=n.generate(typeof e=="number"?e:void 0);else if(ArrayBuffer.isView(e)&&e.byteLength===12)this[mi]=Us(e);else if(typeof e=="string")if(e.length===12){var r=ct.from(e);if(r.byteLength===12)this[mi]=r;else throw new Rt("Argument passed in must be a string of 12 bytes")}else if(e.length===24&&OE.test(e))this[mi]=ct.from(e,"hex");else throw new Rt("Argument passed in must be a string of 12 bytes or a string of 24 hex characters");else throw new Rt("Argument passed in does not match the accepted types");n.cacheHexString&&(this.__id=this.id.toString("hex"))}return Object.defineProperty(n.prototype,"id",{get:function(){return this[mi]},set:function(t){this[mi]=t,n.cacheHexString&&(this.__id=t.toString("hex"))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"generationTime",{get:function(){return this.id.readInt32BE(0)},set:function(t){this.id.writeUInt32BE(t,0)},enumerable:!1,configurable:!0}),n.prototype.toHexString=function(){if(n.cacheHexString&&this.__id)return this.__id;var t=this.id.toString("hex");return n.cacheHexString&&!this.__id&&(this.__id=t),t},n.getInc=function(){return n.index=(n.index+1)%16777215},n.generate=function(t){typeof t!="number"&&(t=Math.floor(Date.now()/1e3));var e=n.getInc(),r=ct.alloc(12);return r.writeUInt32BE(t,0),yr===null&&(yr=Rv(5)),r[4]=yr[0],r[5]=yr[1],r[6]=yr[2],r[7]=yr[3],r[8]=yr[4],r[11]=e&255,r[10]=e>>8&255,r[9]=e>>16&255,r},n.prototype.toString=function(t){return t?this.id.toString(t):this.toHexString()},n.prototype.toJSON=function(){return this.toHexString()},n.prototype.equals=function(t){return t==null?!1:t instanceof n?this.toString()===t.toString():typeof t=="string"&&n.isValid(t)&&t.length===12&&Yf(this.id)?t===ct.prototype.toString.call(this.id,"latin1"):typeof t=="string"&&n.isValid(t)&&t.length===24?t.toLowerCase()===this.toHexString():typeof t=="string"&&n.isValid(t)&&t.length===12?ct.from(t).equals(this.id):typeof t=="object"&&"toHexString"in t&&typeof t.toHexString=="function"?t.toHexString()===this.toHexString():!1},n.prototype.getTimestamp=function(){var t=new Date,e=this.id.readUInt32BE(0);return t.setTime(Math.floor(e)*1e3),t},n.createPk=function(){return new n},n.createFromTime=function(t){var e=ct.from([0,0,0,0,0,0,0,0,0,0,0,0]);return e.writeUInt32BE(t,0),new n(e)},n.createFromHexString=function(t){if(typeof t=="undefined"||t!=null&&t.length!==24)throw new Rt("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");return new n(ct.from(t,"hex"))},n.isValid=function(t){if(t==null)return!1;try{return new n(t),!0}catch{return!1}},n.prototype.toExtendedJSON=function(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}},n.fromExtendedJSON=function(t){return new n(t.$oid)},n.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},n.prototype.inspect=function(){return'new ObjectId("'+this.toHexString()+'")'},n.index=Math.floor(Math.random()*16777215),n}();Object.defineProperty(ue.prototype,"generate",{value:ks(function(n){return ue.generate(n)},"Please use the static `ObjectId.generate(time)` instead")});Object.defineProperty(ue.prototype,"getInc",{value:ks(function(){return ue.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(ue.prototype,"get_inc",{value:ks(function(){return ue.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(ue,"get_inc",{value:ks(function(){return ue.getInc()},"Please use the static `ObjectId.getInc()` instead")});Object.defineProperty(ue.prototype,"_bsontype",{value:"ObjectID"});function CE(n){return n.split("").sort().join("")}var Jo=function(){function n(t,e){if(!(this instanceof n))return new n(t,e);if(this.pattern=t,this.options=CE(e!=null?e:""),this.pattern.indexOf("\0")!==-1)throw new vr("BSON Regex patterns cannot contain null bytes, found: "+JSON.stringify(this.pattern));if(this.options.indexOf("\0")!==-1)throw new vr("BSON Regex options cannot contain null bytes, found: "+JSON.stringify(this.options));for(var r=0;r<this.options.length;r++)if(!(this.options[r]==="i"||this.options[r]==="m"||this.options[r]==="x"||this.options[r]==="l"||this.options[r]==="s"||this.options[r]==="u"))throw new vr("The regular expression option ["+this.options[r]+"] is not supported")}return n.parseOptions=function(t){return t?t.split("").sort().join(""):""},n.prototype.toExtendedJSON=function(t){return t=t||{},t.legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}},n.fromExtendedJSON=function(t){if("$regex"in t)if(typeof t.$regex!="string"){if(t.$regex._bsontype==="BSONRegExp")return t}else return new n(t.$regex,n.parseOptions(t.$options));if("$regularExpression"in t)return new n(t.$regularExpression.pattern,n.parseOptions(t.$regularExpression.options));throw new Rt("Unexpected BSONRegExp EJSON object form: "+JSON.stringify(t))},n}();Object.defineProperty(Jo.prototype,"_bsontype",{value:"BSONRegExp"});var ec=function(){function n(t){if(!(this instanceof n))return new n(t);this.value=t}return n.prototype.valueOf=function(){return this.value},n.prototype.toString=function(){return this.value},n.prototype.inspect=function(){return'new BSONSymbol("'+this.value+'")'},n.prototype.toJSON=function(){return this.value},n.prototype.toExtendedJSON=function(){return{$symbol:this.value}},n.fromExtendedJSON=function(t){return new n(t.$symbol)},n.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},n}();Object.defineProperty(ec.prototype,"_bsontype",{value:"Symbol"});var IE=H,$v=function(n){Vf(t,n);function t(e,r){var i=this;return i instanceof t?(H.isLong(e)?i=n.call(this,e.low,e.high,!0)||this:Ho(e)&&typeof e.t!="undefined"&&typeof e.i!="undefined"?i=n.call(this,e.i,e.t,!0)||this:i=n.call(this,e,r,!0)||this,Object.defineProperty(i,"_bsontype",{value:"Timestamp",writable:!1,configurable:!1,enumerable:!1}),i):new t(e,r)}return t.prototype.toJSON=function(){return{$timestamp:this.toString()}},t.fromInt=function(e){return new t(H.fromInt(e,!0))},t.fromNumber=function(e){return new t(H.fromNumber(e,!0))},t.fromBits=function(e,r){return new t(e,r)},t.fromString=function(e,r){return new t(H.fromString(e,!0,r))},t.prototype.toExtendedJSON=function(){return{$timestamp:{t:this.high>>>0,i:this.low>>>0}}},t.fromExtendedJSON=function(e){return new t(e.$timestamp)},t.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(){return this.inspect()},t.prototype.inspect=function(){return"new Timestamp({ t: "+this.getHighBits()+", i: "+this.getLowBits()+" })"},t.MAX_VALUE=H.MAX_UNSIGNED_VALUE,t}(IE);function RE(n){return Ho(n)&&Reflect.has(n,"_bsontype")&&typeof n._bsontype=="string"}var zv=2147483647,Wv=-2147483648,Vv=9223372036854776e3,Yv=-9223372036854776e3,AE={$oid:ue,$binary:gr,$uuid:gr,$symbol:ec,$numberInt:bs,$numberDecimal:qf,$numberDouble:js,$numberLong:H,$minKey:tc,$maxKey:Qf,$regex:Jo,$regularExpression:Jo,$timestamp:$v};function Xv(n,t){if(t===void 0&&(t={}),typeof n=="number"){if(t.relaxed||t.legacy)return n;if(Math.floor(n)===n){if(n>=Wv&&n<=zv)return new bs(n);if(n>=Yv&&n<=Vv)return H.fromNumber(n)}return new js(n)}if(n==null||typeof n!="object")return n;if(n.$undefined)return null;for(var e=Object.keys(n).filter(function(h){return h.startsWith("$")&&n[h]!=null}),r=0;r<e.length;r++){var i=AE[e[r]];if(i)return i.fromExtendedJSON(n,t)}if(n.$date!=null){var o=n.$date,a=new Date;return t.legacy?typeof o=="number"?a.setTime(o):typeof o=="string"&&a.setTime(Date.parse(o)):typeof o=="string"?a.setTime(Date.parse(o)):H.isLong(o)?a.setTime(o.toNumber()):typeof o=="number"&&t.relaxed&&a.setTime(o),a}if(n.$code!=null){var s=Object.assign({},n);return n.$scope&&(s.$scope=Xv(n.$scope)),Bs.fromExtendedJSON(n)}if(hE(n)||n.$dbPointer){var l=n.$ref?n:n.$dbPointer;if(l instanceof Zo)return l;var u=Object.keys(l).filter(function(h){return h.startsWith("$")}),f=!0;if(u.forEach(function(h){["$ref","$id","$db"].indexOf(h)===-1&&(f=!1)}),f)return Zo.fromExtendedJSON(l)}return n}function PE(n,t){return n.map(function(e,r){t.seenObjects.push({propertyName:"index "+r,obj:null});try{return zn(e,t)}finally{t.seenObjects.pop()}})}function Hv(n){var t=n.toISOString();return n.getUTCMilliseconds()!==0?t:t.slice(0,-5)+"Z"}function zn(n,t){if((typeof n=="object"||typeof n=="function")&&n!==null){var e=t.seenObjects.findIndex(function(y){return y.obj===n});if(e!==-1){var r=t.seenObjects.map(function(y){return y.propertyName}),i=r.slice(0,e).map(function(y){return y+" -> "}).join(""),o=r[e],a=" -> "+r.slice(e+1,r.length-1).map(function(y){return y+" -> "}).join(""),s=r[r.length-1],l=" ".repeat(i.length+o.length/2),u="-".repeat(a.length+(o.length+s.length)/2-1);throw new Rt(`Converting circular structure to EJSON:
`+("    "+i+o+a+s+`
`)+("    "+l+"\\"+u+"/"))}t.seenObjects[t.seenObjects.length-1].obj=n}if(Array.isArray(n))return PE(n,t);if(n===void 0)return null;if(n instanceof Date||fE(n)){var f=n.getTime(),h=f>-1&&f<2534023188e5;return t.legacy?t.relaxed&&h?{$date:n.getTime()}:{$date:Hv(n)}:t.relaxed&&h?{$date:Hv(n)}:{$date:{$numberLong:n.getTime().toString()}}}if(typeof n=="number"&&(!t.relaxed||!isFinite(n))){if(Math.floor(n)===n){var c=n>=Wv&&n<=zv,v=n>=Yv&&n<=Vv;if(c)return{$numberInt:n.toString()};if(v)return{$numberLong:n.toString()}}return{$numberDouble:n.toString()}}if(n instanceof RegExp||uE(n)){var g=n.flags;if(g===void 0){var T=n.toString().match(/[gimuy]*$/);T&&(g=T[0])}var _=new Jo(n.source,g);return _.toExtendedJSON(t)}return n!=null&&typeof n=="object"?NE(n,t):n}var LE={Binary:function(n){return new gr(n.value(),n.sub_type)},Code:function(n){return new Bs(n.code,n.scope)},DBRef:function(n){return new Zo(n.collection||n.namespace,n.oid,n.db,n.fields)},Decimal128:function(n){return new qf(n.bytes)},Double:function(n){return new js(n.value)},Int32:function(n){return new bs(n.value)},Long:function(n){return H.fromBits(n.low!=null?n.low:n.low_,n.low!=null?n.high:n.high_,n.low!=null?n.unsigned:n.unsigned_)},MaxKey:function(){return new Qf},MinKey:function(){return new tc},ObjectID:function(n){return new ue(n)},ObjectId:function(n){return new ue(n)},BSONRegExp:function(n){return new Jo(n.pattern,n.options)},Symbol:function(n){return new ec(n.value)},Timestamp:function(n){return $v.fromBits(n.low,n.high)}};function NE(n,t){if(n==null||typeof n!="object")throw new vr("not an object instance");var e=n._bsontype;if(typeof e=="undefined"){var r={};for(var i in n){t.seenObjects.push({propertyName:i,obj:null});try{r[i]=zn(n[i],t)}finally{t.seenObjects.pop()}}return r}else if(RE(n)){var o=n;if(typeof o.toExtendedJSON!="function"){var a=LE[n._bsontype];if(!a)throw new Rt("Unrecognized or invalid _bsontype: "+n._bsontype);o=a(o)}return e==="Code"&&o.scope?o=new Bs(o.code,zn(o.scope,t)):e==="DBRef"&&o.oid&&(o=new Zo(zn(o.collection,t),zn(o.oid,t),zn(o.db,t),zn(o.fields,t))),o.toExtendedJSON(t)}else throw new vr("_bsontype must be a string, but was: "+typeof e)}var _r;(function(n){function t(o,a){var s=Object.assign({},{relaxed:!0,legacy:!1},a);return typeof s.relaxed=="boolean"&&(s.strict=!s.relaxed),typeof s.strict=="boolean"&&(s.relaxed=!s.strict),JSON.parse(o,function(l,u){if(l.indexOf("\0")!==-1)throw new vr("BSON Document field names cannot contain null bytes, found: "+JSON.stringify(l));return Xv(u,s)})}n.parse=t;function e(o,a,s,l){s!=null&&typeof s=="object"&&(l=s,s=0),a!=null&&typeof a=="object"&&!Array.isArray(a)&&(l=a,a=void 0,s=0);var u=Object.assign({relaxed:!0,legacy:!1},l,{seenObjects:[{propertyName:"(root)",obj:null}]}),f=zn(o,u);return JSON.stringify(f,a,s)}n.stringify=e;function r(o,a){return a=a||{},JSON.parse(e(o,a))}n.serialize=r;function i(o,a){return a=a||{},t(JSON.stringify(o),a)}n.deserialize=i})(_r||(_r={}));var ME=Iv();ME.Map||function(){function n(t){t===void 0&&(t=[]),this._keys=[],this._values={};for(var e=0;e<t.length;e++)if(t[e]!=null){var r=t[e],i=r[0],o=r[1];this._keys.push(i),this._values[i]={v:o,i:this._keys.length-1}}}return n.prototype.clear=function(){this._keys=[],this._values={}},n.prototype.delete=function(t){var e=this._values[t];return e==null?!1:(delete this._values[t],this._keys.splice(e.i,1),!0)},n.prototype.entries=function(){var t=this,e=0;return{next:function(){var r=t._keys[e++];return{value:r!==void 0?[r,t._values[r].v]:void 0,done:r===void 0}}}},n.prototype.forEach=function(t,e){e=e||this;for(var r=0;r<this._keys.length;r++){var i=this._keys[r];t.call(e,this._values[i].v,i,e)}},n.prototype.get=function(t){return this._values[t]?this._values[t].v:void 0},n.prototype.has=function(t){return this._values[t]!=null},n.prototype.keys=function(){var t=this,e=0;return{next:function(){var r=t._keys[e++];return{value:r!==void 0?r:void 0,done:r===void 0}}}},n.prototype.set=function(t,e){return this._values[t]?(this._values[t].v=e,this):(this._keys.push(t),this._values[t]={v:e,i:this._keys.length-1},this)},n.prototype.values=function(){var t=this,e=0;return{next:function(){var r=t._keys[e++];return{value:r!==void 0?t._values[r].v:void 0,done:r===void 0}}}},Object.defineProperty(n.prototype,"size",{get:function(){return this._keys.length},enumerable:!1,configurable:!0}),n}();var DE=Math.pow(2,53),FE=-Math.pow(2,53);H.fromNumber(DE);H.fromNumber(FE);var kE=1024*1024*17;ct.alloc(kE);var Zv=function(n,t,e){if(e||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return n.concat(o||Array.prototype.slice.call(t))},UE=function(){function n(t,e,r){this.name=t,this.version=e,this.os=r,this.type="browser"}return n}(),BE=function(){function n(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return n}(),jE=function(){function n(t,e,r,i){this.name=t,this.version=e,this.os=r,this.bot=i,this.type="bot-device"}return n}(),bE=function(){function n(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return n}(),GE=function(){function n(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return n}(),$E=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,zE=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Kv=3,WE=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",$E]],Jv=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function VE(n){return n?qv(n):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new GE:typeof navigator!="undefined"?qv(navigator.userAgent):HE()}function YE(n){return n!==""&&WE.reduce(function(t,e){var r=e[0],i=e[1];if(t)return t;var o=i.exec(n);return!!o&&[r,o]},!1)}function qv(n){var t=YE(n);if(!t)return null;var e=t[0],r=t[1];if(e==="searchbot")return new bE;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<Kv&&(i=Zv(Zv([],i,!0),ZE(Kv-i.length),!0)):i=[];var o=i.join("."),a=XE(n),s=zE.exec(n);return s&&s[1]?new jE(e,o,a,s[1]):new UE(e,o,a)}function XE(n){for(var t=0,e=Jv.length;t<e;t++){var r=Jv[t],i=r[0],o=r[1],a=o.exec(n);if(a)return i}return null}function HE(){var n=typeof process!="undefined"&&process.version;return n?new BE(process.version.slice(1)):null}function ZE(n){for(var t=[],e=0;e<n;e++)t.push("0");return t}class cn{constructor(){if(!cn.fetch)throw new Error("DefaultNetworkTransport.fetch must be set before it's used");if(!cn.AbortController)throw new Error("DefaultNetworkTransport.AbortController must be set before it's used")}fetchWithCallbacks(t,e){this.fetch(t).then(async r=>{const i=await r.text(),o={};return r.headers.forEach((a,s)=>{o[s]=a}),{statusCode:r.status,headers:o,body:i}}).then(r=>e.onSuccess(r)).catch(r=>e.onError(r))}async fetch(t){const s=t,{timeoutMs:e,url:r}=s,i=Dl(s,["timeoutMs","url"]),{signal:o,cancelTimeout:a}=this.createTimeoutSignal(e);try{return await cn.fetch(r,Ft({signal:o},i))}finally{a()}}createTimeoutSignal(t){if(typeof t=="number"){const e=new cn.AbortController,r=setTimeout(()=>{e.abort()},t);return{signal:e.signal,cancelTimeout:()=>{clearTimeout(r)}}}else return{signal:void 0,cancelTimeout:()=>{}}}}cn.DEFAULT_HEADERS={"Content-Type":"application/json"};cn.fetch=globalThis.fetch.bind(globalThis);cn.AbortController=globalThis.AbortController;const Qv="3.7.2",KE=Qv,JE=typeof atob=="function",qE=typeof btoa=="function",Ei=typeof Buffer=="function",tg=typeof TextDecoder=="function"?new TextDecoder:void 0,eg=typeof TextEncoder=="function"?new TextEncoder:void 0,QE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",qo=Array.prototype.slice.call(QE),Gs=(n=>{let t={};return n.forEach((e,r)=>t[e]=r),t})(qo),t1=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,$t=String.fromCharCode.bind(String),ng=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(n,t=e=>e)=>new Uint8Array(Array.prototype.slice.call(n,0).map(t)),rg=n=>n.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),ig=n=>n.replace(/[^A-Za-z0-9\+\/]/g,""),og=n=>{let t,e,r,i,o="";const a=n.length%3;for(let s=0;s<n.length;){if((e=n.charCodeAt(s++))>255||(r=n.charCodeAt(s++))>255||(i=n.charCodeAt(s++))>255)throw new TypeError("invalid character found");t=e<<16|r<<8|i,o+=qo[t>>18&63]+qo[t>>12&63]+qo[t>>6&63]+qo[t&63]}return a?o.slice(0,a-3)+"===".substring(a):o},nc=qE?n=>btoa(n):Ei?n=>Buffer.from(n,"binary").toString("base64"):og,rc=Ei?n=>Buffer.from(n).toString("base64"):n=>{const t=4096;let e=[];for(let r=0,i=n.length;r<i;r+=t)e.push($t.apply(null,n.subarray(r,r+t)));return nc(e.join(""))},$s=(n,t=!1)=>t?rg(rc(n)):rc(n),e1=n=>{if(n.length<2){var t=n.charCodeAt(0);return t<128?n:t<2048?$t(192|t>>>6)+$t(128|t&63):$t(224|t>>>12&15)+$t(128|t>>>6&63)+$t(128|t&63)}else{var t=65536+(n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320);return $t(240|t>>>18&7)+$t(128|t>>>12&63)+$t(128|t>>>6&63)+$t(128|t&63)}},n1=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,ag=n=>n.replace(n1,e1),sg=Ei?n=>Buffer.from(n,"utf8").toString("base64"):eg?n=>rc(eg.encode(n)):n=>nc(ag(n)),wi=(n,t=!1)=>t?rg(sg(n)):sg(n),lg=n=>wi(n,!0),r1=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,i1=n=>{switch(n.length){case 4:var t=(7&n.charCodeAt(0))<<18|(63&n.charCodeAt(1))<<12|(63&n.charCodeAt(2))<<6|63&n.charCodeAt(3),e=t-65536;return $t((e>>>10)+55296)+$t((e&1023)+56320);case 3:return $t((15&n.charCodeAt(0))<<12|(63&n.charCodeAt(1))<<6|63&n.charCodeAt(2));default:return $t((31&n.charCodeAt(0))<<6|63&n.charCodeAt(1))}},ug=n=>n.replace(r1,i1),fg=n=>{if(n=n.replace(/\s+/g,""),!t1.test(n))throw new TypeError("malformed base64.");n+="==".slice(2-(n.length&3));let t,e="",r,i;for(let o=0;o<n.length;)t=Gs[n.charAt(o++)]<<18|Gs[n.charAt(o++)]<<12|(r=Gs[n.charAt(o++)])<<6|(i=Gs[n.charAt(o++)]),e+=r===64?$t(t>>16&255):i===64?$t(t>>16&255,t>>8&255):$t(t>>16&255,t>>8&255,t&255);return e},ic=JE?n=>atob(ig(n)):Ei?n=>Buffer.from(n,"base64").toString("binary"):fg,cg=Ei?n=>ng(Buffer.from(n,"base64")):n=>ng(ic(n),t=>t.charCodeAt(0)),hg=n=>cg(pg(n)),o1=Ei?n=>Buffer.from(n,"base64").toString("utf8"):tg?n=>tg.decode(cg(n)):n=>ug(ic(n)),pg=n=>ig(n.replace(/[-_]/g,t=>t=="-"?"+":"/")),oc=n=>o1(pg(n)),a1=n=>{if(typeof n!="string")return!1;const t=n.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},dg=n=>({value:n,enumerable:!1,writable:!0,configurable:!0}),vg=function(){const n=(t,e)=>Object.defineProperty(String.prototype,t,dg(e));n("fromBase64",function(){return oc(this)}),n("toBase64",function(t){return wi(this,t)}),n("toBase64URI",function(){return wi(this,!0)}),n("toBase64URL",function(){return wi(this,!0)}),n("toUint8Array",function(){return hg(this)})},gg=function(){const n=(t,e)=>Object.defineProperty(Uint8Array.prototype,t,dg(e));n("toBase64",function(t){return $s(this,t)}),n("toBase64URI",function(){return $s(this,!0)}),n("toBase64URL",function(){return $s(this,!0)})},s1=()=>{vg(),gg()},zs={version:Qv,VERSION:KE,atob:ic,atobPolyfill:fg,btoa:nc,btoaPolyfill:og,fromBase64:oc,toBase64:wi,encode:wi,encodeURI:lg,encodeURL:lg,utob:ag,btou:ug,decode:oc,isValid:a1,fromUint8Array:$s,toUint8Array:hg,extendString:vg,extendUint8Array:gg,extendBuiltins:s1},l1={relaxed:!1};function yg(n){return _r.serialize(n,l1)}function _g(n){return Array.isArray(n)?n.map(t=>_r.deserialize(t)):_r.deserialize(n)}var ac;(function(n){n.Normal="normal",n.Server="server"})(ac||(ac={}));var Ne;(function(n){n.NAME="name",n.EMAIL="email",n.PICTURE="picture",n.FIRST_NAME="first_name",n.LAST_NAME="last_name",n.GENDER="gender",n.BIRTHDAY="birthday",n.MIN_AGE="min_age",n.MAX_AGE="max_age"})(Ne||(Ne={}));const mg={[Ne.NAME]:"name",[Ne.EMAIL]:"email",[Ne.PICTURE]:"pictureUrl",[Ne.FIRST_NAME]:"firstName",[Ne.LAST_NAME]:"lastName",[Ne.GENDER]:"gender",[Ne.BIRTHDAY]:"birthday",[Ne.MIN_AGE]:"minAge",[Ne.MAX_AGE]:"maxAge"};class Eg{constructor(t){if(this.type=ac.Normal,this.identities=[],typeof t=="object"&&t!==null){const{type:e,identities:r,data:i}=t;if(typeof e=="string")this.type=e;else throw new Error("Expected 'type' in the response body");if(Array.isArray(r))this.identities=r.map(o=>{const{id:a,provider_type:s}=o;return{id:a,providerType:s}});else throw new Error("Expected 'identities' in the response body");if(typeof i=="object"&&i!==null){const o=Object.fromEntries(Object.entries(i).map(([a,s])=>a in mg?[mg[a],s]:[a,s]));this.data=_g(o)}else throw new Error("Expected 'data' in the response body")}else this.data={}}}class Me{constructor(t,e){this.storage=t,this.keyPart=e}get(t){return this.storage.get(this.keyPart+Me.PART_SEPARATOR+t)}set(t,e){return this.storage.set(this.keyPart+Me.PART_SEPARATOR+t,e)}remove(t){return this.storage.remove(this.keyPart+Me.PART_SEPARATOR+t)}prefix(t){return new Me(this,t)}clear(t=""){return this.storage.clear(this.keyPart+Me.PART_SEPARATOR+t)}addListener(t){return this.storage.addListener(t)}removeListener(t){return this.storage.addListener(t)}}Me.PART_SEPARATOR=":";class u1{constructor(){this.storage={},this.listeners=new Set}get(t){return t in this.storage?this.storage[t]:null}set(t,e){this.storage[t]=e,this.fireListeners()}remove(t){delete this.storage[t],this.fireListeners()}prefix(t){return new Me(this,t)}clear(t){for(const e of Object.keys(this.storage))(!t||e.startsWith(t))&&delete this.storage[e];this.fireListeners()}addListener(t){this.listeners.add(t)}removeListener(t){this.listeners.delete(t)}fireListeners(){this.listeners.forEach(t=>t())}}const sc="accessToken",lc="refreshToken",uc="profile",fc="providerType";class f1 extends Me{constructor(t,e){super(t,`user(${e})`)}get accessToken(){return this.get(sc)}set accessToken(t){t===null?this.remove(sc):this.set(sc,t)}get refreshToken(){return this.get(lc)}set refreshToken(t){t===null?this.remove(lc):this.set(lc,t)}get profile(){const t=this.get(uc);if(t){const e=new Eg;return Object.assign(e,JSON.parse(t)),e}}set profile(t){t?this.set(uc,JSON.stringify(t)):this.remove(uc)}get providerType(){const t=this.get(fc);if(t)return t}set providerType(t){t?this.set(fc,t):this.remove(fc)}}function cc(n){return Object.fromEntries(Object.entries(n).filter(t=>typeof t[1]!="undefined"))}function c1(n,t){let e="";for(let r=0;r<n;r++)e+=t[Math.floor(Math.random()*t.length)];return e}function wg(n,t=!0){const e=cc(n);return(t&&Object.keys(e).length>0?"?":"")+Object.entries(e).map(([i,o])=>`${i}=${encodeURIComponent(o)}`).join("&")}function h1(n){const t=n[0]==="?"?n.substr(1):n;return Object.fromEntries(t.split("&").filter(e=>e.length>0).map(e=>e.split("=")).map(([e,r])=>[e,decodeURIComponent(r)]))}const p1=["inspect","callFunction","callFunctionStreaming",...Object.getOwnPropertyNames(Object.prototype)];function d1(n){for(const t of n)if(typeof t=="object"&&t)for(const[e,r]of Object.entries(t))r===void 0&&delete t[e];return n}function v1(n){return d1(n).map(e=>typeof e=="object"?yg(e):e)}class Ws{constructor(t,e={}){this.fetcher=t,this.serviceName=e.serviceName,this.argsTransformation=e.argsTransformation||v1}static create(t,e={}){const r=new Ws(t,e);return new Proxy(r,{get(i,o,a){if(typeof o=="string"&&p1.indexOf(o)===-1)return i.callFunction.bind(i,o);{const s=Reflect.get(i,o,a);return typeof s=="function"?s.bind(i):s}}})}async callFunction(t,...e){const r={name:t,arguments:this.argsTransformation?this.argsTransformation(e):e};this.serviceName&&(r.service=this.serviceName);const i=this.fetcher.appRoute;return this.fetcher.fetchJSON({method:"POST",path:i.functionsCall().path,body:r})}callFunctionStreaming(t,...e){const r={name:t,arguments:this.argsTransformation?this.argsTransformation(e):e};this.serviceName&&(r.service=this.serviceName);const i=this.fetcher.appRoute,o=wg({baas_request:zs.encode(JSON.stringify(r))});return this.fetcher.fetchStream({method:"GET",path:i.functionsCall().path+o})}}let xg=!1;const g1=n=>{xg=n},y1=(n,t)=>{!xg||console.warn(`Deprecation warning from Realm: ${n} is deprecated and will be removed in a future major release. Consider switching to ${t}.`)},mr=(n,t,e,r)=>{if(typeof n[0]!="object"){const i=r?", ...args":"";y1(`${t}(${e.join(", ")}${i})`,`${t}({ ${e.join(", ")} }${i})`);const o=e.reduce((s,l,u)=>Ge(Ft({},s),{[l]:n[u]}),{}),a=r?n.slice(e.length):void 0;return{argsObject:o,restArgs:a}}return{argsObject:n[0],restArgs:r?n.slice(1):void 0}};g1(typeof __DEV__!="undefined"&&__DEV__);class _1{constructor(t,e="local-userpass"){this.fetcher=t,this.providerName=e}async registerUser(...t){const{argsObject:e}=mr(t,"registerUser",["email","password"]),r=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:r.emailPasswordAuth(this.providerName).register().path,body:e})}async confirmUser(...t){const{argsObject:e}=mr(t,"confirmUser",["token","tokenId"]),r=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:r.emailPasswordAuth(this.providerName).confirm().path,body:e})}async resendConfirmationEmail(...t){const{argsObject:e}=mr(t,"resendConfirmationEmail",["email"]),r=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:r.emailPasswordAuth(this.providerName).confirmSend().path,body:e})}async retryCustomConfirmation(...t){const{argsObject:e}=mr(t,"retryCustomConfirmation",["email"]),r=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:r.emailPasswordAuth(this.providerName).confirmCall().path,body:e})}async resetPassword(...t){const{argsObject:e}=mr(t,"resetPassword",["token","tokenId","password"]),r=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:r.emailPasswordAuth(this.providerName).reset().path,body:e})}async sendResetPasswordEmail(...t){const{argsObject:e}=mr(t,"sendResetPasswordEmail",["email"]),r=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:r.emailPasswordAuth(this.providerName).resetSend().path,body:e})}async callResetPasswordFunction(...t){const{argsObject:e,restArgs:r}=mr(t,"callResetPasswordFunction",["email","password"],!0),i=this.fetcher.appRoute;await this.fetcher.fetchJSON({method:"POST",path:i.emailPasswordAuth(this.providerName).resetCall().path,body:Ge(Ft({},e),{arguments:r})})}}function m1(){return{path:"/api/client/v2.0",app(n){return{path:this.path+`/app/${n}`,location(){return{path:this.path+"/location"}},authProvider(t){return{path:this.path+`/auth/providers/${t}`,login(){return{path:this.path+"/login"}}}},emailPasswordAuth(t){const e=this.authProvider(t);return Ge(Ft({},e),{register(){return{path:this.path+"/register"}},confirm(){return{path:this.path+"/confirm"}},confirmSend(){return{path:this.path+"/confirm/send"}},confirmCall(){return{path:this.path+"/confirm/call"}},reset(){return{path:this.path+"/reset"}},resetSend(){return{path:this.path+"/reset/send"}},resetCall(){return{path:this.path+"/reset/call"}}})},functionsCall(){return{path:this.path+"/functions/call"}}}},auth(){return{path:this.path+"/auth",apiKeys(){return{path:this.path+"/api_keys",key(n){return{path:this.path+`/${n}`,enable(){return{path:this.path+"/enable"}},disable(){return{path:this.path+"/disable"}}}}}},profile(){return{path:this.path+"/profile"}},session(){return{path:this.path+"/session"}}}}}}var De={api:m1};class E1{constructor(t){this.fetcher=t}create(t){return this.fetcher.fetchJSON({method:"POST",body:{name:t},path:De.api().auth().apiKeys().path,tokenType:"refresh"})}fetch(t){return this.fetcher.fetchJSON({method:"GET",path:De.api().auth().apiKeys().key(t).path,tokenType:"refresh"})}fetchAll(){return this.fetcher.fetchJSON({method:"GET",tokenType:"refresh",path:De.api().auth().apiKeys().path})}async delete(t){await this.fetcher.fetchJSON({method:"DELETE",path:De.api().auth().apiKeys().key(t).path,tokenType:"refresh"})}async enable(t){await this.fetcher.fetchJSON({method:"PUT",path:De.api().auth().apiKeys().key(t).enable().path,tokenType:"refresh"})}async disable(t){await this.fetcher.fetchJSON({method:"PUT",path:De.api().auth().apiKeys().key(t).disable().path,tokenType:"refresh"})}}let hc=null;function w1(n){hc=n}function Qo(){if(hc)return hc;throw new Error("Cannot get environment before it's set")}class pc extends Error{constructor({message:t,code:e}){super(t);this.name="WatchError",this.code=e}}var te;(function(n){n.NEED_DATA="NEED_DATA",n.HAVE_EVENT="HAVE_EVENT",n.HAVE_ERROR="HAVE_ERROR"})(te||(te={}));class x1{constructor(){this._state=te.NEED_DATA,this._error=null,this._textDecoder=new(Qo()).TextDecoder,this._buffer="",this._bufferOffset=0,this._eventType="",this._dataBuffer=""}feedBuffer(t){this.assertState(te.NEED_DATA),this._buffer+=this._textDecoder.decode(t,{stream:!0}),this.advanceBufferState()}feedLine(t){if(this.assertState(te.NEED_DATA),t.endsWith(`
`)&&(t=t.substr(0,t.length-1)),t.endsWith("\r")&&(t=t.substr(0,t.length-1)),t.length===0){if(this._dataBuffer.length===0){this._eventType="";return}this._dataBuffer.endsWith(`
`)&&(this._dataBuffer=this._dataBuffer.substr(0,this._dataBuffer.length-1)),this.feedSse({data:this._dataBuffer,eventType:this._eventType}),this._dataBuffer="",this._eventType=""}if(t[0]===":")return;const e=t.indexOf(":"),r=t.substr(0,e);let i=e===-1?"":t.substr(e+1);i.startsWith(" ")&&(i=i.substr(1)),r==="event"?this._eventType=i:r==="data"&&(this._dataBuffer+=i,this._dataBuffer+=`
`)}feedSse(t){this.assertState(te.NEED_DATA);const e=t.data.indexOf("%");if(e!==-1){let r="",i=0;for(let o=e;o!==-1;o=t.data.indexOf("%",i)){r+=t.data.substr(i,o-i);const a=t.data.substr(o,3);a==="%25"?r+="%":a==="%0A"?r+=`
`:a==="%0D"?r+="\r":r+=a,i=o+a.length}r+=t.data.substr(i),t.data=r}if(!t.eventType||t.eventType==="message"){try{const r=_r.parse(t.data);if(typeof r=="object"){this._nextEvent=r,this._state=te.HAVE_EVENT;return}}catch{}this._state=te.HAVE_ERROR,this._error=new pc({message:"server returned malformed event: "+t.data,code:"bad bson parse"})}else if(t.eventType==="error"){this._state=te.HAVE_ERROR,this._error=new pc({message:t.data,code:"unknown"});try{const{error_code:r,error:i}=_r.parse(t.data);if(typeof r!="string"||typeof i!="string")return;this._error=new pc({message:i,code:r})}catch{return}}}get state(){return this._state}nextEvent(){this.assertState(te.HAVE_EVENT);const t=this._nextEvent;return this._state=te.NEED_DATA,this.advanceBufferState(),t}get error(){return this._error}advanceBufferState(){for(this.assertState(te.NEED_DATA);this.state===te.NEED_DATA;){if(this._bufferOffset===this._buffer.length){this._buffer="",this._bufferOffset=0;return}const t=this._buffer.indexOf(`
`,this._bufferOffset);if(t===-1){this._bufferOffset!==0&&(this._buffer=this._buffer.substr(this._bufferOffset,this._buffer.length-this._bufferOffset),this._bufferOffset=0);return}this.feedLine(this._buffer.substr(this._bufferOffset,t-this._bufferOffset)),this._bufferOffset=t+1}}assertState(t){if(this._state!==t)throw Error(`Expected WatchStream to be in state ${t}, but in state ${this._state}`)}}class T1{constructor(t,e,r,i){this.functions=Ws.create(t,{serviceName:e}),this.databaseName=r,this.collectionName=i,this.serviceName=e,this.fetcher=t}find(t={},e={}){return this.functions.find({database:this.databaseName,collection:this.collectionName,query:t,project:e.projection,sort:e.sort,limit:e.limit})}findOne(t={},e={}){return this.functions.findOne({database:this.databaseName,collection:this.collectionName,query:t,project:e.projection,sort:e.sort})}findOneAndUpdate(t={},e,r={}){return this.functions.findOneAndUpdate({database:this.databaseName,collection:this.collectionName,filter:t,update:e,sort:r.sort,projection:r.projection,upsert:r.upsert,returnNewDocument:r.returnNewDocument})}findOneAndReplace(t={},e,r={}){return this.functions.findOneAndReplace({database:this.databaseName,collection:this.collectionName,filter:t,update:e,sort:r.sort,projection:r.projection,upsert:r.upsert,returnNewDocument:r.returnNewDocument})}findOneAndDelete(t={},e={}){return this.functions.findOneAndReplace({database:this.databaseName,collection:this.collectionName,filter:t,sort:e.sort,projection:e.projection})}aggregate(t){return this.functions.aggregate({database:this.databaseName,collection:this.collectionName,pipeline:t})}count(t={},e={}){return this.functions.count({database:this.databaseName,collection:this.collectionName,query:t,limit:e.limit})}insertOne(t){return this.functions.insertOne({database:this.databaseName,collection:this.collectionName,document:t})}insertMany(t){return this.functions.insertMany({database:this.databaseName,collection:this.collectionName,documents:t})}deleteOne(t={}){return this.functions.deleteOne({database:this.databaseName,collection:this.collectionName,query:t})}deleteMany(t={}){return this.functions.deleteMany({database:this.databaseName,collection:this.collectionName,query:t})}updateOne(t,e,r={}){return this.functions.updateOne({database:this.databaseName,collection:this.collectionName,query:t,update:e,upsert:r.upsert})}updateMany(t,e,r={}){return this.functions.updateMany({database:this.databaseName,collection:this.collectionName,query:t,update:e,upsert:r.upsert})}async*watch({ids:t,filter:e}={}){const r=await this.functions.callFunctionStreaming("watch",{database:this.databaseName,collection:this.collectionName,ids:t,filter:e}),i=new x1;for await(const o of r)if(!!o){for(i.feedBuffer(o);i.state==te.HAVE_EVENT;)yield i.nextEvent();if(i.state==te.HAVE_ERROR)throw i.error}}}function S1(n,t,e,r){return new T1(n,t,e,r)}function O1(n,t,e){return{collection:S1.bind(null,n,t,e)}}function C1(n,t="mongo-db"){return{db:O1.bind(null,n,t)}}const I1="000000000000000000000000";var Er;(function(n){n.Active="active",n.LoggedOut="logged-out",n.Removed="removed"})(Er||(Er={}));var Tg;(function(n){n.Normal="normal",n.Server="server"})(Tg||(Tg={}));class Sg{constructor(t){if(this.app=t.app,this.id=t.id,this.storage=new f1(this.app.storage,this.id),"accessToken"in t&&"refreshToken"in t&&"providerType"in t)this._accessToken=t.accessToken,this._refreshToken=t.refreshToken,this.providerType=t.providerType,this.storage.accessToken=t.accessToken,this.storage.refreshToken=t.refreshToken,this.storage.providerType=t.providerType;else{this._accessToken=this.storage.accessToken,this._refreshToken=this.storage.refreshToken;const e=this.storage.providerType;if(this._profile=this.storage.profile,e)this.providerType=e;else throw new Error("Storage is missing a provider type")}this.fetcher=this.app.fetcher.clone({userContext:{currentUser:this}}),this.apiKeys=new E1(this.fetcher),this.functions=Ws.create(this.fetcher)}get accessToken(){return this._accessToken}set accessToken(t){this._accessToken=t,this.storage.accessToken=t}get refreshToken(){return this._refreshToken}set refreshToken(t){this._refreshToken=t,this.storage.refreshToken=t}get state(){return this.id in this.app.allUsers?this.refreshToken===null?Er.LoggedOut:Er.Active:Er.Removed}get isLoggedIn(){return this.state===Er.Active}get customData(){if(this.accessToken)return this.decodeAccessToken().userData;throw new Error("Cannot read custom data without an access token")}get profile(){if(this._profile)return this._profile.data;throw new Error("A profile was never fetched for this user")}get identities(){if(this._profile)return this._profile.identities;throw new Error("A profile was never fetched for this user")}get deviceId(){if(this.accessToken){const t=this.accessToken.split(".")[1];if(t){const r=JSON.parse(zs.decode(t)).baas_device_id;if(typeof r=="string"&&r!==I1)return r}}return null}async refreshProfile(){const t=await this.fetcher.fetchJSON({method:"GET",path:De.api().auth().profile().path});this._profile=new Eg(t),this.storage.profile=this._profile}async logOut(){try{this._refreshToken!==null&&await this.fetcher.fetchJSON({method:"DELETE",path:De.api().auth().session().path,tokenType:"refresh"})}finally{this.accessToken=null,this.refreshToken=null}}async linkCredentials(t){const e=await this.app.authenticator.authenticate(t,this);if(this.id!==e.userId){const r=`got user id ${e.userId} expected ${this.id}`;throw new Error(`Link response ment for another user (${r})`)}this.accessToken=e.accessToken,await this.refreshProfile()}async refreshAccessToken(){const t=await this.fetcher.fetchJSON({method:"POST",path:De.api().auth().session().path,tokenType:"refresh"}),{access_token:e}=t;if(typeof e=="string")this.accessToken=e;else throw new Error("Expected an 'access_token' in the response")}async refreshCustomData(){return await this.refreshAccessToken(),this.customData}callFunction(t,...e){return this.functions.callFunction(t,...e)}toJSON(){return{id:this.id,accessToken:this.accessToken,refreshToken:this.refreshToken,profile:this._profile,state:this.state,customData:this.customData}}push(){throw new Error("Not yet implemented")}mongoClient(t){return C1(this.fetcher,t)}decodeAccessToken(){if(this.accessToken){const t=this.accessToken.split(".");if(t.length!==3)throw new Error("Expected an access token with three parts");const e=t[1],r=zs.decode(e),i=JSON.parse(r),{exp:o,iat:a,sub:s,user_data:l={}}=i;if(typeof o!="number")throw new Error("Failed to decode access token 'exp'");if(typeof a!="number")throw new Error("Failed to decode access token 'iat'");return{expires:o,issuedAt:a,subject:s,userData:l}}else throw new Error("Missing an access token")}}class fe{constructor(t,e,r){this.providerName=t,this.providerType=e,this.payload=r}static anonymous(){return new fe("anon-user","anon-user",{})}static userApiKey(t){return new fe("api-key","api-key",{key:t})}static serverApiKey(t){return new fe("api-key","api-key",{key:t})}static apiKey(t){return new fe("api-key","api-key",{key:t})}static emailPassword(t,e){return new fe("local-userpass","local-userpass",{username:t,password:e})}static function(t){return new fe("custom-function","custom-function",t)}static jwt(t){return new fe("custom-token","custom-token",{token:t})}static google(t){return new fe("oauth2-google","oauth2-google",fe.derivePayload(t))}static derivePayload(t){if(typeof t=="string"){if(t.includes("://"))return this.derivePayload({redirectUrl:t});if(t.startsWith("4/"))return this.derivePayload({authCode:t});if(t.startsWith("ey"))return this.derivePayload({idToken:t});throw new Error(`Unexpected payload: ${t}`)}else if(Object.keys(t).length===1){if("authCode"in t||"redirectUrl"in t)return t;if("idToken"in t)return{id_token:t.idToken};throw new Error("Unexpected payload: "+JSON.stringify(t))}else throw new Error("Expected only one property in payload, got "+JSON.stringify(t))}static facebook(t){return new fe("oauth2-facebook","oauth2-facebook",t.includes("://")?{redirectUrl:t}:{accessToken:t})}static apple(t){return new fe("oauth2-apple","oauth2-apple",t.includes("://")?{redirectUrl:t}:{id_token:t})}}const Og="userIds",Cg="deviceId";class R1 extends Me{constructor(t,e){super(t,`app(${e})`)}getUserIds(){const t=this.get(Og),e=t?JSON.parse(t):[];if(Array.isArray(e))return[...new Set(e)];throw new Error("Expected the user ids to be an array")}setUserIds(t,e){if(e){const r=this.getUserIds();for(const i of r)t.indexOf(i)===-1&&t.push(i)}this.set(Og,JSON.stringify(t))}removeUserId(t){const r=this.getUserIds().filter(i=>i!==t);this.setUserIds(r,!1)}getDeviceId(){return this.get(Cg)}setDeviceId(t){this.set(Cg,t)}}const A1="abcdefghijklmnopqrstuvwxyz",P1=100,L1={_stitch_client_app_id:"appId",_baas_client_app_id:"appId",_stitch_ua:"userAuth",_baas_ua:"userAuth",_stitch_link:"link",_baas_link:"link",_stitch_error:"error",_baas_error:"error",_stitch_state:"state",_baas_state:"state"};class xi{constructor(t,e=Qo().openWindow){this.storage=t.prefix("oauth2"),this.openWindow=e}static parseRedirectLocation(t){const e=h1(t),r={};for(const[i,o]of Object.entries(L1)){const a=e[i];a&&(r[o]=a)}return r}static handleRedirect(t,e=Qo().defaultStorage){const r=xi.parseRedirectLocation(t),{state:i,error:o}=r;if(typeof i=="string"){const a=e.prefix("oauth2");xi.getStateStorage(a,i).set("result",JSON.stringify(r))}else throw o?new Error(`Failed to handle OAuth 2.0 redirect: ${o}`):new Error("Failed to handle OAuth 2.0 redirect.")}static decodeAuthInfo(t){const e=(t||"").split("$");if(e.length===4){const[r,i,o,a]=e;return{accessToken:r,refreshToken:i,userId:o,deviceId:a}}else throw new Error("Failed to decode 'authInfo' into ids and tokens")}static getStateStorage(t,e){return t.prefix(`state(${e})`)}openWindowAndWaitForRedirect(t,e){const r=xi.getStateStorage(this.storage,e);return new Promise((i,o)=>{let a=null,s;const l=()=>{const u=r.get("result");if(u){const f=JSON.parse(u);r.removeListener(l),r.clear();try{a&&(clearInterval(s),a.close())}catch(h){console.warn(`Failed closing redirect window: ${h}`)}finally{i(f)}}};r.addListener(l),a=this.openWindow(t),s=setInterval(()=>{if(!a)clearInterval(s);else if(a.closed){clearInterval(s),r.removeListener(l);const u=new Error("Window closed");o(u)}},P1)})}generateState(){return c1(12,A1)}}const Ig="x-baas-location";class N1{constructor(t,e,r){this.fetcher=t,this.oauth2=new xi(e),this.getDeviceInformation=r}async authenticate(t,e){const r=this.getDeviceInformation(),i=typeof e=="object";if(t.providerType.startsWith("oauth2")&&typeof t.payload.redirectUrl=="string"){const o=this.oauth2.generateState(),a=await this.getLogInUrl(t,i,{state:o,redirect:t.payload.redirectUrl,providerRedirectHeader:i?!0:void 0,device:i?void 0:r.encode()});if(i){const l=(await this.fetcher.fetch({method:"GET",url:a,tokenType:i?"access":"none",user:e,mode:"cors",credentials:"include"})).headers.get(Ig);if(l)return this.openWindowAndWaitForAuthResponse(l,o);throw new Error(`Missing ${Ig} header`)}else return this.openWindowAndWaitForAuthResponse(a,o)}else{const o=await this.getLogInUrl(t,i),a=await this.fetcher.fetchJSON({method:"POST",url:o,body:Ge(Ft({},t.payload),{options:{device:r.toJSON()}}),tokenType:i?"access":"none",user:e}),{user_id:s,access_token:l,refresh_token:u=null,device_id:f}=a;if(typeof s!="string")throw new Error("Expected a user id in the response");if(typeof l!="string")throw new Error("Expected an access token in the response");if(typeof u!="string"&&u!==null)throw new Error("Expected refresh token to be a string or null");if(typeof f!="string")throw new Error("Expected device id to be a string");return{userId:s,accessToken:l,refreshToken:u,deviceId:f}}}async getLogInUrl(t,e=!1,r={}){const o=this.fetcher.appRoute.authProvider(t.providerName).login(),a=wg(Ft({link:e?"true":void 0},r));return await this.fetcher.locationUrl+o.path+a}async openWindowAndWaitForAuthResponse(t,e){const r=await this.oauth2.openWindowAndWaitForRedirect(t,e);return xi.decodeAuthInfo(r.userAuth)}}class Vs extends Error{constructor(t,e,r,i,o,a,s){const l=i?`status ${r} ${i}`:`status ${r}`;typeof o=="string"?super(`Request failed (${t} ${e}): ${o} (${l})`):super(`Request failed (${t} ${e}): (${l})`),this.method=t,this.url=e,this.statusText=i,this.statusCode=r,this.error=o,this.errorCode=a,this.link=s}static async fromRequestAndResponse(t,e){var r;const{url:i,method:o}=t,{status:a,statusText:s}=e;if((r=e.headers.get("content-type"))===null||r===void 0?void 0:r.startsWith("application/json")){const l=await e.json();if(typeof l=="object"&&l){const{error:u,error_code:f,link:h}=l;return new Vs(o,i,a,s,typeof u=="string"?u:void 0,typeof f=="string"?f:void 0,typeof h=="string"?h:void 0)}}return new Vs(o,i,a,s)}}function M1(n){if(typeof n!="object"||n===null)throw new Error("Expected a non-null object");if(Symbol.asyncIterator in n)return n;if("getReader"in n){const t=n;return{[Symbol.asyncIterator](){const e=t.getReader();return{next(){return e.read()},async return(){return await e.cancel(),{done:!0,value:null}}}}}}else throw new Error("Expected an AsyncIterable or a ReadableStream")}class Ti{constructor({appId:t,transport:e,userContext:r,locationUrlContext:i}){this.appId=t,this.transport=e,this.userContext=r,this.locationUrlContext=i}static buildAuthorizationHeader(t,e){if(!t||e==="none")return{};if(e==="access")return{Authorization:`Bearer ${t.accessToken}`};if(e==="refresh")return{Authorization:`Bearer ${t.refreshToken}`};throw new Error(`Unexpected token type (${e})`)}static buildBody(t){if(t){if(typeof t=="object"&&t!==null)return JSON.stringify(yg(t));if(typeof t=="string")return t;throw console.log("body is",t),new Error("Unexpected type of body")}else return}static buildJsonHeader(t){return t&&t.length>0?{"Content-Type":"application/json"}:{}}clone(t){return new Ti(Ft({appId:this.appId,transport:this.transport,userContext:this.userContext,locationUrlContext:this.locationUrlContext},t))}async fetch(t){const s=t,{path:e,url:r,tokenType:i="access",user:o=this.userContext.currentUser}=s,a=Dl(s,["path","url","tokenType","user"]);if(typeof e=="string"&&typeof r=="string")throw new Error("Use of 'url' and 'path' mutually exclusive");if(typeof e=="string"){const l=await this.locationUrlContext.locationUrl+e;return this.fetch(Ge(Ft({},t),{path:void 0,url:l}))}else if(typeof r=="string"){const l=await this.transport.fetch(Ge(Ft({},a),{url:r,headers:Ft(Ft({},Ti.buildAuthorizationHeader(o,i)),t.headers)}));if(l.ok)return l;if(o&&l.status===401&&i==="access")return await o.refreshAccessToken(),this.fetch(Ge(Ft({},t),{user:o}));throw o&&l.status===401&&i==="refresh"&&(o.accessToken=null,o.refreshToken=null),await Vs.fromRequestAndResponse(t,l)}else throw new Error("Expected either 'url' or 'path'")}async fetchJSON(t){const{body:e}=t,r=Ti.buildBody(e),i=Ti.buildJsonHeader(r),o=await this.fetch(Ge(Ft({},t),{body:r,headers:Ft(Ft({Accept:"application/json"},i),t.headers)})),a=o.headers.get("content-type");if(a==null?void 0:a.startsWith("application/json")){const s=await o.json();return _g(s)}else{if(a===null)return null;throw new Error(`Expected JSON response, got "${a}"`)}}async fetchStream(t){const{body:e}=await this.fetch(Ge(Ft({},t),{headers:Ft({Accept:"text/event-stream"},t.headers)}));return M1(e)}get appRoute(){return De.api().app(this.appId)}get locationUrl(){return this.locationUrlContext.locationUrl}}const D1="deviceId";var Rg;(function(n){n.DEVICE_ID="deviceId",n.APP_ID="appId",n.APP_VERSION="appVersion",n.PLATFORM="platform",n.PLATFORM_VERSION="platformVersion",n.SDK_VERSION="sdkVersion"})(Rg||(Rg={}));class F1{constructor({appId:t,appVersion:e,deviceId:r}){this.sdkVersion="1.5.1";const i=Qo();this.platform=i.platform,this.platformVersion=i.platformVersion,this.appId=t,this.appVersion=e,this.deviceId=r}encode(){const t=cc(this);return zs.encode(JSON.stringify(t))}toJSON(){return cc(this)}}const k1="https://stitch.mongodb.com";class wr{constructor(t){this.users=[],this._locationUrl=null;const e=typeof t=="string"?{id:t}:t;if(typeof e=="object"&&typeof e.id=="string")this.id=e.id;else throw new Error("Missing a MongoDB Realm app-id");this.baseUrl=e.baseUrl||k1,e.skipLocationRequest&&(this._locationUrl=Promise.resolve(this.baseUrl)),this.localApp=e.app;const{storage:r,transport:i=new cn}=e;this.fetcher=new Ti({appId:this.id,userContext:this,locationUrlContext:this,transport:i}),this.emailPasswordAuth=new _1(this.fetcher);const o=r||Qo().defaultStorage;this.storage=new R1(o,this.id),this.authenticator=new N1(this.fetcher,o,()=>this.deviceInformation);try{this.hydrate()}catch(a){this.storage.clear(),console.warn("Realm app hydration failed:",a.message)}}static getApp(t){if(t in wr.appCache)return wr.appCache[t];{const e=new wr(t);return wr.appCache[t]=e,e}}switchUser(t){const e=this.users.findIndex(i=>i===t);if(e===-1)throw new Error("The user was never logged into this app");const[r]=this.users.splice(e,1);this.users.unshift(r)}async logIn(t,e=!0){const r=await this.authenticator.authenticate(t),i=this.createOrUpdateUser(r,t.providerType);this.switchUser(i),e&&await i.refreshProfile(),this.storage.setUserIds(this.users.map(a=>a.id),!0);const o=r.deviceId;return o&&o!=="000000000000000000000000"&&this.storage.set(D1,o),i}async removeUser(t){const e=this.users.findIndex(r=>r===t);if(e===-1)throw new Error("The user was never logged into this app");this.users.splice(e,1),await t.logOut(),this.storage.remove(`user(${t.id}):profile`),this.storage.removeUserId(t.id)}get currentUser(){const t=this.users.filter(e=>e.state===Er.Active);return t.length===0?null:t[0]}get allUsers(){return Object.fromEntries(this.users.map(t=>[t.id,t]))}get locationUrl(){if(!this._locationUrl){const t=De.api().app(this.id).location().path;this._locationUrl=this.fetcher.fetchJSON({method:"GET",url:this.baseUrl+t,tokenType:"none"}).then(e=>{if(typeof e!="object")throw new Error("Expected response body be an object");return e}).then(({hostname:e})=>{if(typeof e!="string")throw new Error("Expected response to contain a 'hostname'");return e}).catch(e=>{throw this._locationUrl=null,e})}return this._locationUrl}get deviceInformation(){const t=this.storage.getDeviceId(),e=typeof t=="string"&&t!=="000000000000000000000000"?new ue(t):void 0;return new F1({appId:this.localApp?this.localApp.name:void 0,appVersion:this.localApp?this.localApp.version:void 0,deviceId:e})}createOrUpdateUser(t,e){const r=this.users.find(i=>i.id===t.userId);if(r)return r.accessToken=t.accessToken,r.refreshToken=t.refreshToken,r;{if(!t.refreshToken)throw new Error("No refresh token in response from server");const i=new Sg({app:this,id:t.userId,accessToken:t.accessToken,refreshToken:t.refreshToken,providerType:e});return this.users.unshift(i),i}}hydrate(){const t=this.storage.getUserIds();this.users=t.map(e=>new Sg({app:this,id:e}))}}wr.appCache={};wr.Credentials=fe;class U1{constructor(){if(typeof globalThis.localStorage=="object")this.global=globalThis;else throw new Error("Cannot use LocalStorage without a global localStorage object")}get(t){return this.global.localStorage.getItem(t)}set(t,e){return this.global.localStorage.setItem(t,e)}remove(t){return this.global.localStorage.removeItem(t)}prefix(t){return new Me(this,t)}clear(t){const e=[];for(let r=0;r<this.global.localStorage.length;r++){const i=this.global.localStorage.key(r);i&&(!t||i.startsWith(t))&&e.push(i)}for(const r of e)this.global.localStorage.removeItem(r)}addListener(t){return this.global.addEventListener("storage",t)}removeListener(t){return this.global.removeEventListener("storage",t)}}const Si=VE(),B1="localStorage"in globalThis?U1:u1;function j1(n){return typeof globalThis.open=="function"?globalThis.open(n):(console.log(`Please open ${n}`),null)}const b1={defaultStorage:new B1().prefix("realm-web"),openWindow:j1,platform:(Si==null?void 0:Si.name)||"web",platformVersion:(Si==null?void 0:Si.version)||"0.0.0",TextDecoder};w1(b1);var G1={exports:{}},ta={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $1=Ia.exports,Ag=60103;ta.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Pg=Symbol.for;Ag=Pg("react.element"),ta.Fragment=Pg("react.fragment")}var z1=$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,W1=Object.prototype.hasOwnProperty,V1={key:!0,ref:!0,__self:!0,__source:!0};function Lg(n,t,e){var r,i={},o=null,a=null;e!==void 0&&(o=""+e),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)W1.call(t,r)&&!V1.hasOwnProperty(r)&&(i[r]=t[r]);if(n&&n.defaultProps)for(r in t=n.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Ag,type:n,key:o,ref:a,props:i,_owner:z1.current}}ta.jsx=Lg;ta.jsxs=Lg;G1.exports=ta;var vt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function ot(){return function(){throw new Error("Unimplemented abstract method.")}()}var Y1=0;function ft(n){return n.ol_uid||(n.ol_uid=String(++Y1))}var X1="6.11.0";function Ng(n){return n[0]>0&&n[1]>0}function H1(n,t,e){return e===void 0&&(e=[0,0]),e[0]=n[0]*t+.5|0,e[1]=n[1]*t+.5|0,e}function Ze(n,t){return Array.isArray(n)?n:(t===void 0?t=[n,n]:(t[0]=n,t[1]=n),t)}var Z1=function(){function n(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Ze(t.scale),this.displacement_=t.displacement}return n.prototype.clone=function(){var t=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},n.prototype.getOpacity=function(){return this.opacity_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getScaleArray=function(){return this.scaleArray_},n.prototype.getDisplacement=function(){return this.displacement_},n.prototype.getAnchor=function(){return ot()},n.prototype.getImage=function(t){return ot()},n.prototype.getHitDetectionImage=function(){return ot()},n.prototype.getPixelRatio=function(t){return 1},n.prototype.getImageState=function(){return ot()},n.prototype.getImageSize=function(){return ot()},n.prototype.getOrigin=function(){return ot()},n.prototype.getSize=function(){return ot()},n.prototype.setDisplacement=function(t){this.displacement_=t},n.prototype.setOpacity=function(t){this.opacity_=t},n.prototype.setRotateWithView=function(t){this.rotateWithView_=t},n.prototype.setRotation=function(t){this.rotation_=t},n.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Ze(t)},n.prototype.listenImageChange=function(t){ot()},n.prototype.load=function(){ot()},n.prototype.unlistenImageChange=function(t){ot()},n}(),Mg=Z1,K1=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),J1=function(n){K1(t,n);function t(e){var r=this,i="v"+X1.split("-")[0],o="Assertion failed. See https://openlayers.org/en/"+i+"/doc/errors/#"+e+" for details.";return r=n.call(this,o)||this,r.code=e,r.name="AssertionError",r.message=o,r}return t}(Error),Dg=J1;function at(n,t){if(!n)throw new Dg(t)}function Nt(n,t,e){return Math.min(Math.max(n,t),e)}var q1=function(){var n;return"cosh"in Math?n=Math.cosh:n=function(t){var e=Math.exp(t);return(e+1/e)/2},n}(),Q1=function(){var n;return"log2"in Math?n=Math.log2:n=function(t){return Math.log(t)*Math.LOG2E},n}();function tw(n,t,e,r,i,o){var a=i-e,s=o-r;if(a!==0||s!==0){var l=((n-e)*a+(t-r)*s)/(a*a+s*s);l>1?(e=i,r=o):l>0&&(e+=a*l,r+=s*l)}return Oi(n,t,e,r)}function Oi(n,t,e,r){var i=e-n,o=r-t;return i*i+o*o}function ew(n){for(var t=n.length,e=0;e<t;e++){for(var r=e,i=Math.abs(n[e][e]),o=e+1;o<t;o++){var a=Math.abs(n[o][e]);a>i&&(i=a,r=o)}if(i===0)return null;var s=n[r];n[r]=n[e],n[e]=s;for(var l=e+1;l<t;l++)for(var u=-n[l][e]/n[e][e],f=e;f<t+1;f++)e==f?n[l][f]=0:n[l][f]+=u*n[e][f]}for(var h=new Array(t),c=t-1;c>=0;c--){h[c]=n[c][t]/n[c][c];for(var v=c-1;v>=0;v--)n[v][t]-=n[v][c]*h[c]}return h}function Ys(n){return n*Math.PI/180}function Ci(n,t){var e=n%t;return e*t<0?e+t:e}function xr(n,t,e){return n+e*(t-n)}function Fg(n,t){var e=Math.pow(10,t);return Math.round(n*e)/e}function Xs(n,t){return Math.floor(Fg(n,t))}function Hs(n,t){return Math.ceil(Fg(n,t))}var nw=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,rw=/^([a-z]*)$|^hsla?\(.*\)$/i;function kg(n){return typeof n=="string"?n:Bg(n)}function iw(n){var t=document.createElement("div");if(t.style.color=n,t.style.color!==""){document.body.appendChild(t);var e=getComputedStyle(t).color;return document.body.removeChild(t),e}else return""}var ow=function(){var n=1024,t={},e=0;return function(r){var i;if(t.hasOwnProperty(r))i=t[r];else{if(e>=n){var o=0;for(var a in t)(o++&3)==0&&(delete t[a],--e)}i=aw(r),t[r]=i,++e}return i}}();function Zs(n){return Array.isArray(n)?n:ow(n)}function aw(n){var t,e,r,i,o;if(rw.exec(n)&&(n=iw(n)),nw.exec(n)){var a=n.length-1,s=void 0;a<=4?s=1:s=2;var l=a===4||a===8;t=parseInt(n.substr(1+0*s,s),16),e=parseInt(n.substr(1+1*s,s),16),r=parseInt(n.substr(1+2*s,s),16),l?i=parseInt(n.substr(1+3*s,s),16):i=255,s==1&&(t=(t<<4)+t,e=(e<<4)+e,r=(r<<4)+r,l&&(i=(i<<4)+i)),o=[t,e,r,i/255]}else n.indexOf("rgba(")==0?(o=n.slice(5,-1).split(",").map(Number),Ug(o)):n.indexOf("rgb(")==0?(o=n.slice(4,-1).split(",").map(Number),o.push(1),Ug(o)):at(!1,14);return o}function Ug(n){return n[0]=Nt(n[0]+.5|0,0,255),n[1]=Nt(n[1]+.5|0,0,255),n[2]=Nt(n[2]+.5|0,0,255),n[3]=Nt(n[3],0,1),n}function Bg(n){var t=n[0];t!=(t|0)&&(t=t+.5|0);var e=n[1];e!=(e|0)&&(e=e+.5|0);var r=n[2];r!=(r|0)&&(r=r+.5|0);var i=n[3]===void 0?1:Math.round(n[3]*100)/100;return"rgba("+t+","+e+","+r+","+i+")"}function Ke(n){return Array.isArray(n)?Bg(n):n}var Ii=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"?navigator.userAgent.toLowerCase():"",sw=Ii.indexOf("firefox")!==-1;Ii.indexOf("safari")!==-1&&Ii.indexOf("chrom")==-1;var lw=Ii.indexOf("webkit")!==-1&&Ii.indexOf("edge")==-1,uw=Ii.indexOf("macintosh")!==-1,jg=typeof devicePixelRatio!="undefined"?devicePixelRatio:1,Ks=typeof WorkerGlobalScope!="undefined"&&typeof OffscreenCanvas!="undefined"&&self instanceof WorkerGlobalScope,fw=typeof Image!="undefined"&&Image.prototype.decode,bg=function(){var n=!1;try{var t=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return n}();function Te(n,t,e,r){var i;return e&&e.length?i=e.shift():Ks?i=new OffscreenCanvas(n||300,t||300):i=document.createElement("canvas"),n&&(i.width=n),t&&(i.height=t),i.getContext("2d",r)}function Gg(n,t){var e=t.parentNode;e&&e.replaceChild(n,t)}function dc(n){return n&&n.parentNode?n.parentNode.removeChild(n):null}function cw(n){for(;n.lastChild;)n.removeChild(n.lastChild)}function hw(n,t){for(var e=n.childNodes,r=0;;++r){var i=e[r],o=t[r];if(!i&&!o)break;if(i!==o){if(!i){n.appendChild(o);continue}if(!o){n.removeChild(i),--r;continue}n.insertBefore(o,i)}}}var pw=function(){function n(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return n.prototype.preventDefault=function(){this.defaultPrevented=!0},n.prototype.stopPropagation=function(){this.propagationStopped=!0},n}(),hn=pw,Ri={PROPERTYCHANGE:"propertychange"},dw=function(){function n(){this.disposed=!1}return n.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},n.prototype.disposeInternal=function(){},n}(),vc=dw;function Ai(n,t){return n>t?1:n<t?-1:0}function gc(n,t,e){var r=n.length;if(n[0]<=t)return 0;if(t<=n[r-1])return r-1;var i=void 0;if(e>0){for(i=1;i<r;++i)if(n[i]<t)return i-1}else if(e<0){for(i=1;i<r;++i)if(n[i]<=t)return i}else for(i=1;i<r;++i){if(n[i]==t)return i;if(n[i]<t)return typeof e=="function"?e(t,n[i-1],n[i])>0?i-1:i:n[i-1]-t<t-n[i]?i-1:i}return r-1}function vw(n,t,e){for(;t<e;){var r=n[t];n[t]=n[e],n[e]=r,++t,--e}}function $g(n,t){for(var e=Array.isArray(t)?t:[t],r=e.length,i=0;i<r;i++)n[n.length]=e[i]}function Tr(n,t){var e=n.length;if(e!==t.length)return!1;for(var r=0;r<e;r++)if(n[r]!==t[r])return!1;return!0}function gw(n,t,e){var r=t||Ai;return n.every(function(i,o){if(o===0)return!0;var a=r(n[o-1],i);return!(a>0||e&&a===0)})}function Pi(){return!0}function Js(){return!1}function Sr(){}function yw(n){var t=!1,e,r,i;return function(){var o=Array.prototype.slice.call(arguments);return(!t||this!==i||!Tr(o,r))&&(t=!0,i=this,r=o,e=n.apply(this,arguments)),e}}var zt=typeof Object.assign=="function"?Object.assign:function(n,t){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(n),r=1,i=arguments.length;r<i;++r){var o=arguments[r];if(o!=null)for(var a in o)o.hasOwnProperty(a)&&(e[a]=o[a])}return e};function ea(n){for(var t in n)delete n[t]}var zg=typeof Object.values=="function"?Object.values:function(n){var t=[];for(var e in n)t.push(n[e]);return t};function na(n){var t;for(t in n)return!1;return!t}var _w=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mw=function(n){_w(t,n);function t(e){var r=n.call(this)||this;return r.eventTarget_=e,r.pendingRemovals_=null,r.dispatching_=null,r.listeners_=null,r}return t.prototype.addEventListener=function(e,r){if(!(!e||!r)){var i=this.listeners_||(this.listeners_={}),o=i[e]||(i[e]=[]);o.indexOf(r)===-1&&o.push(r)}},t.prototype.dispatchEvent=function(e){var r=typeof e=="string"?new hn(e):e,i=r.type;r.target||(r.target=this.eventTarget_||this);var o=this.listeners_&&this.listeners_[i],a;if(o){var s=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});i in s||(s[i]=0,l[i]=0),++s[i];for(var u=0,f=o.length;u<f;++u)if("handleEvent"in o[u]?a=o[u].handleEvent(r):a=o[u].call(this,r),a===!1||r.propagationStopped){a=!1;break}if(--s[i],s[i]===0){var h=l[i];for(delete l[i];h--;)this.removeEventListener(i,Sr);delete s[i]}return a}},t.prototype.disposeInternal=function(){this.listeners_&&ea(this.listeners_)},t.prototype.getListeners=function(e){return this.listeners_&&this.listeners_[e]||void 0},t.prototype.hasListener=function(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1},t.prototype.removeEventListener=function(e,r){var i=this.listeners_&&this.listeners_[e];if(i){var o=i.indexOf(r);o!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[o]=Sr,++this.pendingRemovals_[e]):(i.splice(o,1),i.length===0&&delete this.listeners_[e]))}},t}(vc),Li=mw,tt={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function lt(n,t,e,r,i){if(r&&r!==n&&(e=e.bind(r)),i){var o=e;e=function(){n.removeEventListener(t,e),o.apply(this,arguments)}}var a={target:n,type:t,listener:e};return n.addEventListener(t,e),a}function qs(n,t,e,r){return lt(n,t,e,r,!0)}function wt(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),ea(n))}var Ew=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Qs=function(n){Ew(t,n);function t(){var e=n.call(this)||this;return e.on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return t.prototype.changed=function(){++this.revision_,this.dispatchEvent(tt.CHANGE)},t.prototype.getRevision=function(){return this.revision_},t.prototype.onInternal=function(e,r){if(Array.isArray(e)){for(var i=e.length,o=new Array(i),a=0;a<i;++a)o[a]=lt(this,e[a],r);return o}else return lt(this,e,r)},t.prototype.onceInternal=function(e,r){var i;if(Array.isArray(e)){var o=e.length;i=new Array(o);for(var a=0;a<o;++a)i[a]=qs(this,e[a],r)}else i=qs(this,e,r);return r.ol_key=i,i},t.prototype.unInternal=function(e,r){var i=r.ol_key;if(i)ww(i);else if(Array.isArray(e))for(var o=0,a=e.length;o<a;++o)this.removeEventListener(e[o],r);else this.removeEventListener(e,r)},t}(Li);Qs.prototype.on;Qs.prototype.once;Qs.prototype.un;function ww(n){if(Array.isArray(n))for(var t=0,e=n.length;t<e;++t)wt(n[t]);else wt(n)}var Wg=Qs,Vg=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Yg=function(n){Vg(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.key=r,o.oldValue=i,o}return t}(hn),xw=function(n){Vg(t,n);function t(e){var r=n.call(this)||this;return r.on,r.once,r.un,ft(r),r.values_=null,e!==void 0&&r.setProperties(e),r}return t.prototype.get=function(e){var r;return this.values_&&this.values_.hasOwnProperty(e)&&(r=this.values_[e]),r},t.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},t.prototype.getProperties=function(){return this.values_&&zt({},this.values_)||{}},t.prototype.hasProperties=function(){return!!this.values_},t.prototype.notify=function(e,r){var i;i="change:"+e,this.dispatchEvent(new Yg(i,e,r)),i=Ri.PROPERTYCHANGE,this.dispatchEvent(new Yg(i,e,r))},t.prototype.addChangeListener=function(e,r){this.addEventListener("change:"+e,r)},t.prototype.removeChangeListener=function(e,r){this.removeEventListener("change:"+e,r)},t.prototype.set=function(e,r,i){var o=this.values_||(this.values_={});if(i)o[e]=r;else{var a=o[e];o[e]=r,a!==r&&this.notify(e,a)}},t.prototype.setProperties=function(e,r){for(var i in e)this.set(i,e[i],r)},t.prototype.applyProperties=function(e){!e.values_||zt(this.values_||(this.values_={}),e.values_)},t.prototype.unset=function(e,r){if(this.values_&&e in this.values_){var i=this.values_[e];delete this.values_[e],na(this.values_)&&(this.values_=null),r||this.notify(e,i)}},t}(Wg),Je=xw,tl="ol-hidden",el="ol-unselectable",yc="ol-control",Xg="ol-collapsed",Tw=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z]+?)\\s*$`].join(""),"i"),Hg=["style","variant","weight","size","lineHeight","family"],Zg=function(n){var t=n.match(Tw);if(!t)return null;for(var e={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,i=Hg.length;r<i;++r){var o=t[r+1];o!==void 0&&(e[Hg[r]]=o)}return e.families=e.family.split(/,\s?/),e};function Kg(n){return n===1?"":String(Math.round(n*100)/100)}var Jg="10px sans-serif",pn="#000",nl="round",ra=[],ia=0,Ni="round",oa=10,aa="#000",sa="center",rl="middle",Or=[0,0,0,0],la=1,dn=new Je,Sw=new Li;Sw.setSize=function(){console.warn("labelCache is deprecated.")};var Mi=null,_c,mc={},Ow=function(){var n=100,t="32px ",e=["monospace","serif"],r=e.length,i="wmytzilWMYTZIL@#/&?$%10\uF013",o,a;function s(u,f,h){for(var c=!0,v=0;v<r;++v){var g=e[v];if(a=il(u+" "+f+" "+t+g,i),h!=g){var T=il(u+" "+f+" "+t+h+","+g,i);c=c&&T!=a}}return!!c}function l(){for(var u=!0,f=dn.getKeys(),h=0,c=f.length;h<c;++h){var v=f[h];dn.get(v)<n&&(s.apply(this,v.split(`
`))?(ea(mc),Mi=null,_c=void 0,dn.set(v,n)):(dn.set(v,dn.get(v)+1,!0),u=!1))}u&&(clearInterval(o),o=void 0)}return function(u){var f=Zg(u);if(!!f)for(var h=f.families,c=0,v=h.length;c<v;++c){var g=h[c],T=f.style+`
`+f.weight+`
`+g;dn.get(T)===void 0&&(dn.set(T,n,!0),s(f.style,f.weight,g)||(dn.set(T,0,!0),o===void 0&&(o=setInterval(l,32))))}}}(),Cw=function(){var n;return function(t){var e=mc[t];if(e==null){if(Ks){var r=Zg(t),i=qg(t,"\u017Dg"),o=isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight);e=o*(i.actualBoundingBoxAscent+i.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=t,document.body.appendChild(n),e=n.offsetHeight,document.body.removeChild(n);mc[t]=e}return e}}();function qg(n,t){return Mi||(Mi=Te(1,1)),n!=_c&&(Mi.font=n,_c=Mi.font),Mi.measureText(t)}function il(n,t){return qg(n,t).width}function Qg(n,t,e){if(t in e)return e[t];var r=il(n,t);return e[t]=r,r}function Iw(n,t,e){for(var r=t.length,i=0,o=0;o<r;++o){var a=il(n,t[o]);i=Math.max(i,a),e.push(a)}return i}function Rw(n,t,e,r,i,o,a,s,l,u,f){n.save(),e!==1&&(n.globalAlpha*=e),t&&n.setTransform.apply(n,t),r.contextInstructions?(n.translate(l,u),n.scale(f[0],f[1]),Aw(r,n)):f[0]<0||f[1]<0?(n.translate(l,u),n.scale(f[0],f[1]),n.drawImage(r,i,o,a,s,0,0,a,s)):n.drawImage(r,i,o,a,s,l,u,a*f[0],s*f[1]),n.restore()}function Aw(n,t){for(var e=n.contextInstructions,r=0,i=e.length;r<i;r+=2)Array.isArray(e[r+1])?t[e[r]].apply(t,e[r+1]):t[e[r]]=e[r+1]}var Pw=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Lw=function(n){Pw(t,n);function t(e){var r=this,i=e.rotateWithView!==void 0?e.rotateWithView:!1;return r=n.call(this,{opacity:1,rotateWithView:i,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0]})||this,r.canvas_=void 0,r.hitDetectionCanvas_=null,r.fill_=e.fill!==void 0?e.fill:null,r.origin_=[0,0],r.points_=e.points,r.radius_=e.radius!==void 0?e.radius:e.radius1,r.radius2_=e.radius2,r.angle_=e.angle!==void 0?e.angle:0,r.stroke_=e.stroke!==void 0?e.stroke:null,r.size_=null,r.renderOptions_=null,r.render(),r}return t.prototype.clone=function(){var e=this.getScale(),r=new t({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice()});return r.setOpacity(this.getOpacity()),r},t.prototype.getAnchor=function(){var e=this.size_;if(!e)return null;var r=this.getDisplacement();return[e[0]/2-r[0],e[1]/2+r[1]]},t.prototype.getAngle=function(){return this.angle_},t.prototype.getFill=function(){return this.fill_},t.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},t.prototype.getImage=function(e){var r=this.canvas_[e];if(!r){var i=this.renderOptions_,o=Te(i.size*e,i.size*e);this.draw_(i,o,e),r=o.canvas,this.canvas_[e]=r}return r},t.prototype.getPixelRatio=function(e){return e},t.prototype.getImageSize=function(){return this.size_},t.prototype.getImageState=function(){return vt.LOADED},t.prototype.getOrigin=function(){return this.origin_},t.prototype.getPoints=function(){return this.points_},t.prototype.getRadius=function(){return this.radius_},t.prototype.getRadius2=function(){return this.radius2_},t.prototype.getSize=function(){return this.size_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.listenImageChange=function(e){},t.prototype.load=function(){},t.prototype.unlistenImageChange=function(e){},t.prototype.calculateLineJoinSize_=function(e,r,i){if(r===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return r;var o=this.radius_,a=this.radius2_===void 0?o:this.radius2_;if(o<a){var s=o;o=a,a=s}var l=this.radius2_===void 0?this.points_:this.points_*2,u=2*Math.PI/l,f=a*Math.sin(u),h=Math.sqrt(a*a-f*f),c=o-h,v=Math.sqrt(f*f+c*c),g=v/f;if(e==="miter"&&g<=i)return g*r;var T=r/2/g,_=r/2*(c/v),y=Math.sqrt((o+T)*(o+T)+_*_),m=y-o;if(this.radius2_===void 0||e==="bevel")return m*2;var x=o*Math.sin(u),E=Math.sqrt(o*o-x*x),C=a-E,I=Math.sqrt(x*x+C*C),A=I/x;if(A<=i){var L=A*r/2-a-o;return 2*Math.max(m,L)}return m*2},t.prototype.createRenderOptions=function(){var e=Ni,r=0,i=null,o=0,a,s=0;this.stroke_&&(a=this.stroke_.getColor(),a===null&&(a=aa),a=Ke(a),s=this.stroke_.getWidth(),s===void 0&&(s=la),i=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),e===void 0&&(e=Ni),r=this.stroke_.getMiterLimit(),r===void 0&&(r=oa));var l=this.calculateLineJoinSize_(e,s,r),u=Math.max(this.radius_,this.radius2_||0),f=Math.ceil(2*u+l);return{strokeStyle:a,strokeWidth:s,size:f,lineDash:i,lineDashOffset:o,lineJoin:e,miterLimit:r}},t.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var e=this.renderOptions_.size;this.canvas_={},this.size_=[e,e]},t.prototype.draw_=function(e,r,i){if(r.scale(i,i),r.translate(e.size/2,e.size/2),this.createPath_(r),this.fill_){var o=this.fill_.getColor();o===null&&(o=pn),r.fillStyle=Ke(o),r.fill()}this.stroke_&&(r.strokeStyle=e.strokeStyle,r.lineWidth=e.strokeWidth,r.setLineDash&&e.lineDash&&(r.setLineDash(e.lineDash),r.lineDashOffset=e.lineDashOffset),r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit,r.stroke())},t.prototype.createHitDetectionCanvas_=function(e){if(this.fill_){var r=this.fill_.getColor(),i=0;if(typeof r=="string"&&(r=Zs(r)),r===null?i=1:Array.isArray(r)&&(i=r.length===4?r[3]:1),i===0){var o=Te(e.size,e.size);this.hitDetectionCanvas_=o.canvas,this.drawHitDetectionCanvas_(e,o)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},t.prototype.createPath_=function(e){var r=this.points_,i=this.radius_;if(r===1/0)e.arc(0,0,i,0,2*Math.PI);else{var o=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(r*=2);for(var a=this.angle_-Math.PI/2,s=2*Math.PI/r,l=0;l<r;l++){var u=a+l*s,f=l%2==0?i:o;e.lineTo(f*Math.cos(u),f*Math.sin(u))}e.closePath()}},t.prototype.drawHitDetectionCanvas_=function(e,r){r.translate(e.size/2,e.size/2),this.createPath_(r),r.fillStyle=pn,r.fill(),this.stroke_&&(r.strokeStyle=e.strokeStyle,r.lineWidth=e.strokeWidth,e.lineDash&&(r.setLineDash(e.lineDash),r.lineDashOffset=e.lineDashOffset),r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit,r.stroke())},t}(Mg),Nw=Lw,Mw=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Dw=function(n){Mw(t,n);function t(e){var r=this,i=e||{};return r=n.call(this,{points:1/0,fill:i.fill,radius:i.radius,stroke:i.stroke,scale:i.scale!==void 0?i.scale:1,rotation:i.rotation!==void 0?i.rotation:0,rotateWithView:i.rotateWithView!==void 0?i.rotateWithView:!1,displacement:i.displacement!==void 0?i.displacement:[0,0]})||this,r}return t.prototype.clone=function(){var e=this.getScale(),r=new t({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return r.setOpacity(this.getOpacity()),r},t.prototype.setRadius=function(e){this.radius_=e,this.render()},t}(Nw),Fw=Dw,kw=function(){function n(t){var e=t||{};this.color_=e.color!==void 0?e.color:null}return n.prototype.clone=function(){var t=this.getColor();return new n({color:Array.isArray(t)?t.slice():t||void 0})},n.prototype.getColor=function(){return this.color_},n.prototype.setColor=function(t){this.color_=t},n}(),Uw=kw,Wn={FRACTION:"fraction",PIXELS:"pixels"},Se={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Bw=function(){function n(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return n.prototype.clear=function(){this.cache_={},this.cacheSize_=0},n.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},n.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var r=this.cache_[e];(t++&3)==0&&!r.hasListener()&&(delete this.cache_[e],--this.cacheSize_)}}},n.prototype.get=function(t,e,r){var i=ty(t,e,r);return i in this.cache_?this.cache_[i]:null},n.prototype.set=function(t,e,r,i){var o=ty(t,e,r);this.cache_[o]=i,++this.cacheSize_},n.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},n}();function ty(n,t,e){var r=e?kg(e):"null";return t+":"+n+":"+r}var ol=new Bw,jw=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bw=function(n){jw(t,n);function t(e,r,i,o){var a=n.call(this)||this;return a.extent=e,a.pixelRatio_=i,a.resolution=r,a.state=o,a}return t.prototype.changed=function(){this.dispatchEvent(tt.CHANGE)},t.prototype.getExtent=function(){return this.extent},t.prototype.getImage=function(){return ot()},t.prototype.getPixelRatio=function(){return this.pixelRatio_},t.prototype.getResolution=function(){return this.resolution},t.prototype.getState=function(){return this.state},t.prototype.load=function(){ot()},t}(Li),Gw=bw,ua={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Bt={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function ey(n){for(var t=Fe(),e=0,r=n.length;e<r;++e)ca(t,n[e]);return t}function Ec(n,t,e){return e?(e[0]=n[0]-t,e[1]=n[1]-t,e[2]=n[2]+t,e[3]=n[3]+t,e):[n[0]-t,n[1]-t,n[2]+t,n[3]+t]}function ny(n,t){return t?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t):n.slice()}function ry(n,t,e){var r,i;return t<n[0]?r=n[0]-t:n[2]<t?r=t-n[2]:r=0,e<n[1]?i=n[1]-e:n[3]<e?i=e-n[3]:i=0,r*r+i*i}function al(n,t){return iy(n,t[0],t[1])}function Di(n,t){return n[0]<=t[0]&&t[2]<=n[2]&&n[1]<=t[1]&&t[3]<=n[3]}function iy(n,t,e){return n[0]<=t&&t<=n[2]&&n[1]<=e&&e<=n[3]}function wc(n,t){var e=n[0],r=n[1],i=n[2],o=n[3],a=t[0],s=t[1],l=Bt.UNKNOWN;return a<e?l=l|Bt.LEFT:a>i&&(l=l|Bt.RIGHT),s<r?l=l|Bt.BELOW:s>o&&(l=l|Bt.ABOVE),l===Bt.UNKNOWN&&(l=Bt.INTERSECTING),l}function Fe(){return[1/0,1/0,-1/0,-1/0]}function vn(n,t,e,r,i){return i?(i[0]=n,i[1]=t,i[2]=e,i[3]=r,i):[n,t,e,r]}function sl(n){return vn(1/0,1/0,-1/0,-1/0,n)}function $w(n,t){var e=n[0],r=n[1];return vn(e,r,e,r,t)}function zw(n,t,e,r,i){var o=sl(i);return oy(o,n,t,e,r)}function fa(n,t){return n[0]==t[0]&&n[2]==t[2]&&n[1]==t[1]&&n[3]==t[3]}function Ww(n,t){return t[0]<n[0]&&(n[0]=t[0]),t[2]>n[2]&&(n[2]=t[2]),t[1]<n[1]&&(n[1]=t[1]),t[3]>n[3]&&(n[3]=t[3]),n}function ca(n,t){t[0]<n[0]&&(n[0]=t[0]),t[0]>n[2]&&(n[2]=t[0]),t[1]<n[1]&&(n[1]=t[1]),t[1]>n[3]&&(n[3]=t[1])}function oy(n,t,e,r,i){for(;e<r;e+=i)Vw(n,t[e],t[e+1]);return n}function Vw(n,t,e){n[0]=Math.min(n[0],t),n[1]=Math.min(n[1],e),n[2]=Math.max(n[2],t),n[3]=Math.max(n[3],e)}function ay(n,t){var e;return e=t(ll(n)),e||(e=t(ul(n)),e)||(e=t(fl(n)),e)||(e=t(Cr(n)),e)?e:!1}function xc(n){var t=0;return Sc(n)||(t=At(n)*ke(n)),t}function ll(n){return[n[0],n[1]]}function ul(n){return[n[2],n[1]]}function Fi(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function Yw(n,t){var e;return t===ua.BOTTOM_LEFT?e=ll(n):t===ua.BOTTOM_RIGHT?e=ul(n):t===ua.TOP_LEFT?e=Cr(n):t===ua.TOP_RIGHT?e=fl(n):at(!1,13),e}function Tc(n,t,e,r,i){var o=t*r[0]/2,a=t*r[1]/2,s=Math.cos(e),l=Math.sin(e),u=o*s,f=o*l,h=a*s,c=a*l,v=n[0],g=n[1],T=v-u+c,_=v-u-c,y=v+u-c,m=v+u+c,x=g-f-h,E=g-f+h,C=g+f+h,I=g+f-h;return vn(Math.min(T,_,y,m),Math.min(x,E,C,I),Math.max(T,_,y,m),Math.max(x,E,C,I),i)}function ke(n){return n[3]-n[1]}function ha(n,t,e){var r=e||Fe();return ce(n,t)?(n[0]>t[0]?r[0]=n[0]:r[0]=t[0],n[1]>t[1]?r[1]=n[1]:r[1]=t[1],n[2]<t[2]?r[2]=n[2]:r[2]=t[2],n[3]<t[3]?r[3]=n[3]:r[3]=t[3]):sl(r),r}function Cr(n){return[n[0],n[3]]}function fl(n){return[n[2],n[3]]}function At(n){return n[2]-n[0]}function ce(n,t){return n[0]<=t[2]&&n[2]>=t[0]&&n[1]<=t[3]&&n[3]>=t[1]}function Sc(n){return n[2]<n[0]||n[3]<n[1]}function Xw(n,t){return t?(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t):n}function Hw(n,t,e){var r=!1,i=wc(n,t),o=wc(n,e);if(i===Bt.INTERSECTING||o===Bt.INTERSECTING)r=!0;else{var a=n[0],s=n[1],l=n[2],u=n[3],f=t[0],h=t[1],c=e[0],v=e[1],g=(v-h)/(c-f),T=void 0,_=void 0;!!(o&Bt.ABOVE)&&!(i&Bt.ABOVE)&&(T=c-(v-u)/g,r=T>=a&&T<=l),!r&&!!(o&Bt.RIGHT)&&!(i&Bt.RIGHT)&&(_=v-(c-l)*g,r=_>=s&&_<=u),!r&&!!(o&Bt.BELOW)&&!(i&Bt.BELOW)&&(T=c-(v-s)/g,r=T>=a&&T<=l),!r&&!!(o&Bt.LEFT)&&!(i&Bt.LEFT)&&(_=v-(c-a)*g,r=_>=s&&_<=u)}return r}function Zw(n,t){var e=t.getExtent(),r=Fi(n);if(t.canWrapX()&&(r[0]<e[0]||r[0]>=e[2])){var i=At(e),o=Math.floor((r[0]-e[0])/i),a=o*i;n[0]-=a,n[2]-=a}return n}var Kw=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();(function(n){Kw(t,n);function t(e,r,i,o,a,s){var l=n.call(this,e,r,i,vt.IDLE)||this;return l.src_=o,l.image_=new Image,a!==null&&(l.image_.crossOrigin=a),l.unlisten_=null,l.state=vt.IDLE,l.imageLoadFunction_=s,l}return t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=vt.ERROR,this.unlistenImage_(),this.changed()},t.prototype.handleImageLoad_=function(){this.resolution===void 0&&(this.resolution=ke(this.extent)/this.image_.height),this.state=vt.LOADED,this.unlistenImage_(),this.changed()},t.prototype.load=function(){(this.state==vt.IDLE||this.state==vt.ERROR)&&(this.state=vt.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Oc(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.setImage=function(e){this.image_=e,this.resolution=ke(this.extent)/this.image_.height},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t})(Gw);function Oc(n,t,e){var r=n,i=!0,o=!1,a=!1,s=[qs(r,tt.LOAD,function(){a=!0,o||t()})];return r.src&&fw?(o=!0,r.decode().then(function(){i&&t()}).catch(function(l){i&&(a?t():e())})):s.push(qs(r,tt.ERROR,e)),function(){i=!1,s.forEach(wt)}}var Jw=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),pa=null,qw=function(n){Jw(t,n);function t(e,r,i,o,a,s){var l=n.call(this)||this;return l.hitDetectionImage_=null,l.image_=e||new Image,o!==null&&(l.image_.crossOrigin=o),l.canvas_={},l.color_=s,l.unlisten_=null,l.imageState_=a,l.size_=i,l.src_=r,l.tainted_,l}return t.prototype.isTainted_=function(){if(this.tainted_===void 0&&this.imageState_===vt.LOADED){pa||(pa=Te(1,1)),pa.drawImage(this.image_,0,0);try{pa.getImageData(0,0,1,1),this.tainted_=!1}catch{pa=null,this.tainted_=!0}}return this.tainted_===!0},t.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(tt.CHANGE)},t.prototype.handleImageError_=function(){this.imageState_=vt.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.handleImageLoad_=function(){this.imageState_=vt.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.getImage=function(e){return this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_},t.prototype.getPixelRatio=function(e){return this.replaceColor_(e),this.canvas_[e]?e:1},t.prototype.getImageState=function(){return this.imageState_},t.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],r=this.size_[1],i=Te(e,r);i.fillRect(0,0,e,r),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},t.prototype.getSize=function(){return this.size_},t.prototype.getSrc=function(){return this.src_},t.prototype.load=function(){if(this.imageState_==vt.IDLE){this.imageState_=vt.LOADING;try{this.image_.src=this.src_}catch{this.handleImageError_()}this.unlisten_=Oc(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},t.prototype.replaceColor_=function(e){if(!(!this.color_||this.canvas_[e]||this.imageState_!==vt.LOADED)){var r=document.createElement("canvas");this.canvas_[e]=r,r.width=Math.ceil(this.image_.width*e),r.height=Math.ceil(this.image_.height*e);var i=r.getContext("2d");if(i.scale(e,e),i.drawImage(this.image_,0,0),i.globalCompositeOperation="multiply",i.globalCompositeOperation==="multiply"||this.isTainted_())i.fillStyle=kg(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(this.image_,0,0);else{for(var o=i.getImageData(0,0,r.width,r.height),a=o.data,s=this.color_[0]/255,l=this.color_[1]/255,u=this.color_[2]/255,f=this.color_[3],h=0,c=a.length;h<c;h+=4)a[h]*=s,a[h+1]*=l,a[h+2]*=u,a[h+3]*=f;i.putImageData(o,0,0)}}},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(Li);function Qw(n,t,e,r,i,o){var a=ol.get(t,r,o);return a||(a=new qw(n,t,e,r,i,o),ol.set(t,r,o,a)),a}var tx=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),ex=function(n){tx(t,n);function t(e){var r=this,i=e||{},o=i.opacity!==void 0?i.opacity:1,a=i.rotation!==void 0?i.rotation:0,s=i.scale!==void 0?i.scale:1,l=i.rotateWithView!==void 0?i.rotateWithView:!1;r=n.call(this,{opacity:o,rotation:a,scale:s,displacement:i.displacement!==void 0?i.displacement:[0,0],rotateWithView:l})||this,r.anchor_=i.anchor!==void 0?i.anchor:[.5,.5],r.normalizedAnchor_=null,r.anchorOrigin_=i.anchorOrigin!==void 0?i.anchorOrigin:Se.TOP_LEFT,r.anchorXUnits_=i.anchorXUnits!==void 0?i.anchorXUnits:Wn.FRACTION,r.anchorYUnits_=i.anchorYUnits!==void 0?i.anchorYUnits:Wn.FRACTION,r.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:null;var u=i.img!==void 0?i.img:null,f=i.imgSize!==void 0?i.imgSize:null,h=i.src;at(!(h!==void 0&&u),4),at(!u||u&&f,5),(h===void 0||h.length===0)&&u&&(h=u.src||ft(u)),at(h!==void 0&&h.length>0,6);var c=i.src!==void 0?vt.IDLE:vt.LOADED;return r.color_=i.color!==void 0?Zs(i.color):null,r.iconImage_=Qw(u,h,f,r.crossOrigin_,c,r.color_),r.offset_=i.offset!==void 0?i.offset:[0,0],r.offsetOrigin_=i.offsetOrigin!==void 0?i.offsetOrigin:Se.TOP_LEFT,r.origin_=null,r.size_=i.size!==void 0?i.size:null,r}return t.prototype.clone=function(){var e=this.getScale();return new t({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:this.size_!==null?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},t.prototype.getAnchor=function(){var e=this.normalizedAnchor_;if(!e){e=this.anchor_;var r=this.getSize();if(this.anchorXUnits_==Wn.FRACTION||this.anchorYUnits_==Wn.FRACTION){if(!r)return null;e=this.anchor_.slice(),this.anchorXUnits_==Wn.FRACTION&&(e[0]*=r[0]),this.anchorYUnits_==Wn.FRACTION&&(e[1]*=r[1])}if(this.anchorOrigin_!=Se.TOP_LEFT){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_==Se.TOP_RIGHT||this.anchorOrigin_==Se.BOTTOM_RIGHT)&&(e[0]=-e[0]+r[0]),(this.anchorOrigin_==Se.BOTTOM_LEFT||this.anchorOrigin_==Se.BOTTOM_RIGHT)&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}var i=this.getDisplacement();return[e[0]-i[0],e[1]+i[1]]},t.prototype.setAnchor=function(e){this.anchor_=e,this.normalizedAnchor_=null},t.prototype.getColor=function(){return this.color_},t.prototype.getImage=function(e){return this.iconImage_.getImage(e)},t.prototype.getPixelRatio=function(e){return this.iconImage_.getPixelRatio(e)},t.prototype.getImageSize=function(){return this.iconImage_.getSize()},t.prototype.getImageState=function(){return this.iconImage_.getImageState()},t.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},t.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_;if(this.offsetOrigin_!=Se.TOP_LEFT){var r=this.getSize(),i=this.iconImage_.getSize();if(!r||!i)return null;e=e.slice(),(this.offsetOrigin_==Se.TOP_RIGHT||this.offsetOrigin_==Se.BOTTOM_RIGHT)&&(e[0]=i[0]-r[0]-e[0]),(this.offsetOrigin_==Se.BOTTOM_LEFT||this.offsetOrigin_==Se.BOTTOM_RIGHT)&&(e[1]=i[1]-r[1]-e[1])}return this.origin_=e,this.origin_},t.prototype.getSrc=function(){return this.iconImage_.getSrc()},t.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},t.prototype.listenImageChange=function(e){this.iconImage_.addEventListener(tt.CHANGE,e)},t.prototype.load=function(){this.iconImage_.load()},t.prototype.unlistenImageChange=function(e){this.iconImage_.removeEventListener(tt.CHANGE,e)},t}(Mg),nx=ex,rx=function(){function n(t){var e=t||{};this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return n.prototype.clone=function(){var t=this.getColor();return new n({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},n.prototype.getColor=function(){return this.color_},n.prototype.getLineCap=function(){return this.lineCap_},n.prototype.getLineDash=function(){return this.lineDash_},n.prototype.getLineDashOffset=function(){return this.lineDashOffset_},n.prototype.getLineJoin=function(){return this.lineJoin_},n.prototype.getMiterLimit=function(){return this.miterLimit_},n.prototype.getWidth=function(){return this.width_},n.prototype.setColor=function(t){this.color_=t},n.prototype.setLineCap=function(t){this.lineCap_=t},n.prototype.setLineDash=function(t){this.lineDash_=t},n.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},n.prototype.setLineJoin=function(t){this.lineJoin_=t},n.prototype.setMiterLimit=function(t){this.miterLimit_=t},n.prototype.setWidth=function(t){this.width_=t},n}(),ix=rx,nt={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},sy=function(){function n(t){var e=t||{};this.geometry_=null,this.geometryFunction_=ly,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}return n.prototype.clone=function(){var t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new n({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},n.prototype.getRenderer=function(){return this.renderer_},n.prototype.setRenderer=function(t){this.renderer_=t},n.prototype.setHitDetectionRenderer=function(t){this.hitDetectionRenderer_=t},n.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_},n.prototype.getGeometry=function(){return this.geometry_},n.prototype.getGeometryFunction=function(){return this.geometryFunction_},n.prototype.getFill=function(){return this.fill_},n.prototype.setFill=function(t){this.fill_=t},n.prototype.getImage=function(){return this.image_},n.prototype.setImage=function(t){this.image_=t},n.prototype.getStroke=function(){return this.stroke_},n.prototype.setStroke=function(t){this.stroke_=t},n.prototype.getText=function(){return this.text_},n.prototype.setText=function(t){this.text_=t},n.prototype.getZIndex=function(){return this.zIndex_},n.prototype.setGeometry=function(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(e){return e.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=ly,this.geometry_=t},n.prototype.setZIndex=function(t){this.zIndex_=t},n}();function ox(n){var t;if(typeof n=="function")t=n;else{var e;if(Array.isArray(n))e=n;else{at(typeof n.getZIndex=="function",41);var r=n;e=[r]}t=function(){return e}}return t}var Cc=null;function ax(n,t){if(!Cc){var e=new Uw({color:"rgba(255,255,255,0.4)"}),r=new ix({color:"#3399CC",width:1.25});Cc=[new sy({image:new Fw({fill:e,stroke:r,radius:5}),fill:e,stroke:r})]}return Cc}function ly(n){return n.getGeometry()}var LI=sy,sx={POINT:"point",LINE:"line"},ae={ADD:"add",REMOVE:"remove"},uy=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fy={LENGTH:"length"},cl=function(n){uy(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.element=r,o.index=i,o}return t}(hn),lx=function(n){uy(t,n);function t(e,r){var i=n.call(this)||this;i.on,i.once,i.un;var o=r||{};if(i.unique_=!!o.unique,i.array_=e||[],i.unique_)for(var a=0,s=i.array_.length;a<s;++a)i.assertUnique_(i.array_[a],a);return i.updateLength_(),i}return t.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},t.prototype.extend=function(e){for(var r=0,i=e.length;r<i;++r)this.push(e[r]);return this},t.prototype.forEach=function(e){for(var r=this.array_,i=0,o=r.length;i<o;++i)e(r[i],i,r)},t.prototype.getArray=function(){return this.array_},t.prototype.item=function(e){return this.array_[e]},t.prototype.getLength=function(){return this.get(fy.LENGTH)},t.prototype.insertAt=function(e,r){this.unique_&&this.assertUnique_(r),this.array_.splice(e,0,r),this.updateLength_(),this.dispatchEvent(new cl(ae.ADD,r,e))},t.prototype.pop=function(){return this.removeAt(this.getLength()-1)},t.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var r=this.getLength();return this.insertAt(r,e),this.getLength()},t.prototype.remove=function(e){for(var r=this.array_,i=0,o=r.length;i<o;++i)if(r[i]===e)return this.removeAt(i)},t.prototype.removeAt=function(e){var r=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new cl(ae.REMOVE,r,e)),r},t.prototype.setAt=function(e,r){var i=this.getLength();if(e<i){this.unique_&&this.assertUnique_(r,e);var o=this.array_[e];this.array_[e]=r,this.dispatchEvent(new cl(ae.REMOVE,o,e)),this.dispatchEvent(new cl(ae.ADD,r,e))}else{for(var a=i;a<e;++a)this.insertAt(a,void 0);this.insertAt(e,r)}},t.prototype.updateLength_=function(){this.set(fy.LENGTH,this.array_.length)},t.prototype.assertUnique_=function(e,r){for(var i=0,o=this.array_.length;i<o;++i)if(this.array_[i]===e&&i!==r)throw new Dg(58)},t}(Je),Oe=lx,ux=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),fx=function(n){ux(t,n);function t(e){var r=n.call(this)||this;if(r.on,r.once,r.un,r.id_=void 0,r.geometryName_="geometry",r.style_=null,r.styleFunction_=void 0,r.geometryChangeKey_=null,r.addChangeListener(r.geometryName_,r.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){var i=e;r.setGeometry(i)}else{var o=e;r.setProperties(o)}return r}return t.prototype.clone=function(){var e=new t(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var r=this.getGeometry();r&&e.setGeometry(r.clone());var i=this.getStyle();return i&&e.setStyle(i),e},t.prototype.getGeometry=function(){return this.get(this.geometryName_)},t.prototype.getId=function(){return this.id_},t.prototype.getGeometryName=function(){return this.geometryName_},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.handleGeometryChange_=function(){this.changed()},t.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(wt(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=lt(e,tt.CHANGE,this.handleGeometryChange_,this)),this.changed()},t.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},t.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?cx(e):void 0,this.changed()},t.prototype.setId=function(e){this.id_=e,this.changed()},t.prototype.setGeometryName=function(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},t}(Je);function cx(n){if(typeof n=="function")return n;var t;if(Array.isArray(n))t=n;else{at(typeof n.getZIndex=="function",41);var e=n;t=[e]}return function(){return t}}var NI=fx,he={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},ki={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},qe={};qe[ki.RADIANS]=6370997/(2*Math.PI);qe[ki.DEGREES]=2*Math.PI*6370997/360;qe[ki.FEET]=.3048;qe[ki.METERS]=1;qe[ki.USFEET]=1200/3937;var Vn=ki;new Array(6);function Qe(){return[1,0,0,1,0,0]}function hx(n,t,e,r,i,o,a){return n[0]=t,n[1]=e,n[2]=r,n[3]=i,n[4]=o,n[5]=a,n}function px(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function Dt(n,t){var e=t[0],r=t[1];return t[0]=n[0]*e+n[2]*r+n[4],t[1]=n[1]*e+n[3]*r+n[5],t}function dx(n,t,e){return hx(n,t,0,0,e,0,0)}function gn(n,t,e,r,i,o,a,s){var l=Math.sin(o),u=Math.cos(o);return n[0]=r*u,n[1]=i*l,n[2]=-r*l,n[3]=i*u,n[4]=a*r*u-s*r*l+t,n[5]=a*i*l+s*i*u+e,n}function Ic(n,t){var e=vx(t);at(e!==0,32);var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5];return n[0]=a/e,n[1]=-i/e,n[2]=-o/e,n[3]=r/e,n[4]=(o*l-a*s)/e,n[5]=-(r*l-i*s)/e,n}function vx(n){return n[0]*n[3]-n[1]*n[2]}var cy;function hy(n){var t="matrix("+n.join(", ")+")";if(Ks)return t;var e=cy||(cy=document.createElement("div"));return e.style.transform=t,e.style.transform}var gx=function(){function n(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||qe[this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},n.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)},n.prototype.setWorldExtent=function(t){this.worldExtent_=t},n.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},n}(),py=gx,yx=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),da=6378137,Ui=Math.PI*da,_x=[-Ui,-Ui,Ui,Ui],mx=[-180,-85,180,85],hl=da*Math.log(Math.tan(Math.PI/2)),Bi=function(n){yx(t,n);function t(e){return n.call(this,{code:e,units:Vn.METERS,extent:_x,global:!0,worldExtent:mx,getPointResolution:function(r,i){return r/q1(i[1]/da)}})||this}return t}(py),dy=[new Bi("EPSG:3857"),new Bi("EPSG:102100"),new Bi("EPSG:102113"),new Bi("EPSG:900913"),new Bi("http://www.opengis.net/def/crs/EPSG/0/3857"),new Bi("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Ex(n,t,e){var r=n.length,i=e>1?e:2,o=t;o===void 0&&(i>2?o=n.slice():o=new Array(r));for(var a=0;a<r;a+=i){o[a]=Ui*n[a]/180;var s=da*Math.log(Math.tan(Math.PI*(+n[a+1]+90)/360));s>hl?s=hl:s<-hl&&(s=-hl),o[a+1]=s}return o}function wx(n,t,e){var r=n.length,i=e>1?e:2,o=t;o===void 0&&(i>2?o=n.slice():o=new Array(r));for(var a=0;a<r;a+=i)o[a]=180*n[a]/Ui,o[a+1]=360*Math.atan(Math.exp(n[a+1]/da))/Math.PI-90;return o}var xx=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Tx=6378137,vy=[-180,-90,180,90],Sx=Math.PI*Tx/180,Ir=function(n){xx(t,n);function t(e,r){return n.call(this,{code:e,units:Vn.DEGREES,extent:vy,axisOrientation:r,global:!0,metersPerUnit:Sx,worldExtent:vy})||this}return t}(py),gy=[new Ir("CRS:84"),new Ir("EPSG:4326","neu"),new Ir("urn:ogc:def:crs:OGC:1.3:CRS84"),new Ir("urn:ogc:def:crs:OGC:2:84"),new Ir("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Ir("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Ir("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],Rc={};function Ox(n){return Rc[n]||Rc[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Cx(n,t){Rc[n]=t}var ji={};function pl(n,t,e){var r=n.getCode(),i=t.getCode();r in ji||(ji[r]={}),ji[r][i]=e}function Ix(n,t){var e;return n in ji&&t in ji[n]&&(e=ji[n][t]),e}var Rx=63710088e-1;function yy(n,t,e){var r=e||Rx,i=Ys(n[1]),o=Ys(t[1]),a=(o-i)/2,s=Ys(t[0]-n[0])/2,l=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(o);return 2*r*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}function Ax(n,t){return n[0]+=+t[0],n[1]+=+t[1],n}function Ac(n,t){for(var e=!0,r=n.length-1;r>=0;--r)if(n[r]!=t[r]){e=!1;break}return e}function Pc(n,t){var e=Math.cos(t),r=Math.sin(t),i=n[0]*e-n[1]*r,o=n[1]*e+n[0]*r;return n[0]=i,n[1]=o,n}function Px(n,t){return n[0]*=t,n[1]*=t,n}function _y(n,t){if(t.canWrapX()){var e=At(t.getExtent()),r=Lx(n,t,e);r&&(n[0]-=r*e)}return n}function Lx(n,t,e){var r=t.getExtent(),i=0;if(t.canWrapX()&&(n[0]<r[0]||n[0]>r[2])){var o=e||At(r);i=Math.floor((n[0]-r[0])/o)}return i}function Lc(n,t,e){var r;if(t!==void 0){for(var i=0,o=n.length;i<o;++i)t[i]=n[i];r=t}else r=n.slice();return r}function my(n,t,e){if(t!==void 0&&n!==t){for(var r=0,i=n.length;r<i;++r)t[r]=n[r];n=t}return n}function Nx(n){Cx(n.getCode(),n),pl(n,n,Lc)}function Mx(n){n.forEach(Nx)}function Ue(n){return typeof n=="string"?Ox(n):n||null}function Ey(n,t,e,r){n=Ue(n);var i,o=n.getPointResolutionFunc();if(o){if(i=o(t,e),r&&r!==n.getUnits()){var a=n.getMetersPerUnit();a&&(i=i*a/qe[r])}}else{var s=n.getUnits();if(s==Vn.DEGREES&&!r||r==Vn.DEGREES)i=t;else{var l=Mc(n,Ue("EPSG:4326"));if(l===my&&s!==Vn.DEGREES)i=t*n.getMetersPerUnit();else{var u=[e[0]-t/2,e[1],e[0]+t/2,e[1],e[0],e[1]-t/2,e[0],e[1]+t/2];u=l(u,u,2);var f=yy(u.slice(0,2),u.slice(2,4)),h=yy(u.slice(4,6),u.slice(6,8));i=(f+h)/2}var a=r?qe[r]:n.getMetersPerUnit();a!==void 0&&(i/=a)}}return i}function wy(n){Mx(n),n.forEach(function(t){n.forEach(function(e){t!==e&&pl(t,e,Lc)})})}function Dx(n,t,e,r){n.forEach(function(i){t.forEach(function(o){pl(i,o,e),pl(o,i,r)})})}function Nc(n,t){return n?typeof n=="string"?Ue(n):n:Ue(t)}function bi(n,t){if(n===t)return!0;var e=n.getUnits()===t.getUnits();if(n.getCode()===t.getCode())return e;var r=Mc(n,t);return r===Lc&&e}function Mc(n,t){var e=n.getCode(),r=t.getCode(),i=Ix(e,r);return i||(i=my),i}function dl(n,t){var e=Ue(n),r=Ue(t);return Mc(e,r)}function Fx(n,t,e){var r=dl(t,e);return r(n,void 0,n.length)}var kx=null;function Ux(){return kx}function Dc(n,t){return n}function yn(n,t){return n}function xy(n,t){return n}function Rr(n,t){return n}function Bx(){wy(dy),wy(gy),Dx(gy,dy,Ex,wx)}Bx();function Ar(n,t,e,r,i,o){for(var a=o||[],s=0,l=t;l<e;l+=r){var u=n[l],f=n[l+1];a[s++]=i[0]*u+i[2]*f+i[4],a[s++]=i[1]*u+i[3]*f+i[5]}return o&&a.length!=s&&(a.length=s),a}function Ty(n,t,e,r,i,o,a){for(var s=a||[],l=Math.cos(i),u=Math.sin(i),f=o[0],h=o[1],c=0,v=t;v<e;v+=r){var g=n[v]-f,T=n[v+1]-h;s[c++]=f+g*l-T*u,s[c++]=h+g*u+T*l;for(var _=v+2;_<v+r;++_)s[c++]=n[_]}return a&&s.length!=c&&(s.length=c),s}function jx(n,t,e,r,i,o,a,s){for(var l=s||[],u=a[0],f=a[1],h=0,c=t;c<e;c+=r){var v=n[c]-u,g=n[c+1]-f;l[h++]=u+i*v,l[h++]=f+o*g;for(var T=c+2;T<c+r;++T)l[h++]=n[T]}return s&&l.length!=h&&(l.length=h),l}function bx(n,t,e,r,i,o,a){for(var s=a||[],l=0,u=t;u<e;u+=r){s[l++]=n[u]+i,s[l++]=n[u+1]+o;for(var f=u+2;f<u+r;++f)s[l++]=n[f]}return a&&s.length!=l&&(s.length=l),s}var Gx=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Sy=Qe(),$x=function(n){Gx(t,n);function t(){var e=n.call(this)||this;return e.extent_=Fe(),e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=yw(function(r,i,o){if(!o)return this.getSimplifiedGeometry(i);var a=this.clone();return a.applyTransform(o),a.getSimplifiedGeometry(i)}),e}return t.prototype.simplifyTransformed=function(e,r){return this.simplifyTransformedInternal(this.getRevision(),e,r)},t.prototype.clone=function(){return ot()},t.prototype.closestPointXY=function(e,r,i,o){return ot()},t.prototype.containsXY=function(e,r){var i=this.getClosestPoint([e,r]);return i[0]===e&&i[1]===r},t.prototype.getClosestPoint=function(e,r){var i=r||[NaN,NaN];return this.closestPointXY(e[0],e[1],i,1/0),i},t.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},t.prototype.computeExtent=function(e){return ot()},t.prototype.getExtent=function(e){if(this.extentRevision_!=this.getRevision()){var r=this.computeExtent(this.extent_);(isNaN(r[0])||isNaN(r[1]))&&sl(r),this.extentRevision_=this.getRevision()}return Xw(this.extent_,e)},t.prototype.rotate=function(e,r){ot()},t.prototype.scale=function(e,r,i){ot()},t.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},t.prototype.getSimplifiedGeometry=function(e){return ot()},t.prototype.getType=function(){return ot()},t.prototype.applyTransform=function(e){ot()},t.prototype.intersectsExtent=function(e){return ot()},t.prototype.translate=function(e,r){ot()},t.prototype.transform=function(e,r){var i=Ue(e),o=i.getUnits()==Vn.TILE_PIXELS?function(a,s,l){var u=i.getExtent(),f=i.getWorldExtent(),h=ke(f)/ke(u);return gn(Sy,f[0],f[3],h,-h,0,0,0),Ar(a,0,a.length,l,Sy,s),dl(i,r)(a,s,l)}:dl(i,r);return this.applyTransform(o),this},t}(Je),zx=$x,Wx=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Vx=function(n){Wx(t,n);function t(){var e=n.call(this)||this;return e.layout=he.XY,e.stride=2,e.flatCoordinates=null,e}return t.prototype.computeExtent=function(e){return zw(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinates=function(){return ot()},t.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.getFlatCoordinates=function(){return this.flatCoordinates},t.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},t.prototype.getLayout=function(){return this.layout},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var r=this.getSimplifiedGeometryInternal(e),i=r.getFlatCoordinates();return i.length<this.flatCoordinates.length?r:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},t.prototype.getSimplifiedGeometryInternal=function(e){return this},t.prototype.getStride=function(){return this.stride},t.prototype.setFlatCoordinates=function(e,r){this.stride=Oy(e),this.layout=e,this.flatCoordinates=r},t.prototype.setCoordinates=function(e,r){ot()},t.prototype.setLayout=function(e,r,i){var o;if(e)o=Oy(e);else{for(var a=0;a<i;++a)if(r.length===0){this.layout=he.XY,this.stride=2;return}else r=r[0];o=r.length,e=Yx(o)}this.layout=e,this.stride=o},t.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},t.prototype.rotate=function(e,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();Ty(i,0,i.length,o,e,r,i),this.changed()}},t.prototype.scale=function(e,r,i){var o=r;o===void 0&&(o=e);var a=i;a||(a=Fi(this.getExtent()));var s=this.getFlatCoordinates();if(s){var l=this.getStride();jx(s,0,s.length,l,e,o,a,s),this.changed()}},t.prototype.translate=function(e,r){var i=this.getFlatCoordinates();if(i){var o=this.getStride();bx(i,0,i.length,o,e,r,i),this.changed()}},t}(zx);function Yx(n){var t;return n==2?t=he.XY:n==3?t=he.XYZ:n==4&&(t=he.XYZM),t}function Oy(n){var t;return n==he.XY?t=2:n==he.XYZ||n==he.XYM?t=3:n==he.XYZM&&(t=4),t}function Xx(n,t,e){var r=n.getFlatCoordinates();if(r){var i=n.getStride();return Ar(r,0,r.length,i,t,e)}else return null}var Fc=Vx;function Cy(n,t,e,r,i,o,a){var s=n[t],l=n[t+1],u=n[e]-s,f=n[e+1]-l,h;if(u===0&&f===0)h=t;else{var c=((i-s)*u+(o-l)*f)/(u*u+f*f);if(c>1)h=e;else if(c>0){for(var v=0;v<r;++v)a[v]=xr(n[t+v],n[e+v],c);a.length=r;return}else h=t}for(var v=0;v<r;++v)a[v]=n[h+v];a.length=r}function Iy(n,t,e,r,i){var o=n[t],a=n[t+1];for(t+=r;t<e;t+=r){var s=n[t],l=n[t+1],u=Oi(o,a,s,l);u>i&&(i=u),o=s,a=l}return i}function Hx(n,t,e,r,i){for(var o=0,a=e.length;o<a;++o){var s=e[o];i=Iy(n,t,s,r,i),t=s}return i}function Ry(n,t,e,r,i,o,a,s,l,u,f){if(t==e)return u;var h,c;if(i===0)if(c=Oi(a,s,n[t],n[t+1]),c<u){for(h=0;h<r;++h)l[h]=n[t+h];return l.length=r,c}else return u;for(var v=f||[NaN,NaN],g=t+r;g<e;)if(Cy(n,g-r,g,r,a,s,v),c=Oi(a,s,v[0],v[1]),c<u){for(u=c,h=0;h<r;++h)l[h]=v[h];l.length=r,g+=r}else g+=r*Math.max((Math.sqrt(c)-Math.sqrt(u))/i|0,1);if(o&&(Cy(n,e-r,t,r,a,s,v),c=Oi(a,s,v[0],v[1]),c<u)){for(u=c,h=0;h<r;++h)l[h]=v[h];l.length=r}return u}function Zx(n,t,e,r,i,o,a,s,l,u,f){for(var h=f||[NaN,NaN],c=0,v=e.length;c<v;++c){var g=e[c];u=Ry(n,t,g,r,i,o,a,s,l,u,h),t=g}return u}function Kx(n,t,e,r){for(var i=0,o=e.length;i<o;++i)n[t++]=e[i];return t}function Ay(n,t,e,r){for(var i=0,o=e.length;i<o;++i)for(var a=e[i],s=0;s<r;++s)n[t++]=a[s];return t}function Jx(n,t,e,r,i){for(var o=i||[],a=0,s=0,l=e.length;s<l;++s){var u=Ay(n,t,e[s],r);o[a++]=u,t=u}return o.length=a,o}function qx(n,t,e,r,i,o,a){var s=(e-t)/r;if(s<3){for(;t<e;t+=r)o[a++]=n[t],o[a++]=n[t+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var u=[t,e-r],f=0;u.length>0;){for(var h=u.pop(),c=u.pop(),v=0,g=n[c],T=n[c+1],_=n[h],y=n[h+1],m=c+r;m<h;m+=r){var x=n[m],E=n[m+1],C=tw(x,E,g,T,_,y);C>v&&(f=m,v=C)}v>i&&(l[(f-t)/r]=1,c+r<f&&u.push(c,f),f+r<h&&u.push(f,h))}for(var m=0;m<s;++m)l[m]&&(o[a++]=n[t+m*r],o[a++]=n[t+m*r+1]);return a}function Pr(n,t){return t*Math.round(n/t)}function Qx(n,t,e,r,i,o,a){if(t==e)return a;var s=Pr(n[t],i),l=Pr(n[t+1],i);t+=r,o[a++]=s,o[a++]=l;var u,f;do if(u=Pr(n[t],i),f=Pr(n[t+1],i),t+=r,t==e)return o[a++]=u,o[a++]=f,a;while(u==s&&f==l);for(;t<e;){var h=Pr(n[t],i),c=Pr(n[t+1],i);if(t+=r,!(h==u&&c==f)){var v=u-s,g=f-l,T=h-s,_=c-l;if(v*_==g*T&&(v<0&&T<v||v==T||v>0&&T>v)&&(g<0&&_<g||g==_||g>0&&_>g)){u=h,f=c;continue}o[a++]=u,o[a++]=f,s=u,l=f,u=h,f=c}}return o[a++]=u,o[a++]=f,a}function tT(n,t,e,r,i,o,a,s){for(var l=0,u=e.length;l<u;++l){var f=e[l];a=Qx(n,t,f,r,i,o,a),s.push(a),t=f}return a}function Gi(n,t,e,r,i){for(var o=i!==void 0?i:[],a=0,s=t;s<e;s+=r)o[a++]=n.slice(s,s+r);return o.length=a,o}function vl(n,t,e,r,i){for(var o=i!==void 0?i:[],a=0,s=0,l=e.length;s<l;++s){var u=e[s];o[a++]=Gi(n,t,u,r,o[a]),t=u}return o.length=a,o}function Py(n,t,e,r,i){for(var o=i!==void 0?i:[],a=0,s=0,l=e.length;s<l;++s){var u=e[s];o[a++]=vl(n,t,u,r,o[a]),t=u[u.length-1]}return o.length=a,o}function Ly(n,t,e,r){for(var i=0,o=n[e-r],a=n[e-r+1];t<e;t+=r){var s=n[t],l=n[t+1];i+=a*s-o*l,o=s,a=l}return i/2}function eT(n,t,e,r){for(var i=0,o=0,a=e.length;o<a;++o){var s=e[o];i+=Ly(n,t,s,r),t=s}return i}var nT=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),rT=function(n){nT(t,n);function t(e,r){var i=n.call(this)||this;return i.maxDelta_=-1,i.maxDeltaRevision_=-1,r!==void 0&&!Array.isArray(e[0])?i.setFlatCoordinates(r,e):i.setCoordinates(e,r),i}return t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,r,i,o){return o<ry(this.getExtent(),e,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Iy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Ry(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,r,i,o))},t.prototype.getArea=function(){return Ly(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinates=function(){return Gi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[];return r.length=qx(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,r,0),new t(r,he.XY)},t.prototype.getType=function(){return nt.LINEAR_RING},t.prototype.intersectsExtent=function(e){return!1},t.prototype.setCoordinates=function(e,r){this.setLayout(r,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ay(this.flatCoordinates,0,e,this.stride),this.changed()},t}(Fc),Ny=rT,iT=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),oT=function(n){iT(t,n);function t(e,r){var i=n.call(this)||this;return i.setCoordinates(e,r),i}return t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,r,i,o){var a=this.flatCoordinates,s=Oi(e,r,a[0],a[1]);if(s<o){for(var l=this.stride,u=0;u<l;++u)i[u]=a[u];return i.length=l,s}else return o},t.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},t.prototype.computeExtent=function(e){return $w(this.flatCoordinates,e)},t.prototype.getType=function(){return nt.POINT},t.prototype.intersectsExtent=function(e){return iy(e,this.flatCoordinates[0],this.flatCoordinates[1])},t.prototype.setCoordinates=function(e,r){this.setLayout(r,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Kx(this.flatCoordinates,0,e,this.stride),this.changed()},t}(Fc),aT=oT;function sT(n,t,e,r,i){var o=ay(i,function(a){return!Lr(n,t,e,r,a[0],a[1])});return!o}function Lr(n,t,e,r,i,o){for(var a=0,s=n[e-r],l=n[e-r+1];t<e;t+=r){var u=n[t],f=n[t+1];l<=o?f>o&&(u-s)*(o-l)-(i-s)*(f-l)>0&&a++:f<=o&&(u-s)*(o-l)-(i-s)*(f-l)<0&&a--,s=u,l=f}return a!==0}function My(n,t,e,r,i,o){if(e.length===0||!Lr(n,t,e[0],r,i,o))return!1;for(var a=1,s=e.length;a<s;++a)if(Lr(n,e[a-1],e[a],r,i,o))return!1;return!0}function lT(n,t,e,r,i,o,a){for(var s,l,u,f,h,c,v,g=i[o+1],T=[],_=0,y=e.length;_<y;++_){var m=e[_];for(f=n[m-r],c=n[m-r+1],s=t;s<m;s+=r)h=n[s],v=n[s+1],(g<=c&&v<=g||c<=g&&g<=v)&&(u=(g-c)/(v-c)*(h-f)+f,T.push(u)),f=h,c=v}var x=NaN,E=-1/0;for(T.sort(Ai),f=T[0],s=1,l=T.length;s<l;++s){h=T[s];var C=Math.abs(h-f);C>E&&(u=(f+h)/2,My(n,t,e,r,u,g)&&(x=u,E=C)),f=h}return isNaN(x)&&(x=i[o]),a?(a.push(x,g,E),a):[x,g,E]}function uT(n,t,e,r,i){var o;for(t+=r;t<e;t+=r)if(o=i(n.slice(t-r,t),n.slice(t,t+r)),o)return o;return!1}function Dy(n,t,e,r,i){var o=oy(Fe(),n,t,e,r);return ce(i,o)?Di(i,o)||o[0]>=i[0]&&o[2]<=i[2]||o[1]>=i[1]&&o[3]<=i[3]?!0:uT(n,t,e,r,function(a,s){return Hw(i,a,s)}):!1}function fT(n,t,e,r,i){return!!(Dy(n,t,e,r,i)||Lr(n,t,e,r,i[0],i[1])||Lr(n,t,e,r,i[0],i[3])||Lr(n,t,e,r,i[2],i[1])||Lr(n,t,e,r,i[2],i[3]))}function cT(n,t,e,r,i){if(!fT(n,t,e[0],r,i))return!1;if(e.length===1)return!0;for(var o=1,a=e.length;o<a;++o)if(sT(n,e[o-1],e[o],r,i)&&!Dy(n,e[o-1],e[o],r,i))return!1;return!0}function hT(n,t,e,r){for(;t<e-r;){for(var i=0;i<r;++i){var o=n[t+i];n[t+i]=n[e-r+i],n[e-r+i]=o}t+=r,e-=r}}function Fy(n,t,e,r){for(var i=0,o=n[e-r],a=n[e-r+1];t<e;t+=r){var s=n[t],l=n[t+1];i+=(s-o)*(l+a),o=s,a=l}return i===0?void 0:i>0}function pT(n,t,e,r,i){for(var o=i!==void 0?i:!1,a=0,s=e.length;a<s;++a){var l=e[a],u=Fy(n,t,l,r);if(a===0){if(o&&u||!o&&!u)return!1}else if(o&&!u||!o&&u)return!1;t=l}return!0}function ky(n,t,e,r,i){for(var o=i!==void 0?i:!1,a=0,s=e.length;a<s;++a){var l=e[a],u=Fy(n,t,l,r),f=a===0?o&&u||!o&&!u:o&&!u||!o&&u;f&&hT(n,t,l,r),t=l}return t}var dT=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Uy=function(n){dT(t,n);function t(e,r,i){var o=n.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,r!==void 0&&i?(o.setFlatCoordinates(r,e),o.ends_=i):o.setCoordinates(e,r),o}return t.prototype.appendLinearRing=function(e){this.flatCoordinates?$g(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e},t.prototype.closestPointXY=function(e,r,i,o){return o<ry(this.getExtent(),e,r)?o:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Hx(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Zx(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,r,i,o))},t.prototype.containsXY=function(e,r){return My(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,r)},t.prototype.getArea=function(){return eT(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},t.prototype.getCoordinates=function(e){var r;return e!==void 0?(r=this.getOrientedFlatCoordinates().slice(),ky(r,0,this.ends_,this.stride,e)):r=this.flatCoordinates,vl(r,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=Fi(this.getExtent());this.flatInteriorPoint_=lT(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},t.prototype.getInteriorPoint=function(){return new aT(this.getFlatInteriorPoint(),he.XYM)},t.prototype.getLinearRingCount=function(){return this.ends_.length},t.prototype.getLinearRing=function(e){return e<0||this.ends_.length<=e?null:new Ny(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLinearRings=function(){for(var e=this.layout,r=this.flatCoordinates,i=this.ends_,o=[],a=0,s=0,l=i.length;s<l;++s){var u=i[s],f=new Ny(r.slice(a,u),e);o.push(f),a=u}return o},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;pT(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=ky(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var r=[],i=[];return r.length=tT(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),r,0,i),new t(r,he.XY,i)},t.prototype.getType=function(){return nt.POLYGON},t.prototype.intersectsExtent=function(e){return cT(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,r){this.setLayout(r,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=Jx(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()},t}(Fc);function By(n){var t=n[0],e=n[1],r=n[2],i=n[3],o=[t,e,t,i,r,i,r,e,t,e];return new Uy(o,he.XY,[o.length])}var Nr={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};function vT(n,t,e,r){for(var i=n[t],o=n[t+1],a=0,s=t+r;s<e;s+=r){var l=n[s],u=n[s+1];a+=Math.sqrt((l-i)*(l-i)+(u-o)*(u-o)),i=l,o=u}return a}var ht={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"},gT=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),yT=function(n){gT(t,n);function t(e){var r=n.call(this)||this;r.on,r.once,r.un,r.background_=e.background;var i=zt({},e);return typeof e.properties=="object"&&(delete i.properties,zt(i,e.properties)),i[ht.OPACITY]=e.opacity!==void 0?e.opacity:1,at(typeof i[ht.OPACITY]=="number",64),i[ht.VISIBLE]=e.visible!==void 0?e.visible:!0,i[ht.Z_INDEX]=e.zIndex,i[ht.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,i[ht.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,i[ht.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,i[ht.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,r.className_=i.className!==void 0?e.className:"ol-layer",delete i.className,r.setProperties(i),r.state_=null,r}return t.prototype.getBackground=function(){return this.background_},t.prototype.getClassName=function(){return this.className_},t.prototype.getLayerState=function(e){var r=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return r.opacity=Nt(Math.round(this.getOpacity()*100)/100,0,1),r.sourceState=this.getSourceState(),r.visible=this.getVisible(),r.extent=this.getExtent(),r.zIndex=i===void 0&&!r.managed?1/0:i,r.maxResolution=this.getMaxResolution(),r.minResolution=Math.max(this.getMinResolution(),0),r.minZoom=this.getMinZoom(),r.maxZoom=this.getMaxZoom(),this.state_=r,r},t.prototype.getLayersArray=function(e){return ot()},t.prototype.getLayerStatesArray=function(e){return ot()},t.prototype.getExtent=function(){return this.get(ht.EXTENT)},t.prototype.getMaxResolution=function(){return this.get(ht.MAX_RESOLUTION)},t.prototype.getMinResolution=function(){return this.get(ht.MIN_RESOLUTION)},t.prototype.getMinZoom=function(){return this.get(ht.MIN_ZOOM)},t.prototype.getMaxZoom=function(){return this.get(ht.MAX_ZOOM)},t.prototype.getOpacity=function(){return this.get(ht.OPACITY)},t.prototype.getSourceState=function(){return ot()},t.prototype.getVisible=function(){return this.get(ht.VISIBLE)},t.prototype.getZIndex=function(){return this.get(ht.Z_INDEX)},t.prototype.setBackground=function(e){this.background_=e,this.changed()},t.prototype.setExtent=function(e){this.set(ht.EXTENT,e)},t.prototype.setMaxResolution=function(e){this.set(ht.MAX_RESOLUTION,e)},t.prototype.setMinResolution=function(e){this.set(ht.MIN_RESOLUTION,e)},t.prototype.setMaxZoom=function(e){this.set(ht.MAX_ZOOM,e)},t.prototype.setMinZoom=function(e){this.set(ht.MIN_ZOOM,e)},t.prototype.setOpacity=function(e){at(typeof e=="number",64),this.set(ht.OPACITY,e)},t.prototype.setVisible=function(e){this.set(ht.VISIBLE,e)},t.prototype.setZIndex=function(e){this.set(ht.Z_INDEX,e)},t.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),n.prototype.disposeInternal.call(this)},t}(Je),jy=yT,Mr={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},_T=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mT=function(n){_T(t,n);function t(e){var r=this,i=zt({},e);delete i.source,r=n.call(this,i)||this,r.on,r.once,r.un,r.mapPrecomposeKey_=null,r.mapRenderKey_=null,r.sourceChangeKey_=null,r.renderer_=null,e.render&&(r.render=e.render),e.map&&r.setMap(e.map),r.addChangeListener(ht.SOURCE,r.handleSourcePropertyChange_);var o=e.source?e.source:null;return r.setSource(o),r}return t.prototype.getLayersArray=function(e){var r=e||[];return r.push(this),r},t.prototype.getLayerStatesArray=function(e){var r=e||[];return r.push(this.getLayerState()),r},t.prototype.getSource=function(){return this.get(ht.SOURCE)||null},t.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():Mr.UNDEFINED},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(wt(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=lt(e,tt.CHANGE,this.handleSourceChange_,this)),this.changed()},t.prototype.getFeatures=function(e){return this.renderer_?this.renderer_.getFeatures(e):new Promise(function(r){return r([])})},t.prototype.render=function(e,r){var i=this.getRenderer();if(i.prepareFrame(e))return i.renderFrame(e,r)},t.prototype.setMapInternal=function(e){this.set(ht.MAP,e)},t.prototype.getMapInternal=function(){return this.get(ht.MAP)},t.prototype.setMap=function(e){this.mapPrecomposeKey_&&(wt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(wt(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=lt(e,Nr.PRECOMPOSE,function(r){var i=r,o=i.frameState.layerStatesArray,a=this.getLayerState(!1);at(!o.some(function(s){return s.layer===a.layer}),67),o.push(a)},this),this.mapRenderKey_=lt(this,tt.CHANGE,e.render,e),this.changed())},t.prototype.setSource=function(e){this.set(ht.SOURCE,e)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return null},t.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),n.prototype.disposeInternal.call(this)},t}(jy);function gl(n,t){if(!n.visible)return!1;var e=t.resolution;if(e<n.minResolution||e>=n.maxResolution)return!1;var r=t.zoom;return r>n.minZoom&&r<=n.maxZoom}var yl=mT;function ET(n,t,e,r,i){by(n,t,e||0,r||n.length-1,i||wT)}function by(n,t,e,r,i){for(;r>e;){if(r-e>600){var o=r-e+1,a=t-e+1,s=Math.log(o),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1),f=Math.max(e,Math.floor(t-a*l/o+u)),h=Math.min(r,Math.floor(t+(o-a)*l/o+u));by(n,t,f,h,i)}var c=n[t],v=e,g=r;for(va(n,e,t),i(n[r],c)>0&&va(n,e,r);v<g;){for(va(n,v,g),v++,g--;i(n[v],c)<0;)v++;for(;i(n[g],c)>0;)g--}i(n[e],c)===0?va(n,e,g):(g++,va(n,g,r)),g<=t&&(e=g+1),t<=g&&(r=g-1)}}function va(n,t,e){var r=n[t];n[t]=n[e],n[e]=r}function wT(n,t){return n<t?-1:n>t?1:0}class Gy{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let e=this.data;const r=[];if(!ml(t,e))return r;const i=this.toBBox,o=[];for(;e;){for(let a=0;a<e.children.length;a++){const s=e.children[a],l=e.leaf?i(s):s;ml(t,l)&&(e.leaf?r.push(s):Uc(t,l)?this._all(s,r):o.push(s))}e=o.pop()}return r}collides(t){let e=this.data;if(!ml(t,e))return!1;const r=[];for(;e;){for(let i=0;i<e.children.length;i++){const o=e.children[i],a=e.leaf?this.toBBox(o):o;if(ml(t,a)){if(e.leaf||Uc(t,a))return!0;r.push(o)}}e=r.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let r=0;r<t.length;r++)this.insert(t[r]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=e;else if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const r=this.data;this.data=e,e=r}this._insert(e,this.data.height-e.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=zi([]),this}remove(t,e){if(!t)return this;let r=this.data;const i=this.toBBox(t),o=[],a=[];let s,l,u;for(;r||o.length;){if(r||(r=o.pop(),l=o[o.length-1],s=a.pop(),u=!0),r.leaf){const f=xT(t,r.children,e);if(f!==-1)return r.children.splice(f,1),o.push(r),this._condense(o),this}!u&&!r.leaf&&Uc(r,i)?(o.push(r),a.push(s),s=0,l=r,r=r.children[0]):l?(s++,r=l.children[s],u=!1):r=null}return this}toBBox(t){return t}compareMinX(t,e){return t.minX-e.minX}compareMinY(t,e){return t.minY-e.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){const r=[];for(;t;)t.leaf?e.push(...t.children):r.push(...t.children),t=r.pop();return e}_build(t,e,r,i){const o=r-e+1;let a=this._maxEntries,s;if(o<=a)return s=zi(t.slice(e,r+1)),$i(s,this.toBBox),s;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),s=zi([]),s.leaf=!1,s.height=i;const l=Math.ceil(o/a),u=l*Math.ceil(Math.sqrt(a));$y(t,e,r,u,this.compareMinX);for(let f=e;f<=r;f+=u){const h=Math.min(f+u-1,r);$y(t,f,h,l,this.compareMinY);for(let c=f;c<=h;c+=l){const v=Math.min(c+l-1,h);s.children.push(this._build(t,c,v,i-1))}}return $i(s,this.toBBox),s}_chooseSubtree(t,e,r,i){for(;i.push(e),!(e.leaf||i.length-1===r);){let o=1/0,a=1/0,s;for(let l=0;l<e.children.length;l++){const u=e.children[l],f=kc(u),h=OT(t,u)-f;h<a?(a=h,o=f<o?f:o,s=u):h===a&&f<o&&(o=f,s=u)}e=s||e.children[0]}return e}_insert(t,e,r){const i=r?t:this.toBBox(t),o=[],a=this._chooseSubtree(i,this.data,e,o);for(a.children.push(t),ya(a,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)}_split(t,e){const r=t[e],i=r.children.length,o=this._minEntries;this._chooseSplitAxis(r,o,i);const a=this._chooseSplitIndex(r,o,i),s=zi(r.children.splice(a,r.children.length-a));s.height=r.height,s.leaf=r.leaf,$i(r,this.toBBox),$i(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(r,s)}_splitRoot(t,e){this.data=zi([t,e]),this.data.height=t.height+1,this.data.leaf=!1,$i(this.data,this.toBBox)}_chooseSplitIndex(t,e,r){let i,o=1/0,a=1/0;for(let s=e;s<=r-e;s++){const l=ga(t,0,s,this.toBBox),u=ga(t,s,r,this.toBBox),f=CT(l,u),h=kc(l)+kc(u);f<o?(o=f,i=s,a=h<a?h:a):f===o&&h<a&&(a=h,i=s)}return i||r-e}_chooseSplitAxis(t,e,r){const i=t.leaf?this.compareMinX:TT,o=t.leaf?this.compareMinY:ST,a=this._allDistMargin(t,e,r,i),s=this._allDistMargin(t,e,r,o);a<s&&t.children.sort(i)}_allDistMargin(t,e,r,i){t.children.sort(i);const o=this.toBBox,a=ga(t,0,e,o),s=ga(t,r-e,r,o);let l=_l(a)+_l(s);for(let u=e;u<r-e;u++){const f=t.children[u];ya(a,t.leaf?o(f):f),l+=_l(a)}for(let u=r-e-1;u>=e;u--){const f=t.children[u];ya(s,t.leaf?o(f):f),l+=_l(s)}return l}_adjustParentBBoxes(t,e,r){for(let i=r;i>=0;i--)ya(e[i],t)}_condense(t){for(let e=t.length-1,r;e>=0;e--)t[e].children.length===0?e>0?(r=t[e-1].children,r.splice(r.indexOf(t[e]),1)):this.clear():$i(t[e],this.toBBox)}}function xT(n,t,e){if(!e)return t.indexOf(n);for(let r=0;r<t.length;r++)if(e(n,t[r]))return r;return-1}function $i(n,t){ga(n,0,n.children.length,t,n)}function ga(n,t,e,r,i){i||(i=zi(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let o=t;o<e;o++){const a=n.children[o];ya(i,n.leaf?r(a):a)}return i}function ya(n,t){return n.minX=Math.min(n.minX,t.minX),n.minY=Math.min(n.minY,t.minY),n.maxX=Math.max(n.maxX,t.maxX),n.maxY=Math.max(n.maxY,t.maxY),n}function TT(n,t){return n.minX-t.minX}function ST(n,t){return n.minY-t.minY}function kc(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function _l(n){return n.maxX-n.minX+(n.maxY-n.minY)}function OT(n,t){return(Math.max(t.maxX,n.maxX)-Math.min(t.minX,n.minX))*(Math.max(t.maxY,n.maxY)-Math.min(t.minY,n.minY))}function CT(n,t){const e=Math.max(n.minX,t.minX),r=Math.max(n.minY,t.minY),i=Math.min(n.maxX,t.maxX),o=Math.min(n.maxY,t.maxY);return Math.max(0,i-e)*Math.max(0,o-r)}function Uc(n,t){return n.minX<=t.minX&&n.minY<=t.minY&&t.maxX<=n.maxX&&t.maxY<=n.maxY}function ml(n,t){return t.minX<=n.maxX&&t.minY<=n.maxY&&t.maxX>=n.minX&&t.maxY>=n.minY}function zi(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function $y(n,t,e,r,i){const o=[t,e];for(;o.length;){if(e=o.pop(),t=o.pop(),e-t<=r)continue;const a=t+Math.ceil((e-t)/r/2)*r;ET(n,a,t,e,i),o.push(t,a,a,e)}}var IT=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),zy={RENDER_ORDER:"renderOrder"},RT=function(n){IT(t,n);function t(e){var r=this,i=e||{},o=zt({},i);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,r=n.call(this,o)||this,r.declutter_=i.declutter!==void 0?i.declutter:!1,r.renderBuffer_=i.renderBuffer!==void 0?i.renderBuffer:100,r.style_=null,r.styleFunction_=void 0,r.setStyle(i.style),r.updateWhileAnimating_=i.updateWhileAnimating!==void 0?i.updateWhileAnimating:!1,r.updateWhileInteracting_=i.updateWhileInteracting!==void 0?i.updateWhileInteracting:!1,r}return t.prototype.getDeclutter=function(){return this.declutter_},t.prototype.getFeatures=function(e){return n.prototype.getFeatures.call(this,e)},t.prototype.getRenderBuffer=function(){return this.renderBuffer_},t.prototype.getRenderOrder=function(){return this.get(zy.RENDER_ORDER)},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},t.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},t.prototype.renderDeclutter=function(e){e.declutterTree||(e.declutterTree=new Gy(9)),this.getRenderer().renderDeclutter(e)},t.prototype.setRenderOrder=function(e){this.set(zy.RENDER_ORDER,e)},t.prototype.setStyle=function(e){this.style_=e!==void 0?e:ax,this.styleFunction_=e===null?void 0:ox(this.style_),this.changed()},t}(yl),AT=RT,_a={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},El=[_a.FILL],Yn=[_a.STROKE],Dr=[_a.BEGIN_PATH],Wy=[_a.CLOSE_PATH],Z=_a,PT=function(){function n(){}return n.prototype.drawCustom=function(t,e,r,i){},n.prototype.drawGeometry=function(t){},n.prototype.setStyle=function(t){},n.prototype.drawCircle=function(t,e){},n.prototype.drawFeature=function(t,e){},n.prototype.drawGeometryCollection=function(t,e){},n.prototype.drawLineString=function(t,e){},n.prototype.drawMultiLineString=function(t,e){},n.prototype.drawMultiPoint=function(t,e){},n.prototype.drawMultiPolygon=function(t,e){},n.prototype.drawPoint=function(t,e){},n.prototype.drawPolygon=function(t,e){},n.prototype.drawText=function(t,e){},n.prototype.setFillStrokeStyle=function(t,e){},n.prototype.setImageStyle=function(t,e){},n.prototype.setTextStyle=function(t,e){},n}(),Vy=PT,LT=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),NT=function(n){LT(t,n);function t(e,r,i,o){var a=n.call(this)||this;return a.tolerance=e,a.maxExtent=r,a.pixelRatio=o,a.maxLineWidth=0,a.resolution=i,a.beginGeometryInstruction1_=null,a.beginGeometryInstruction2_=null,a.bufferedMaxExtent_=null,a.instructions=[],a.coordinates=[],a.tmpCoordinate_=[],a.hitDetectionInstructions=[],a.state={},a}return t.prototype.applyPixelRatio=function(e){var r=this.pixelRatio;return r==1?e:e.map(function(i){return i*r})},t.prototype.appendFlatPointCoordinates=function(e,r){for(var i=this.getBufferedMaxExtent(),o=this.tmpCoordinate_,a=this.coordinates,s=a.length,l=0,u=e.length;l<u;l+=r)o[0]=e[l],o[1]=e[l+1],al(i,o)&&(a[s++]=o[0],a[s++]=o[1]);return s},t.prototype.appendFlatLineCoordinates=function(e,r,i,o,a,s){var l=this.coordinates,u=l.length,f=this.getBufferedMaxExtent();s&&(r+=o);var h=e[r],c=e[r+1],v=this.tmpCoordinate_,g=!0,T,_,y;for(T=r+o;T<i;T+=o)v[0]=e[T],v[1]=e[T+1],y=wc(f,v),y!==_?(g&&(l[u++]=h,l[u++]=c,g=!1),l[u++]=v[0],l[u++]=v[1]):y===Bt.INTERSECTING?(l[u++]=v[0],l[u++]=v[1],g=!1):g=!0,h=v[0],c=v[1],_=y;return(a&&g||T===r+o)&&(l[u++]=h,l[u++]=c),u},t.prototype.drawCustomCoordinates_=function(e,r,i,o,a){for(var s=0,l=i.length;s<l;++s){var u=i[s],f=this.appendFlatLineCoordinates(e,r,u,o,!1,!1);a.push(f),r=u}return r},t.prototype.drawCustom=function(e,r,i,o){this.beginGeometry(e,r);var a=e.getType(),s=e.getStride(),l=this.coordinates.length,u,f,h,c,v;switch(a){case nt.MULTI_POLYGON:u=e.getOrientedFlatCoordinates(),c=[];var g=e.getEndss();v=0;for(var T=0,_=g.length;T<_;++T){var y=[];v=this.drawCustomCoordinates_(u,v,g[T],s,y),c.push(y)}this.instructions.push([Z.CUSTOM,l,c,e,i,Py]),this.hitDetectionInstructions.push([Z.CUSTOM,l,c,e,o||i,Py]);break;case nt.POLYGON:case nt.MULTI_LINE_STRING:h=[],u=a==nt.POLYGON?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),v=this.drawCustomCoordinates_(u,0,e.getEnds(),s,h),this.instructions.push([Z.CUSTOM,l,h,e,i,vl]),this.hitDetectionInstructions.push([Z.CUSTOM,l,h,e,o||i,vl]);break;case nt.LINE_STRING:case nt.CIRCLE:u=e.getFlatCoordinates(),f=this.appendFlatLineCoordinates(u,0,u.length,s,!1,!1),this.instructions.push([Z.CUSTOM,l,f,e,i,Gi]),this.hitDetectionInstructions.push([Z.CUSTOM,l,f,e,o||i,Gi]);break;case nt.MULTI_POINT:u=e.getFlatCoordinates(),f=this.appendFlatPointCoordinates(u,s),f>l&&(this.instructions.push([Z.CUSTOM,l,f,e,i,Gi]),this.hitDetectionInstructions.push([Z.CUSTOM,l,f,e,o||i,Gi]));break;case nt.POINT:u=e.getFlatCoordinates(),this.coordinates.push(u[0],u[1]),f=this.coordinates.length,this.instructions.push([Z.CUSTOM,l,f,e,i]),this.hitDetectionInstructions.push([Z.CUSTOM,l,f,e,o||i]);break}this.endGeometry(r)},t.prototype.beginGeometry=function(e,r){this.beginGeometryInstruction1_=[Z.BEGIN_GEOMETRY,r,0,e],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Z.BEGIN_GEOMETRY,r,0,e],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},t.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},t.prototype.reverseHitDetectionInstructions=function(){var e=this.hitDetectionInstructions;e.reverse();var r,i=e.length,o,a,s=-1;for(r=0;r<i;++r)o=e[r],a=o[0],a==Z.END_GEOMETRY?s=r:a==Z.BEGIN_GEOMETRY&&(o[2]=r,vw(this.hitDetectionInstructions,s,r),s=-1)},t.prototype.setFillStrokeStyle=function(e,r){var i=this.state;if(e){var o=e.getColor();i.fillStyle=Ke(o||pn)}else i.fillStyle=void 0;if(r){var a=r.getColor();i.strokeStyle=Ke(a||aa);var s=r.getLineCap();i.lineCap=s!==void 0?s:nl;var l=r.getLineDash();i.lineDash=l?l.slice():ra;var u=r.getLineDashOffset();i.lineDashOffset=u||ia;var f=r.getLineJoin();i.lineJoin=f!==void 0?f:Ni;var h=r.getWidth();i.lineWidth=h!==void 0?h:la;var c=r.getMiterLimit();i.miterLimit=c!==void 0?c:oa,i.lineWidth>this.maxLineWidth&&(this.maxLineWidth=i.lineWidth,this.bufferedMaxExtent_=null)}else i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0},t.prototype.createFill=function(e){var r=e.fillStyle,i=[Z.SET_FILL_STYLE,r];return typeof r!="string"&&i.push(!0),i},t.prototype.applyStroke=function(e){this.instructions.push(this.createStroke(e))},t.prototype.createStroke=function(e){return[Z.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]},t.prototype.updateFillStyle=function(e,r){var i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(r.call(this,e)),e.currentFillStyle=i)},t.prototype.updateStrokeStyle=function(e,r){var i=e.strokeStyle,o=e.lineCap,a=e.lineDash,s=e.lineDashOffset,l=e.lineJoin,u=e.lineWidth,f=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=o||a!=e.currentLineDash&&!Tr(e.currentLineDash,a)||e.currentLineDashOffset!=s||e.currentLineJoin!=l||e.currentLineWidth!=u||e.currentMiterLimit!=f)&&(i!==void 0&&r.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=o,e.currentLineDash=a,e.currentLineDashOffset=s,e.currentLineJoin=l,e.currentLineWidth=u,e.currentMiterLimit=f)},t.prototype.endGeometry=function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var r=[Z.END_GEOMETRY,e];this.instructions.push(r),this.hitDetectionInstructions.push(r)},t.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=ny(this.maxExtent),this.maxLineWidth>0)){var e=this.resolution*(this.maxLineWidth+1)/2;Ec(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},t}(Vy),ma=NT,MT=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),DT=function(n){MT(t,n);function t(e,r,i,o){var a=n.call(this,e,r,i,o)||this;return a.hitDetectionImage_=null,a.image_=null,a.imagePixelRatio_=void 0,a.anchorX_=void 0,a.anchorY_=void 0,a.height_=void 0,a.opacity_=void 0,a.originX_=void 0,a.originY_=void 0,a.rotateWithView_=void 0,a.rotation_=void 0,a.scale_=void 0,a.width_=void 0,a.declutterImageWithText_=void 0,a}return t.prototype.drawPoint=function(e,r){if(!!this.image_){this.beginGeometry(e,r);var i=e.getFlatCoordinates(),o=e.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(i,o);this.instructions.push([Z.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Z.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(r)}},t.prototype.drawMultiPoint=function(e,r){if(!!this.image_){this.beginGeometry(e,r);var i=e.getFlatCoordinates(),o=e.getStride(),a=this.coordinates.length,s=this.appendFlatPointCoordinates(i,o);this.instructions.push([Z.DRAW_IMAGE,a,s,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Z.DRAW_IMAGE,a,s,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(r)}},t.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,n.prototype.finish.call(this)},t.prototype.setImageStyle=function(e,r){var i=e.getAnchor(),o=e.getSize(),a=e.getHitDetectionImage(),s=e.getImage(this.pixelRatio),l=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=a,this.image_=s,this.height_=o[1],this.opacity_=e.getOpacity(),this.originX_=l[0]*this.imagePixelRatio_,this.originY_=l[1]*this.imagePixelRatio_,this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=o[0],this.declutterImageWithText_=r},t}(ma),FT=DT,kT=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),UT=function(n){kT(t,n);function t(e,r,i,o){return n.call(this,e,r,i,o)||this}return t.prototype.drawFlatCoordinates_=function(e,r,i,o){var a=this.coordinates.length,s=this.appendFlatLineCoordinates(e,r,i,o,!1,!1),l=[Z.MOVE_TO_LINE_TO,a,s];return this.instructions.push(l),this.hitDetectionInstructions.push(l),i},t.prototype.drawLineString=function(e,r){var i=this.state,o=i.strokeStyle,a=i.lineWidth;if(!(o===void 0||a===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,r),this.hitDetectionInstructions.push([Z.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,ra,ia],Dr);var s=e.getFlatCoordinates(),l=e.getStride();this.drawFlatCoordinates_(s,0,s.length,l),this.hitDetectionInstructions.push(Yn),this.endGeometry(r)}},t.prototype.drawMultiLineString=function(e,r){var i=this.state,o=i.strokeStyle,a=i.lineWidth;if(!(o===void 0||a===void 0)){this.updateStrokeStyle(i,this.applyStroke),this.beginGeometry(e,r),this.hitDetectionInstructions.push([Z.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],Dr);for(var s=e.getEnds(),l=e.getFlatCoordinates(),u=e.getStride(),f=0,h=0,c=s.length;h<c;++h)f=this.drawFlatCoordinates_(l,f,s[h],u);this.hitDetectionInstructions.push(Yn),this.endGeometry(r)}},t.prototype.finish=function(){var e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Yn),this.reverseHitDetectionInstructions(),this.state=null,n.prototype.finish.call(this)},t.prototype.applyStroke=function(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Yn),e.lastStroke=this.coordinates.length),e.lastStroke=0,n.prototype.applyStroke.call(this,e),this.instructions.push(Dr)},t}(ma),BT=UT,jT=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bT=function(n){jT(t,n);function t(e,r,i,o){return n.call(this,e,r,i,o)||this}return t.prototype.drawFlatCoordinatess_=function(e,r,i,o){var a=this.state,s=a.fillStyle!==void 0,l=a.strokeStyle!==void 0,u=i.length;this.instructions.push(Dr),this.hitDetectionInstructions.push(Dr);for(var f=0;f<u;++f){var h=i[f],c=this.coordinates.length,v=this.appendFlatLineCoordinates(e,r,h,o,!0,!l),g=[Z.MOVE_TO_LINE_TO,c,v];this.instructions.push(g),this.hitDetectionInstructions.push(g),l&&(this.instructions.push(Wy),this.hitDetectionInstructions.push(Wy)),r=h}return s&&(this.instructions.push(El),this.hitDetectionInstructions.push(El)),l&&(this.instructions.push(Yn),this.hitDetectionInstructions.push(Yn)),r},t.prototype.drawCircle=function(e,r){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(e,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Z.SET_FILL_STYLE,pn]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Z.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=e.getFlatCoordinates(),l=e.getStride(),u=this.coordinates.length;this.appendFlatLineCoordinates(s,0,s.length,l,!1,!1);var f=[Z.CIRCLE,u];this.instructions.push(Dr,f),this.hitDetectionInstructions.push(Dr,f),i.fillStyle!==void 0&&(this.instructions.push(El),this.hitDetectionInstructions.push(El)),i.strokeStyle!==void 0&&(this.instructions.push(Yn),this.hitDetectionInstructions.push(Yn)),this.endGeometry(r)}},t.prototype.drawPolygon=function(e,r){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(e,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Z.SET_FILL_STYLE,pn]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Z.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var s=e.getEnds(),l=e.getOrientedFlatCoordinates(),u=e.getStride();this.drawFlatCoordinatess_(l,0,s,u),this.endGeometry(r)}},t.prototype.drawMultiPolygon=function(e,r){var i=this.state,o=i.fillStyle,a=i.strokeStyle;if(!(o===void 0&&a===void 0)){this.setFillStrokeStyles_(),this.beginGeometry(e,r),i.fillStyle!==void 0&&this.hitDetectionInstructions.push([Z.SET_FILL_STYLE,pn]),i.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Z.SET_STROKE_STYLE,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);for(var s=e.getEndss(),l=e.getOrientedFlatCoordinates(),u=e.getStride(),f=0,h=0,c=s.length;h<c;++h)f=this.drawFlatCoordinatess_(l,f,s[h],u);this.endGeometry(r)}},t.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(e!==0)for(var r=this.coordinates,i=0,o=r.length;i<o;++i)r[i]=Pr(r[i],e);return n.prototype.finish.call(this)},t.prototype.setFillStrokeStyles_=function(){var e=this.state,r=e.fillStyle;r!==void 0&&this.updateFillStyle(e,this.createFill),e.strokeStyle!==void 0&&this.updateStrokeStyle(e,this.applyStroke)},t}(ma),Yy=bT;function GT(n,t,e,r,i){var o=e,a=e,s=0,l=0,u=e,f,h,c,v,g,T,_,y,m,x;for(h=e;h<r;h+=i){var E=t[h],C=t[h+1];g!==void 0&&(m=E-g,x=C-T,v=Math.sqrt(m*m+x*x),_!==void 0&&(l+=c,f=Math.acos((_*m+y*x)/(c*v)),f>n&&(l>s&&(s=l,o=u,a=h),l=0,u=h-i)),c=v,_=m,y=x),g=E,T=C}return l+=v,l>s?[u,h]:[o,a]}var $T=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),wl={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},zT=function(n){$T(t,n);function t(e,r,i,o){var a=n.call(this,e,r,i,o)||this;return a.labels_=null,a.text_="",a.textOffsetX_=0,a.textOffsetY_=0,a.textRotateWithView_=void 0,a.textRotation_=0,a.textFillState_=null,a.fillStates={},a.textStrokeState_=null,a.strokeStates={},a.textState_={},a.textStates={},a.textKey_="",a.fillKey_="",a.strokeKey_="",a.declutterImageWithText_=void 0,a}return t.prototype.finish=function(){var e=n.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},t.prototype.drawText=function(e,r){var i=this.textFillState_,o=this.textStrokeState_,a=this.textState_;if(!(this.text_===""||!a||!i&&!o)){var s=this.coordinates,l=s.length,u=e.getType(),f=null,h=e.getStride();if(a.placement===sx.LINE&&(u==nt.LINE_STRING||u==nt.MULTI_LINE_STRING||u==nt.POLYGON||u==nt.MULTI_POLYGON)){if(!ce(this.getBufferedMaxExtent(),e.getExtent()))return;var c=void 0;if(f=e.getFlatCoordinates(),u==nt.LINE_STRING)c=[f.length];else if(u==nt.MULTI_LINE_STRING)c=e.getEnds();else if(u==nt.POLYGON)c=e.getEnds().slice(0,1);else if(u==nt.MULTI_POLYGON){var v=e.getEndss();c=[];for(var g=0,T=v.length;g<T;++g)c.push(v[g][0])}this.beginGeometry(e,r);for(var _=a.textAlign,y=0,m=void 0,x=0,E=c.length;x<E;++x){if(_==null){var C=GT(a.maxAngle,f,y,c[x],h);y=C[0],m=C[1]}else m=c[x];for(var g=y;g<m;g+=h)s.push(f[g],f[g+1]);var I=s.length;y=c[x],this.drawChars_(l,I),l=I}this.endGeometry(r)}else{var A=a.overflow?null:[];switch(u){case nt.POINT:case nt.MULTI_POINT:f=e.getFlatCoordinates();break;case nt.LINE_STRING:f=e.getFlatMidpoint();break;case nt.CIRCLE:f=e.getCenter();break;case nt.MULTI_LINE_STRING:f=e.getFlatMidpoints(),h=2;break;case nt.POLYGON:f=e.getFlatInteriorPoint(),a.overflow||A.push(f[2]/this.resolution),h=3;break;case nt.MULTI_POLYGON:var L=e.getFlatInteriorPoints();f=[];for(var g=0,T=L.length;g<T;g+=3)a.overflow||A.push(L[g+2]/this.resolution),f.push(L[g],L[g+1]);if(f.length===0)return;h=2;break}var I=this.appendFlatPointCoordinates(f,h);if(I===l)return;if(A&&(I-l)/2!=f.length/h){var P=l/2;A=A.filter(function(J,j){var G=s[(P+j)*2]===f[j*h]&&s[(P+j)*2+1]===f[j*h+1];return G||--P,G})}this.saveTextStates_(),(a.backgroundFill||a.backgroundStroke)&&(this.setFillStrokeStyle(a.backgroundFill,a.backgroundStroke),a.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),a.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(e,r);var U=a.padding;if(U!=Or&&(a.scale[0]<0||a.scale[1]<0)){var $=a.padding[0],B=a.padding[1],b=a.padding[2],K=a.padding[3];a.scale[0]<0&&(B=-B,K=-K),a.scale[1]<0&&($=-$,b=-b),U=[$,B,b,K]}var V=this.pixelRatio;this.instructions.push([Z.DRAW_IMAGE,l,I,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,U==Or?Or:U.map(function(J){return J*V}),!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,A]);var Y=1/V;this.hitDetectionInstructions.push([Z.DRAW_IMAGE,l,I,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[Y,Y],NaN,this.declutterImageWithText_,U,!!a.backgroundFill,!!a.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,A]),this.endGeometry(r)}}},t.prototype.saveTextStates_=function(){var e=this.textStrokeState_,r=this.textState_,i=this.textFillState_,o=this.strokeKey_;e&&(o in this.strokeStates||(this.strokeStates[o]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));var a=this.textKey_;a in this.textStates||(this.textStates[a]={font:r.font,textAlign:r.textAlign||sa,textBaseline:r.textBaseline||rl,scale:r.scale});var s=this.fillKey_;i&&(s in this.fillStates||(this.fillStates[s]={fillStyle:i.fillStyle}))},t.prototype.drawChars_=function(e,r){var i=this.textStrokeState_,o=this.textState_,a=this.strokeKey_,s=this.textKey_,l=this.fillKey_;this.saveTextStates_();var u=this.pixelRatio,f=wl[o.textBaseline],h=this.textOffsetY_*u,c=this.text_,v=i?i.lineWidth*Math.abs(o.scale[0])/2:0;this.instructions.push([Z.DRAW_CHARS,e,r,f,o.overflow,l,o.maxAngle,u,h,a,v*u,c,s,1]),this.hitDetectionInstructions.push([Z.DRAW_CHARS,e,r,f,o.overflow,l,o.maxAngle,1,h,a,v,c,s,1/u])},t.prototype.setTextStyle=function(e,r){var i,o,a;if(!e)this.text_="";else{var s=e.getFill();s?(o=this.textFillState_,o||(o={},this.textFillState_=o),o.fillStyle=Ke(s.getColor()||pn)):(o=null,this.textFillState_=o);var l=e.getStroke();if(!l)a=null,this.textStrokeState_=a;else{a=this.textStrokeState_,a||(a={},this.textStrokeState_=a);var u=l.getLineDash(),f=l.getLineDashOffset(),h=l.getWidth(),c=l.getMiterLimit();a.lineCap=l.getLineCap()||nl,a.lineDash=u?u.slice():ra,a.lineDashOffset=f===void 0?ia:f,a.lineJoin=l.getLineJoin()||Ni,a.lineWidth=h===void 0?la:h,a.miterLimit=c===void 0?oa:c,a.strokeStyle=Ke(l.getColor()||aa)}i=this.textState_;var v=e.getFont()||Jg;Ow(v);var g=e.getScaleArray();i.overflow=e.getOverflow(),i.font=v,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.textBaseline=e.getTextBaseline()||rl,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||Or,i.scale=g===void 0?[1,1]:g;var T=e.getOffsetX(),_=e.getOffsetY(),y=e.getRotateWithView(),m=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=T===void 0?0:T,this.textOffsetY_=_===void 0?0:_,this.textRotateWithView_=y===void 0?!1:y,this.textRotation_=m===void 0?0:m,this.strokeKey_=a?(typeof a.strokeStyle=="string"?a.strokeStyle:ft(a.strokeStyle))+a.lineCap+a.lineDashOffset+"|"+a.lineWidth+a.lineJoin+a.miterLimit+"["+a.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.textBaseline||"?"),this.fillKey_=o?typeof o.fillStyle=="string"?o.fillStyle:"|"+ft(o.fillStyle):""}this.declutterImageWithText_=r},t}(ma),WT=zT,VT={Circle:Yy,Default:ma,Image:FT,LineString:BT,Polygon:Yy,Text:WT},YT=function(){function n(t,e,r,i){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=i,this.resolution_=r,this.buildersByZIndex_={}}return n.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var r=this.buildersByZIndex_[e];for(var i in r){var o=r[i].finish();t[e][i]=o}}return t},n.prototype.getBuilder=function(t,e){var r=t!==void 0?t.toString():"0",i=this.buildersByZIndex_[r];i===void 0&&(i={},this.buildersByZIndex_[r]=i);var o=i[e];if(o===void 0){var a=VT[e];o=new a(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),i[e]=o}return o},n}(),Xy=YT,XT=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),HT=function(n){XT(t,n);function t(e){var r=n.call(this)||this;return r.boundHandleImageChange_=r.handleImageChange_.bind(r),r.layer_=e,r.declutterExecutorGroup=null,r}return t.prototype.getFeatures=function(e){return ot()},t.prototype.prepareFrame=function(e){return ot()},t.prototype.renderFrame=function(e,r){return ot()},t.prototype.loadedTileCallback=function(e,r,i){e[r]||(e[r]={}),e[r][i.tileCoord.toString()]=i},t.prototype.createLoadedTileFinder=function(e,r,i){return function(o,a){var s=this.loadedTileCallback.bind(this,i,o);return e.forEachLoadedTile(r,o,a,s)}.bind(this)},t.prototype.forEachFeatureAtCoordinate=function(e,r,i,o,a){},t.prototype.getDataAtPixel=function(e,r,i){return null},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(e){var r=e.target;r.getState()===vt.LOADED&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(e){var r=e.getState();return r!=vt.LOADED&&r!=vt.ERROR&&e.addEventListener(tt.CHANGE,this.boundHandleImageChange_),r==vt.IDLE&&(e.load(),r=e.getState()),r==vt.LOADED},t.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&e.getSourceState()==Mr.READY&&e.changed()},t}(Wg),ZT=HT,KT=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),JT=function(n){KT(t,n);function t(e,r,i,o){var a=n.call(this,e)||this;return a.inversePixelTransform=r,a.frameState=i,a.context=o,a}return t}(hn),Hy=JT,qT=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),QT=function(n){qT(t,n);function t(e){var r=n.call(this,e)||this;return r.container=null,r.renderedResolution,r.tempTransform=Qe(),r.pixelTransform=Qe(),r.inversePixelTransform=Qe(),r.context=null,r.containerReused=!1,r.pixelContext_=null,r}return t.prototype.getBackground=function(e){var r=this.getLayer(),i=r.getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0},t.prototype.useContainer=function(e,r,i,o){var a=this.getLayer().getClassName(),s,l;if(e&&e.className===a&&e.style.opacity===""&&i===1&&(!o||e.style.backgroundColor&&Tr(Zs(e.style.backgroundColor),Zs(o)))){var u=e.firstElementChild;u instanceof HTMLCanvasElement&&(l=u.getContext("2d"))}if(l&&l.canvas.style.transform===r?(this.container=e,this.context=l,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){s=document.createElement("div"),s.className=a;var f=s.style;f.position="absolute",f.width="100%",f.height="100%",o&&(f.backgroundColor=o),l=Te();var u=l.canvas;s.appendChild(u),f=u.style,f.position="absolute",f.left="0",f.transformOrigin="top left",this.container=s,this.context=l}},t.prototype.clipUnrotated=function(e,r,i){var o=Cr(i),a=fl(i),s=ul(i),l=ll(i);Dt(r.coordinateToPixelTransform,o),Dt(r.coordinateToPixelTransform,a),Dt(r.coordinateToPixelTransform,s),Dt(r.coordinateToPixelTransform,l);var u=this.inversePixelTransform;Dt(u,o),Dt(u,a),Dt(u,s),Dt(u,l),e.save(),e.beginPath(),e.moveTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.clip()},t.prototype.dispatchRenderEvent_=function(e,r,i){var o=this.getLayer();if(o.hasListener(e)){var a=new Hy(e,this.inversePixelTransform,i,r);o.dispatchEvent(a)}},t.prototype.preRender=function(e,r){this.dispatchRenderEvent_(Nr.PRERENDER,e,r)},t.prototype.postRender=function(e,r){this.dispatchRenderEvent_(Nr.POSTRENDER,e,r)},t.prototype.getRenderTransform=function(e,r,i,o,a,s,l){var u=a/2,f=s/2,h=o/r,c=-h,v=-e[0]+l,g=-e[1];return gn(this.tempTransform,u,f,h,c,-i,v,g)},t.prototype.getDataAtPixel=function(e,r,i){var o=Dt(this.inversePixelTransform,e.slice()),a=this.context,s=this.getLayer(),l=s.getExtent();if(l){var u=Dt(r.pixelToCoordinateTransform,e.slice());if(!al(l,u))return null}var f=Math.round(o[0]),h=Math.round(o[1]),c=this.pixelContext_;if(!c){var v=document.createElement("canvas");v.width=1,v.height=1,c=v.getContext("2d"),this.pixelContext_=c}c.clearRect(0,0,1,1);var g;try{c.drawImage(a.canvas,f,h,1,1,0,0,1,1),g=c.getImageData(0,0,1,1).data}catch(T){return T.name==="SecurityError"?(this.pixelContext_=null,new Uint8Array):g}return g[3]===0?null:g},t}(ZT),Zy=QT,Tt={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function tS(n,t,e,r,i,o,a,s,l,u,f,h){var c=n[t],v=n[t+1],g=0,T=0,_=0,y=0;function m(){g=c,T=v,t+=r,c=n[t],v=n[t+1],y+=_,_=Math.sqrt((c-g)*(c-g)+(v-T)*(v-T))}do m();while(t<e-r&&y+_<o);for(var x=_===0?0:(o-y)/_,E=xr(g,c,x),C=xr(T,v,x),I=t-r,A=y,L=o+s*l(u,i,f);t<e-r&&y+_<L;)m();x=_===0?0:(L-y)/_;var P=xr(g,c,x),U=xr(T,v,x),$;if(h){var B=[E,C,P,U];Ty(B,0,4,2,h,B,B),$=B[0]>B[2]}else $=E>P;var b=Math.PI,K=[],V=I+r===t;t=I,_=0,y=A,c=n[t],v=n[t+1];var Y;if(V){m(),Y=Math.atan2(v-T,c-g),$&&(Y+=Y>0?-b:b);var k=(P+E)/2,J=(U+C)/2;return K[0]=[k,J,(L-o)/2,Y,i],K}for(var j=0,G=i.length;j<G;){m();var N=Math.atan2(v-T,c-g);if($&&(N+=N>0?-b:b),Y!==void 0){var R=N-Y;if(R+=R>b?-2*b:R<-b?2*b:0,Math.abs(R)>a)return null}Y=N;for(var X=j,W=0;j<G;++j){var rt=$?G-j-1:j,xt=s*l(u,i[rt],f);if(t+r<e&&y+_<o+W+xt/2)break;W+=xt}if(j!==X){var gt=$?i.substring(G-X,G-j):i.substring(X,j);x=_===0?0:(o+W/2-y)/_;var k=xr(g,c,x),J=xr(T,v,x);K.push([k,J,W/2,N,gt]),o+=W}}return K}var Wi=Fe(),Xn=[],_n=[],mn=[],Hn=[];function Ky(n){return n[3].declutterBox}var eS=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function Jy(n,t){return(t==="start"||t==="end")&&!eS.test(n)&&(t=t==="start"?"left":"right"),wl[t]}var nS=function(){function n(t,e,r,i){this.overlaps=r,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=i.instructions,this.coordinates=i.coordinates,this.coordinateCache_={},this.renderedTransform_=Qe(),this.hitDetectionInstructions=i.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=i.fillStates||{},this.strokeStates=i.strokeStates||{},this.textStates=i.textStates||{},this.widths_={},this.labels_={}}return n.prototype.createLabel=function(t,e,r,i){var o=t+e+r+i;if(this.labels_[o])return this.labels_[o];var a=i?this.strokeStates[i]:null,s=r?this.fillStates[r]:null,l=this.textStates[e],u=this.pixelRatio,f=[l.scale[0]*u,l.scale[1]*u],h=Jy(t,l.textAlign||sa),c=i&&a.lineWidth?a.lineWidth:0,v=t.split(`
`),g=v.length,T=[],_=Iw(l.font,v,T),y=Cw(l.font),m=y*g,x=_+c,E=[],C=(x+2)*f[0],I=(m+c)*f[1],A={width:C<0?Math.floor(C):Math.ceil(C),height:I<0?Math.floor(I):Math.ceil(I),contextInstructions:E};if((f[0]!=1||f[1]!=1)&&E.push("scale",f),E.push("font",l.font),i){E.push("strokeStyle",a.strokeStyle),E.push("lineWidth",c),E.push("lineCap",a.lineCap),E.push("lineJoin",a.lineJoin),E.push("miterLimit",a.miterLimit);var L=Ks?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;L.prototype.setLineDash&&(E.push("setLineDash",[a.lineDash]),E.push("lineDashOffset",a.lineDashOffset))}r&&E.push("fillStyle",s.fillStyle),E.push("textBaseline","middle"),E.push("textAlign","center");var P=.5-h,U=h*x+P*c,$;if(i)for($=0;$<g;++$)E.push("strokeText",[v[$],U+P*T[$],.5*(c+y)+$*y]);if(r)for($=0;$<g;++$)E.push("fillText",[v[$],U+P*T[$],.5*(c+y)+$*y]);return this.labels_[o]=A,A},n.prototype.replayTextBackground_=function(t,e,r,i,o,a,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,r),t.lineTo.apply(t,i),t.lineTo.apply(t,o),t.lineTo.apply(t,e),a&&(this.alignFill_=a[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},n.prototype.calculateImageOrLabelDimensions_=function(t,e,r,i,o,a,s,l,u,f,h,c,v,g,T,_){s*=c[0],l*=c[1];var y=r-s,m=i-l,x=o+u>t?t-u:o,E=a+f>e?e-f:a,C=g[3]+x*c[0]+g[1],I=g[0]+E*c[1]+g[2],A=y-g[3],L=m-g[0];(T||h!==0)&&(Xn[0]=A,Hn[0]=A,Xn[1]=L,_n[1]=L,_n[0]=A+C,mn[0]=_n[0],mn[1]=L+I,Hn[1]=mn[1]);var P;return h!==0?(P=gn(Qe(),r,i,1,1,h,-r,-i),Dt(P,Xn),Dt(P,_n),Dt(P,mn),Dt(P,Hn),vn(Math.min(Xn[0],_n[0],mn[0],Hn[0]),Math.min(Xn[1],_n[1],mn[1],Hn[1]),Math.max(Xn[0],_n[0],mn[0],Hn[0]),Math.max(Xn[1],_n[1],mn[1],Hn[1]),Wi)):vn(Math.min(A,A+C),Math.min(L,L+I),Math.max(A,A+C),Math.max(L,L+I),Wi),v&&(y=Math.round(y),m=Math.round(m)),{drawImageX:y,drawImageY:m,drawImageW:x,drawImageH:E,originX:u,originY:f,declutterBox:{minX:Wi[0],minY:Wi[1],maxX:Wi[2],maxY:Wi[3],value:_},canvasTransform:P,scale:c}},n.prototype.replayImageOrLabel_=function(t,e,r,i,o,a,s){var l=!!(a||s),u=i.declutterBox,f=t.canvas,h=s?s[2]*i.scale[0]/2:0,c=u.minX-h<=f.width/e&&u.maxX+h>=0&&u.minY-h<=f.height/e&&u.maxY+h>=0;return c&&(l&&this.replayTextBackground_(t,Xn,_n,mn,Hn,a,s),Rw(t,i.canvasTransform,o,r,i.originX,i.originY,i.drawImageW,i.drawImageH,i.drawImageX,i.drawImageY,i.scale)),!0},n.prototype.fill_=function(t){if(this.alignFill_){var e=Dt(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;t.save(),t.translate(e[0]%r,e[1]%r),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},n.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},n.prototype.drawLabelWithPointPlacement_=function(t,e,r,i){var o=this.textStates[e],a=this.createLabel(t,e,i,r),s=this.strokeStates[r],l=this.pixelRatio,u=Jy(t,o.textAlign||sa),f=wl[o.textBaseline||rl],h=s&&s.lineWidth?s.lineWidth:0,c=a.width/l-2*o.scale[0],v=u*c+2*(.5-u)*h,g=f*a.height/l+2*(.5-f)*h;return{label:a,anchorX:v,anchorY:g}},n.prototype.execute_=function(t,e,r,i,o,a,s,l){var u;this.pixelCoordinates_&&Tr(r,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=Ar(this.coordinates,0,this.coordinates.length,2,r,this.pixelCoordinates_),px(this.renderedTransform_,r));for(var f=0,h=i.length,c=0,v,g,T,_,y,m,x,E,C,I,A,L,P=0,U=0,$=null,B=null,b=this.coordinateCache_,K=this.viewRotation_,V=Math.round(Math.atan2(-r[1],r[0])*1e12)/1e12,Y={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:K},k=this.instructions!=i||this.overlaps?0:200,J,j,G,N;f<h;){var R=i[f],X=R[0];switch(X){case Z.BEGIN_GEOMETRY:J=R[1],N=R[3],J.getGeometry()?s!==void 0&&!ce(s,N.getExtent())?f=R[2]+1:++f:f=R[2];break;case Z.BEGIN_PATH:P>k&&(this.fill_(t),P=0),U>k&&(t.stroke(),U=0),!P&&!U&&(t.beginPath(),_=NaN,y=NaN),++f;break;case Z.CIRCLE:c=R[1];var W=u[c],rt=u[c+1],xt=u[c+2],gt=u[c+3],St=xt-W,Ot=gt-rt,nn=Math.sqrt(St*St+Ot*Ot);t.moveTo(W+nn,rt),t.arc(W,rt,nn,0,2*Math.PI,!0),++f;break;case Z.CLOSE_PATH:t.closePath(),++f;break;case Z.CUSTOM:c=R[1],v=R[2];var Kt=R[3],Jt=R[4],wn=R.length==6?R[5]:void 0;Y.geometry=Kt,Y.feature=J,f in b||(b[f]=[]);var je=b[f];wn?wn(u,c,v,2,je):(je[0]=u[c],je[1]=u[c+1],je.length=2),Jt(je,Y),++f;break;case Z.DRAW_IMAGE:c=R[1],v=R[2],E=R[3],g=R[4],T=R[5];var w=R[6],p=R[7],d=R[8],S=R[9],O=R[10],M=R[11],D=R[12],et=R[13],it=R[14];if(!E&&R.length>=19){C=R[18],I=R[19],A=R[20],L=R[21];var ut=this.drawLabelWithPointPlacement_(C,I,A,L);E=ut.label,R[3]=E;var Lt=R[22];g=(ut.anchorX-Lt)*this.pixelRatio,R[4]=g;var pt=R[23];T=(ut.anchorY-pt)*this.pixelRatio,R[5]=T,w=E.height,R[6]=w,et=E.width,R[13]=et}var be=void 0;R.length>24&&(be=R[24]);var Ce=void 0,pe=void 0,Qn=void 0;R.length>16?(Ce=R[15],pe=R[16],Qn=R[17]):(Ce=Or,pe=!1,Qn=!1),O&&V?M+=K:!O&&!V&&(M-=K);for(var Ur=0;c<v;c+=2)if(!(be&&be[Ur++]<et/this.pixelRatio)){var Ie=this.calculateImageOrLabelDimensions_(E.width,E.height,u[c],u[c+1],et,w,g,T,d,S,M,D,o,Ce,pe||Qn,J),Re=[t,e,E,Ie,p,pe?$:null,Qn?B:null],tr=void 0,Br=void 0;if(l&&it){var Ta=v-c;if(!it[Ta]){it[Ta]=Re;continue}if(tr=it[Ta],delete it[Ta],Br=Ky(tr),l.collides(Br))continue}l&&l.collides(Ie.declutterBox)||(tr&&(l&&l.insert(Br),this.replayImageOrLabel_.apply(this,tr)),l&&l.insert(Ie.declutterBox),this.replayImageOrLabel_.apply(this,Re))}++f;break;case Z.DRAW_CHARS:var sh=R[1],lh=R[2],Pl=R[3],D_=R[4];L=R[5];var F_=R[6],uh=R[7],fh=R[8];A=R[9];var Ll=R[10];C=R[11],I=R[12];var ch=[R[13],R[13]],Nl=this.textStates[I],Xi=Nl.font,Hi=[Nl.scale[0]*uh,Nl.scale[1]*uh],Zi=void 0;Xi in this.widths_?Zi=this.widths_[Xi]:(Zi={},this.widths_[Xi]=Zi);var hh=vT(u,sh,lh,2),ph=Math.abs(Hi[0])*Qg(Xi,C,Zi);if(D_||ph<=hh){var k_=this.textStates[I].textAlign,U_=(hh-ph)*wl[k_],Ki=tS(u,sh,lh,2,C,U_,F_,Math.abs(Hi[0]),Qg,Xi,Zi,V?0:this.viewRotation_);t:if(Ki){var Ji=[],xn=void 0,Sa=void 0,Oa=void 0,ee=void 0,de=void 0;if(A)for(xn=0,Sa=Ki.length;xn<Sa;++xn){de=Ki[xn],Oa=de[4],ee=this.createLabel(Oa,I,"",A),g=de[2]+(Hi[0]<0?-Ll:Ll),T=Pl*ee.height+(.5-Pl)*2*Ll*Hi[1]/Hi[0]-fh;var Ie=this.calculateImageOrLabelDimensions_(ee.width,ee.height,de[0],de[1],ee.width,ee.height,g,T,0,0,de[3],ch,!1,Or,!1,J);if(l&&l.collides(Ie.declutterBox))break t;Ji.push([t,e,ee,Ie,1,null,null])}if(L)for(xn=0,Sa=Ki.length;xn<Sa;++xn){de=Ki[xn],Oa=de[4],ee=this.createLabel(Oa,I,L,""),g=de[2],T=Pl*ee.height-fh;var Ie=this.calculateImageOrLabelDimensions_(ee.width,ee.height,de[0],de[1],ee.width,ee.height,g,T,0,0,de[3],ch,!1,Or,!1,J);if(l&&l.collides(Ie.declutterBox))break t;Ji.push([t,e,ee,Ie,1,null,null])}l&&l.load(Ji.map(Ky));for(var Ml=0,B_=Ji.length;Ml<B_;++Ml)this.replayImageOrLabel_.apply(this,Ji[Ml])}}++f;break;case Z.END_GEOMETRY:if(a!==void 0){J=R[1];var dh=a(J,N);if(dh)return dh}++f;break;case Z.FILL:k?P++:this.fill_(t),++f;break;case Z.MOVE_TO_LINE_TO:for(c=R[1],v=R[2],j=u[c],G=u[c+1],m=j+.5|0,x=G+.5|0,(m!==_||x!==y)&&(t.moveTo(j,G),_=m,y=x),c+=2;c<v;c+=2)j=u[c],G=u[c+1],m=j+.5|0,x=G+.5|0,(c==v-2||m!==_||x!==y)&&(t.lineTo(j,G),_=m,y=x);++f;break;case Z.SET_FILL_STYLE:$=R,this.alignFill_=R[2],P&&(this.fill_(t),P=0,U&&(t.stroke(),U=0)),t.fillStyle=R[1],++f;break;case Z.SET_STROKE_STYLE:B=R,U&&(t.stroke(),U=0),this.setStrokeStyle_(t,R),++f;break;case Z.STROKE:k?U++:t.stroke(),++f;break;default:++f;break}}P&&this.fill_(t),U&&t.stroke()},n.prototype.execute=function(t,e,r,i,o,a){this.viewRotation_=i,this.execute_(t,e,r,this.instructions,o,void 0,void 0,a)},n.prototype.executeHitDetection=function(t,e,r,i,o){return this.viewRotation_=r,this.execute_(t,1,e,this.hitDetectionInstructions,!0,i,o)},n}(),rS=nS,Bc=[Tt.POLYGON,Tt.CIRCLE,Tt.LINE_STRING,Tt.IMAGE,Tt.TEXT,Tt.DEFAULT],iS=function(){function n(t,e,r,i,o,a){this.maxExtent_=t,this.overlaps_=i,this.pixelRatio_=r,this.resolution_=e,this.renderBuffer_=a,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Qe(),this.createExecutors_(o)}return n.prototype.clip=function(t,e){var r=this.getClipCoords(e);t.beginPath(),t.moveTo(r[0],r[1]),t.lineTo(r[2],r[3]),t.lineTo(r[4],r[5]),t.lineTo(r[6],r[7]),t.clip()},n.prototype.createExecutors_=function(t){for(var e in t){var r=this.executorsByZIndex_[e];r===void 0&&(r={},this.executorsByZIndex_[e]=r);var i=t[e];for(var o in i){var a=i[o];r[o]=new rS(this.resolution_,this.pixelRatio_,this.overlaps_,a)}}},n.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var r=this.executorsByZIndex_[e],i=0,o=t.length;i<o;++i)if(t[i]in r)return!0;return!1},n.prototype.forEachFeatureAtCoordinate=function(t,e,r,i,o,a){i=Math.round(i);var s=i*2+1,l=gn(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-r,-t[0],-t[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=Te(s,s));var f=this.hitDetectionContext_;f.canvas.width!==s||f.canvas.height!==s?(f.canvas.width=s,f.canvas.height=s):u||f.clearRect(0,0,s,s);var h;this.renderBuffer_!==void 0&&(h=Fe(),ca(h,t),Ec(h,e*(this.renderBuffer_+i),h));var c=oS(i),v;function g(I,A){for(var L=f.getImageData(0,0,s,s).data,P=0,U=c.length;P<U;P++)if(L[c[P]]>0){if(!a||v!==Tt.IMAGE&&v!==Tt.TEXT||a.indexOf(I)!==-1){var $=(c[P]-3)/4,B=i-$%s,b=i-($/s|0),K=o(I,A,B*B+b*b);if(K)return K}f.clearRect(0,0,s,s);break}}var T=Object.keys(this.executorsByZIndex_).map(Number);T.sort(Ai);var _,y,m,x,E;for(_=T.length-1;_>=0;--_){var C=T[_].toString();for(m=this.executorsByZIndex_[C],y=Bc.length-1;y>=0;--y)if(v=Bc[y],x=m[v],x!==void 0&&(E=x.executeHitDetection(f,l,r,g,h),E))return E}},n.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var r=e[0],i=e[1],o=e[2],a=e[3],s=[r,i,r,a,o,a,o,i];return Ar(s,0,8,2,t,s),s},n.prototype.isEmpty=function(){return na(this.executorsByZIndex_)},n.prototype.execute=function(t,e,r,i,o,a,s){var l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(Ai),this.maxExtent_&&(t.save(),this.clip(t,r));var u=a||Bc,f,h,c,v,g,T;for(s&&l.reverse(),f=0,h=l.length;f<h;++f){var _=l[f].toString();for(g=this.executorsByZIndex_[_],c=0,v=u.length;c<v;++c){var y=u[c];T=g[y],T!==void 0&&T.execute(t,e,r,i,o,s)}}this.maxExtent_&&t.restore()},n}(),jc={};function oS(n){if(jc[n]!==void 0)return jc[n];for(var t=n*2+1,e=n*n,r=new Array(e+1),i=0;i<=n;++i)for(var o=0;o<=n;++o){var a=i*i+o*o;if(a>e)break;var s=r[a];s||(s=[],r[a]=s),s.push(((n+i)*t+(n+o))*4+3),i>0&&s.push(((n-i)*t+(n+o))*4+3),o>0&&(s.push(((n+i)*t+(n-o))*4+3),i>0&&s.push(((n-i)*t+(n-o))*4+3))}for(var l=[],i=0,u=r.length;i<u;++i)r[i]&&l.push.apply(l,r[i]);return jc[n]=l,l}var qy=iS,Ht={ANIMATING:0,INTERACTING:1},aS=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sS=function(n){aS(t,n);function t(e,r,i,o,a,s,l){var u=n.call(this)||this;return u.context_=e,u.pixelRatio_=r,u.extent_=i,u.transform_=o,u.viewRotation_=a,u.squaredTolerance_=s,u.userTransform_=l,u.contextFillState_=null,u.contextStrokeState_=null,u.contextTextState_=null,u.fillState_=null,u.strokeState_=null,u.image_=null,u.imageAnchorX_=0,u.imageAnchorY_=0,u.imageHeight_=0,u.imageOpacity_=0,u.imageOriginX_=0,u.imageOriginY_=0,u.imageRotateWithView_=!1,u.imageRotation_=0,u.imageScale_=[0,0],u.imageWidth_=0,u.text_="",u.textOffsetX_=0,u.textOffsetY_=0,u.textRotateWithView_=!1,u.textRotation_=0,u.textScale_=[0,0],u.textFillState_=null,u.textStrokeState_=null,u.textState_=null,u.pixelCoordinates_=[],u.tmpLocalTransform_=Qe(),u}return t.prototype.drawImages_=function(e,r,i,o){if(!!this.image_){var a=Ar(e,r,i,o,this.transform_,this.pixelCoordinates_),s=this.context_,l=this.tmpLocalTransform_,u=s.globalAlpha;this.imageOpacity_!=1&&(s.globalAlpha=u*this.imageOpacity_);var f=this.imageRotation_;this.imageRotateWithView_&&(f+=this.viewRotation_);for(var h=0,c=a.length;h<c;h+=2){var v=a[h]-this.imageAnchorX_,g=a[h+1]-this.imageAnchorY_;if(f!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){var T=v+this.imageAnchorX_,_=g+this.imageAnchorY_;gn(l,T,_,1,1,f,-T,-_),s.setTransform.apply(s,l),s.translate(T,_),s.scale(this.imageScale_[0],this.imageScale_[1]),s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),s.setTransform(1,0,0,1,0,0)}else s.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,v,g,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(s.globalAlpha=u)}},t.prototype.drawText_=function(e,r,i,o){if(!(!this.textState_||this.text_==="")){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var a=Ar(e,r,i,o,this.transform_,this.pixelCoordinates_),s=this.context_,l=this.textRotation_;for(this.textRotateWithView_&&(l+=this.viewRotation_);r<i;r+=o){var u=a[r]+this.textOffsetX_,f=a[r+1]+this.textOffsetY_;if(l!==0||this.textScale_[0]!=1||this.textScale_[1]!=1){var h=gn(this.tmpLocalTransform_,u,f,1,1,l,-u,-f);s.setTransform.apply(s,h),s.translate(u,f),s.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&s.strokeText(this.text_,0,0),this.textFillState_&&s.fillText(this.text_,0,0),s.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&s.strokeText(this.text_,u,f),this.textFillState_&&s.fillText(this.text_,u,f)}}},t.prototype.moveToLineTo_=function(e,r,i,o,a){var s=this.context_,l=Ar(e,r,i,o,this.transform_,this.pixelCoordinates_);s.moveTo(l[0],l[1]);var u=l.length;a&&(u-=2);for(var f=2;f<u;f+=2)s.lineTo(l[f],l[f+1]);return a&&s.closePath(),i},t.prototype.drawRings_=function(e,r,i,o){for(var a=0,s=i.length;a<s;++a)r=this.moveToLineTo_(e,r,i[a],o,!0);return r},t.prototype.drawCircle=function(e){if(!!ce(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=Xx(e,this.transform_,this.pixelCoordinates_),i=r[2]-r[0],o=r[3]-r[1],a=Math.sqrt(i*i+o*o),s=this.context_;s.beginPath(),s.arc(r[0],r[1],a,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}},t.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())},t.prototype.setTransform=function(e){this.transform_=e},t.prototype.drawGeometry=function(e){var r=e.getType();switch(r){case nt.POINT:this.drawPoint(e);break;case nt.LINE_STRING:this.drawLineString(e);break;case nt.POLYGON:this.drawPolygon(e);break;case nt.MULTI_POINT:this.drawMultiPoint(e);break;case nt.MULTI_LINE_STRING:this.drawMultiLineString(e);break;case nt.MULTI_POLYGON:this.drawMultiPolygon(e);break;case nt.GEOMETRY_COLLECTION:this.drawGeometryCollection(e);break;case nt.CIRCLE:this.drawCircle(e);break}},t.prototype.drawFeature=function(e,r){var i=r.getGeometryFunction()(e);!i||!ce(this.extent_,i.getExtent())||(this.setStyle(r),this.drawGeometry(i))},t.prototype.drawGeometryCollection=function(e){for(var r=e.getGeometriesArray(),i=0,o=r.length;i<o;++i)this.drawGeometry(r[i])},t.prototype.drawPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(r,0,r.length,i),this.text_!==""&&this.drawText_(r,0,r.length,i)},t.prototype.drawMultiPoint=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(r,0,r.length,i),this.text_!==""&&this.drawText_(r,0,r.length,i)},t.prototype.drawLineString=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!ce(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=e.getFlatCoordinates();r.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),r.stroke()}if(this.text_!==""){var o=e.getFlatMidpoint();this.drawText_(o,0,2,2)}}},t.prototype.drawMultiLineString=function(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var r=e.getExtent();if(!!ce(this.extent_,r)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var i=this.context_,o=e.getFlatCoordinates(),a=0,s=e.getEnds(),l=e.getStride();i.beginPath();for(var u=0,f=s.length;u<f;++u)a=this.moveToLineTo_(o,a,s[u],l,!1);i.stroke()}if(this.text_!==""){var h=e.getFlatMidpoints();this.drawText_(h,0,h.length,2)}}},t.prototype.drawPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!ce(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_;r.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var i=e.getFlatInteriorPoint();this.drawText_(i,0,2,2)}}},t.prototype.drawMultiPolygon=function(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!ce(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var r=this.context_,i=e.getOrientedFlatCoordinates(),o=0,a=e.getEndss(),s=e.getStride();r.beginPath();for(var l=0,u=a.length;l<u;++l){var f=a[l];o=this.drawRings_(i,o,f,s)}this.fillState_&&r.fill(),this.strokeState_&&r.stroke()}if(this.text_!==""){var h=e.getFlatInteriorPoints();this.drawText_(h,0,h.length,2)}}},t.prototype.setContextFillState_=function(e){var r=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,r.fillStyle=e.fillStyle):(r.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})},t.prototype.setContextStrokeState_=function(e){var r=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,r.lineCap=e.lineCap),r.setLineDash&&(Tr(i.lineDash,e.lineDash)||r.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,r.lineDashOffset=e.lineDashOffset)),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,r.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,r.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,r.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,r.strokeStyle=e.strokeStyle)):(r.lineCap=e.lineCap,r.setLineDash&&(r.setLineDash(e.lineDash),r.lineDashOffset=e.lineDashOffset),r.lineJoin=e.lineJoin,r.lineWidth=e.lineWidth,r.miterLimit=e.miterLimit,r.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},t.prototype.setContextTextState_=function(e){var r=this.context_,i=this.contextTextState_,o=e.textAlign?e.textAlign:sa;i?(i.font!=e.font&&(i.font=e.font,r.font=e.font),i.textAlign!=o&&(i.textAlign=o,r.textAlign=o),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,r.textBaseline=e.textBaseline)):(r.font=e.font,r.textAlign=o,r.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:o,textBaseline:e.textBaseline})},t.prototype.setFillStrokeStyle=function(e,r){var i=this;if(!e)this.fillState_=null;else{var o=e.getColor();this.fillState_={fillStyle:Ke(o||pn)}}if(!r)this.strokeState_=null;else{var a=r.getColor(),s=r.getLineCap(),l=r.getLineDash(),u=r.getLineDashOffset(),f=r.getLineJoin(),h=r.getWidth(),c=r.getMiterLimit(),v=l||ra;this.strokeState_={lineCap:s!==void 0?s:nl,lineDash:this.pixelRatio_===1?v:v.map(function(g){return g*i.pixelRatio_}),lineDashOffset:(u||ia)*this.pixelRatio_,lineJoin:f!==void 0?f:Ni,lineWidth:(h!==void 0?h:la)*this.pixelRatio_,miterLimit:c!==void 0?c:oa,strokeStyle:Ke(a||aa)}}},t.prototype.setImageStyle=function(e){var r;if(!e||!(r=e.getSize())){this.image_=null;return}var i=e.getAnchor(),o=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=i[0]*this.pixelRatio_,this.imageAnchorY_=i[1]*this.pixelRatio_,this.imageHeight_=r[1]*this.pixelRatio_,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation(),this.imageScale_=e.getScaleArray(),this.imageWidth_=r[0]*this.pixelRatio_},t.prototype.setTextStyle=function(e){if(!e)this.text_="";else{var r=e.getFill();if(!r)this.textFillState_=null;else{var i=r.getColor();this.textFillState_={fillStyle:Ke(i||pn)}}var o=e.getStroke();if(!o)this.textStrokeState_=null;else{var a=o.getColor(),s=o.getLineCap(),l=o.getLineDash(),u=o.getLineDashOffset(),f=o.getLineJoin(),h=o.getWidth(),c=o.getMiterLimit();this.textStrokeState_={lineCap:s!==void 0?s:nl,lineDash:l||ra,lineDashOffset:u||ia,lineJoin:f!==void 0?f:Ni,lineWidth:h!==void 0?h:la,miterLimit:c!==void 0?c:oa,strokeStyle:Ke(a||aa)}}var v=e.getFont(),g=e.getOffsetX(),T=e.getOffsetY(),_=e.getRotateWithView(),y=e.getRotation(),m=e.getScaleArray(),x=e.getText(),E=e.getTextAlign(),C=e.getTextBaseline();this.textState_={font:v!==void 0?v:Jg,textAlign:E!==void 0?E:sa,textBaseline:C!==void 0?C:rl},this.text_=x!==void 0?x:"",this.textOffsetX_=g!==void 0?this.pixelRatio_*g:0,this.textOffsetY_=T!==void 0?this.pixelRatio_*T:0,this.textRotateWithView_=_!==void 0?_:!1,this.textRotation_=y!==void 0?y:0,this.textScale_=[this.pixelRatio_*m[0],this.pixelRatio_*m[1]]}},t}(Vy),lS=sS,tn=.5;function uS(n,t,e,r,i,o,a){var s=n[0]*tn,l=n[1]*tn,u=Te(s,l);u.imageSmoothingEnabled=!1;for(var f=u.canvas,h=new lS(u,tn,i,null,a),c=e.length,v=Math.floor((256*256*256-1)/c),g={},T=1;T<=c;++T){var _=e[T-1],y=_.getStyleFunction()||r;if(!!r){var m=y(_,o);if(!!m){Array.isArray(m)||(m=[m]);for(var x=T*v,E="#"+("000000"+x.toString(16)).slice(-6),C=0,I=m.length;C<I;++C){var A=m[C],L=A.getGeometryFunction()(_);if(!(!L||!ce(i,L.getExtent()))){var P=A.clone(),U=P.getFill();U&&U.setColor(E);var $=P.getStroke();$&&($.setColor(E),$.setLineDash(null)),P.setText(void 0);var B=A.getImage();if(B&&B.getOpacity()!==0){var b=B.getImageSize();if(!b)continue;var K=Te(b[0],b[1],void 0,{alpha:!1}),V=K.canvas;K.fillStyle=E,K.fillRect(0,0,V.width,V.height),P.setImage(new nx({img:V,imgSize:b,anchor:B.getAnchor(),anchorXUnits:Wn.PIXELS,anchorYUnits:Wn.PIXELS,offset:B.getOrigin(),opacity:1,size:B.getSize(),scale:B.getScale(),rotation:B.getRotation(),rotateWithView:B.getRotateWithView()}))}var Y=P.getZIndex()||0,k=g[Y];k||(k={},g[Y]=k,k[nt.POLYGON]=[],k[nt.CIRCLE]=[],k[nt.LINE_STRING]=[],k[nt.POINT]=[]),k[L.getType().replace("Multi","")].push(L,P)}}}}}for(var J=Object.keys(g).map(Number).sort(Ai),T=0,j=J.length;T<j;++T){var k=g[J[T]];for(var G in k)for(var N=k[G],C=0,I=N.length;C<I;C+=2){h.setStyle(N[C+1]);for(var R=0,X=t.length;R<X;++R)h.setTransform(t[R]),h.drawGeometry(N[C])}}return u.getImageData(0,0,f.width,f.height)}function fS(n,t,e){var r=[];if(e){var i=Math.floor(Math.round(n[0])*tn),o=Math.floor(Math.round(n[1])*tn),a=(Nt(i,0,e.width-1)+Nt(o,0,e.height-1)*e.width)*4,s=e.data[a],l=e.data[a+1],u=e.data[a+2],f=u+256*(l+256*s),h=Math.floor((256*256*256-1)/t.length);f&&f%h==0&&r.push(t[f/h-1])}return r}var cS=.5,Qy={Point:ES,LineString:yS,Polygon:xS,MultiPoint:wS,MultiLineString:_S,MultiPolygon:mS,GeometryCollection:gS,Circle:dS};function hS(n,t){return parseInt(ft(n),10)-parseInt(ft(t),10)}function pS(n,t){var e=bc(n,t);return e*e}function bc(n,t){return cS*n/t}function dS(n,t,e,r,i){var o=e.getFill(),a=e.getStroke();if(o||a){var s=n.getBuilder(e.getZIndex(),Tt.CIRCLE);s.setFillStrokeStyle(o,a),s.drawCircle(t,r)}var l=e.getText();if(l&&l.getText()){var u=(i||n).getBuilder(e.getZIndex(),Tt.TEXT);u.setTextStyle(l),u.drawText(t,r)}}function t_(n,t,e,r,i,o,a){var s=!1,l=e.getImage();if(l){var u=l.getImageState();u==vt.LOADED||u==vt.ERROR?l.unlistenImageChange(i):(u==vt.IDLE&&l.load(),u=l.getImageState(),l.listenImageChange(i),s=!0)}return vS(n,t,e,r,o,a),s}function vS(n,t,e,r,i,o){var a=e.getGeometryFunction()(t);if(!!a){var s=a.simplifyTransformed(r,i),l=e.getRenderer();if(l)e_(n,s,e,t);else{var u=Qy[s.getType()];u(n,s,e,t,o)}}}function e_(n,t,e,r){if(t.getType()==nt.GEOMETRY_COLLECTION){for(var i=t.getGeometries(),o=0,a=i.length;o<a;++o)e_(n,i[o],e,r);return}var s=n.getBuilder(e.getZIndex(),Tt.DEFAULT);s.drawCustom(t,r,e.getRenderer(),e.getHitDetectionRenderer())}function gS(n,t,e,r,i){var o=t.getGeometriesArray(),a,s;for(a=0,s=o.length;a<s;++a){var l=Qy[o[a].getType()];l(n,o[a],e,r,i)}}function yS(n,t,e,r,i){var o=e.getStroke();if(o){var a=n.getBuilder(e.getZIndex(),Tt.LINE_STRING);a.setFillStrokeStyle(null,o),a.drawLineString(t,r)}var s=e.getText();if(s&&s.getText()){var l=(i||n).getBuilder(e.getZIndex(),Tt.TEXT);l.setTextStyle(s),l.drawText(t,r)}}function _S(n,t,e,r,i){var o=e.getStroke();if(o){var a=n.getBuilder(e.getZIndex(),Tt.LINE_STRING);a.setFillStrokeStyle(null,o),a.drawMultiLineString(t,r)}var s=e.getText();if(s&&s.getText()){var l=(i||n).getBuilder(e.getZIndex(),Tt.TEXT);l.setTextStyle(s),l.drawText(t,r)}}function mS(n,t,e,r,i){var o=e.getFill(),a=e.getStroke();if(a||o){var s=n.getBuilder(e.getZIndex(),Tt.POLYGON);s.setFillStrokeStyle(o,a),s.drawMultiPolygon(t,r)}var l=e.getText();if(l&&l.getText()){var u=(i||n).getBuilder(e.getZIndex(),Tt.TEXT);u.setTextStyle(l),u.drawText(t,r)}}function ES(n,t,e,r,i){var o=e.getImage(),a=e.getText(),s;if(i&&(n=i,s=o&&a&&a.getText()?{}:void 0),o){if(o.getImageState()!=vt.LOADED)return;var l=n.getBuilder(e.getZIndex(),Tt.IMAGE);l.setImageStyle(o,s),l.drawPoint(t,r)}if(a&&a.getText()){var u=n.getBuilder(e.getZIndex(),Tt.TEXT);u.setTextStyle(a,s),u.drawText(t,r)}}function wS(n,t,e,r,i){var o=e.getImage(),a=e.getText(),s;if(i&&(n=i,s=o&&a&&a.getText()?{}:void 0),o){if(o.getImageState()!=vt.LOADED)return;var l=n.getBuilder(e.getZIndex(),Tt.IMAGE);l.setImageStyle(o,s),l.drawMultiPoint(t,r)}if(a&&a.getText()){var u=(i||n).getBuilder(e.getZIndex(),Tt.TEXT);u.setTextStyle(a,s),u.drawText(t,r)}}function xS(n,t,e,r,i){var o=e.getFill(),a=e.getStroke();if(o||a){var s=n.getBuilder(e.getZIndex(),Tt.POLYGON);s.setFillStrokeStyle(o,a),s.drawPolygon(t,r)}var l=e.getText();if(l&&l.getText()){var u=(i||n).getBuilder(e.getZIndex(),Tt.TEXT);u.setTextStyle(l),u.drawText(t,r)}}var TS=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),SS=function(n){TS(t,n);function t(e){var r=n.call(this,e)||this;return r.boundHandleStyleImageChange_=r.handleStyleImageChange_.bind(r),r.animatingOrInteracting_,r.dirty_=!1,r.hitDetectionImageData_=null,r.renderedFeatures_=null,r.renderedRevision_=-1,r.renderedResolution_=NaN,r.renderedExtent_=Fe(),r.wrappedRenderedExtent_=Fe(),r.renderedRotation_,r.renderedCenter_=null,r.renderedProjection_=null,r.renderedRenderOrder_=null,r.replayGroup_=null,r.replayGroupChanged=!0,r.declutterExecutorGroup=null,r.clipping=!0,r}return t.prototype.renderWorlds=function(e,r,i){var o=r.extent,a=r.viewState,s=a.center,l=a.resolution,u=a.projection,f=a.rotation,h=u.getExtent(),c=this.getLayer().getSource(),v=r.pixelRatio,g=r.viewHints,T=!(g[Ht.ANIMATING]||g[Ht.INTERACTING]),_=this.context,y=Math.round(r.size[0]*v),m=Math.round(r.size[1]*v),x=c.getWrapX()&&u.canWrapX(),E=x?At(h):null,C=x?Math.ceil((o[2]-h[2])/E)+1:1,I=x?Math.floor((o[0]-h[0])/E):0;do{var A=this.getRenderTransform(s,l,f,v,y,m,I*E);e.execute(_,1,A,f,T,void 0,i)}while(++I<C)},t.prototype.renderDeclutter=function(e){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,e,e.declutterTree)},t.prototype.renderFrame=function(e,r){var i=e.pixelRatio,o=e.layerStatesArray[e.layerIndex];dx(this.pixelTransform,1/i,1/i),Ic(this.inversePixelTransform,this.pixelTransform);var a=hy(this.pixelTransform);this.useContainer(r,a,o.opacity,this.getBackground(e));var s=this.context,l=s.canvas,u=this.replayGroup_,f=this.declutterExecutorGroup;if((!u||u.isEmpty())&&(!f||f.isEmpty()))return null;var h=Math.round(e.size[0]*i),c=Math.round(e.size[1]*i);l.width!=h||l.height!=c?(l.width=h,l.height=c,l.style.transform!==a&&(l.style.transform=a)):this.containerReused||s.clearRect(0,0,h,c),this.preRender(s,e);var v=e.viewState;v.projection;var g=!1,T=!0;if(o.extent&&this.clipping){var _=Rr(o.extent);T=ce(_,e.extent),g=T&&!Di(_,e.extent),g&&this.clipUnrotated(s,e,_)}T&&this.renderWorlds(u,e),g&&s.restore(),this.postRender(s,e);var y=Kg(o.opacity),m=this.container;return y!==m.style.opacity&&(m.style.opacity=y),this.renderedRotation_!==v.rotation&&(this.renderedRotation_=v.rotation,this.hitDetectionImageData_=null),this.container},t.prototype.getFeatures=function(e){return new Promise(function(r){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var i=[this.context.canvas.width,this.context.canvas.height];Dt(this.pixelTransform,i);var o=this.renderedCenter_,a=this.renderedResolution_,s=this.renderedRotation_,l=this.renderedProjection_,u=this.wrappedRenderedExtent_,f=this.getLayer(),h=[],c=i[0]*tn,v=i[1]*tn;h.push(this.getRenderTransform(o,a,s,tn,c,v,0).slice());var g=f.getSource(),T=l.getExtent();if(g.getWrapX()&&l.canWrapX()&&!Di(T,u)){for(var _=u[0],y=At(T),m=0,x=void 0;_<T[0];)--m,x=y*m,h.push(this.getRenderTransform(o,a,s,tn,c,v,x).slice()),_+=y;for(m=0,_=u[2];_>T[2];)++m,x=y*m,h.push(this.getRenderTransform(o,a,s,tn,c,v,x).slice()),_-=y}this.hitDetectionImageData_=uS(i,h,this.renderedFeatures_,f.getStyleFunction(),u,a,s)}r(fS(e,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},t.prototype.forEachFeatureAtCoordinate=function(e,r,i,o,a){var s=this;if(!!this.replayGroup_){var l=r.viewState.resolution,u=r.viewState.rotation,f=this.getLayer(),h={},c=function(T,_,y){var m=ft(T),x=h[m];if(x){if(x!==!0&&y<x.distanceSq){if(y===0)return h[m]=!0,a.splice(a.lastIndexOf(x),1),o(T,f,_);x.geometry=_,x.distanceSq=y}}else{if(y===0)return h[m]=!0,o(T,f,_);a.push(h[m]={feature:T,layer:f,geometry:_,distanceSq:y,callback:o})}},v,g=[this.replayGroup_];return this.declutterExecutorGroup&&g.push(this.declutterExecutorGroup),g.some(function(T){return v=T.forEachFeatureAtCoordinate(e,l,u,i,c,T===s.declutterExecutorGroup&&r.declutterTree?r.declutterTree.all().map(function(_){return _.value}):null)}),v}},t.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},t.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},t.prototype.prepareFrame=function(e){var r=this.getLayer(),i=r.getSource();if(!i)return!1;var o=e.viewHints[Ht.ANIMATING],a=e.viewHints[Ht.INTERACTING],s=r.getUpdateWhileAnimating(),l=r.getUpdateWhileInteracting();if(!this.dirty_&&!s&&o||!l&&a)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var u=e.extent,f=e.viewState,h=f.projection,c=f.resolution,v=e.pixelRatio,g=r.getRevision(),T=r.getRenderBuffer(),_=r.getRenderOrder();_===void 0&&(_=hS);var y=f.center.slice(),m=Ec(u,T*c),x=m.slice(),E=[m.slice()],C=h.getExtent();if(i.getWrapX()&&h.canWrapX()&&!Di(C,e.extent)){var I=At(C),A=Math.max(At(m)/2,I);m[0]=C[0]-A,m[2]=C[2]+A,_y(y,h);var L=Zw(E[0],h);L[0]<C[0]&&L[2]<C[2]?E.push([L[0]+I,L[1],L[2]+I,L[3]]):L[0]>C[0]&&L[2]>C[2]&&E.push([L[0]-I,L[1],L[2]-I,L[3]])}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==g&&this.renderedRenderOrder_==_&&Di(this.wrappedRenderedExtent_,m))return Tr(this.renderedExtent_,x)||(this.hitDetectionImageData_=null,this.renderedExtent_=x),this.renderedCenter_=y,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var P=new Xy(bc(c,v),m,c,v),U;this.getLayer().getDeclutter()&&(U=new Xy(bc(c,v),m,c,v));for(var $,B,b,B=0,b=E.length;B<b;++B)i.loadFeatures(E[B],c,h);var K=pS(c,v),V=function(G){var N,R=G.getStyleFunction()||r.getStyleFunction();if(R&&(N=R(G,c)),N){var X=this.renderFeature(G,K,N,P,$,U);this.dirty_=this.dirty_||X}}.bind(this),Y=xy(m),k=i.getFeaturesInExtent(Y);_&&k.sort(_);for(var B=0,b=k.length;B<b;++B)V(k[B]);this.renderedFeatures_=k;var J=P.finish(),j=new qy(m,c,v,i.getOverlaps(),J,r.getRenderBuffer());return U&&(this.declutterExecutorGroup=new qy(m,c,v,i.getOverlaps(),U.finish(),r.getRenderBuffer())),this.renderedResolution_=c,this.renderedRevision_=g,this.renderedRenderOrder_=_,this.renderedExtent_=x,this.wrappedRenderedExtent_=m,this.renderedCenter_=y,this.renderedProjection_=h,this.replayGroup_=j,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},t.prototype.renderFeature=function(e,r,i,o,a,s){if(!i)return!1;var l=!1;if(Array.isArray(i))for(var u=0,f=i.length;u<f;++u)l=t_(o,e,i[u],r,this.boundHandleStyleImageChange_,a,s)||l;else l=t_(o,e,i,r,this.boundHandleStyleImageChange_,a,s);return l},t}(Zy),OS=SS,CS=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),IS=function(n){CS(t,n);function t(e){return n.call(this,e)||this}return t.prototype.createRenderer=function(){return new OS(this)},t}(AT),MI=IS,RS=function(){function n(t){this.rbush_=new Gy(t),this.items_={}}return n.prototype.insert=function(t,e){var r={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(r),this.items_[ft(e)]=r},n.prototype.load=function(t,e){for(var r=new Array(e.length),i=0,o=e.length;i<o;i++){var a=t[i],s=e[i],l={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:s};r[i]=l,this.items_[ft(s)]=l}this.rbush_.load(r)},n.prototype.remove=function(t){var e=ft(t),r=this.items_[e];return delete this.items_[e],this.rbush_.remove(r)!==null},n.prototype.update=function(t,e){var r=this.items_[ft(e)],i=[r.minX,r.minY,r.maxX,r.maxY];fa(i,t)||(this.remove(e),this.insert(t,e))},n.prototype.getAll=function(){var t=this.rbush_.all();return t.map(function(e){return e.value})},n.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]},r=this.rbush_.search(e);return r.map(function(i){return i.value})},n.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},n.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},n.prototype.forEach_=function(t,e){for(var r,i=0,o=t.length;i<o;i++)if(r=e(t[i]),r)return r;return r},n.prototype.isEmpty=function(){return na(this.items_)},n.prototype.clear=function(){this.rbush_.clear(),this.items_={}},n.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return vn(e.minX,e.minY,e.maxX,e.maxY,t)},n.prototype.concat=function(t){this.rbush_.load(t.rbush_.all());for(var e in t.items_)this.items_[e]=t.items_[e]},n}(),n_=RS,AS=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),PS=function(n){AS(t,n);function t(e){var r=n.call(this)||this;r.projection=Ue(e.projection),r.attributions_=r_(e.attributions),r.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,r.loading=!1,r.state_=e.state!==void 0?e.state:Mr.READY,r.wrapX_=e.wrapX!==void 0?e.wrapX:!1,r.interpolate_=!!e.interpolate,r.viewResolver=null,r.viewRejector=null;var i=r;return r.viewPromise_=new Promise(function(o,a){i.viewResolver=o,i.viewRejector=a}),r}return t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection},t.prototype.getResolutions=function(){return ot()},t.prototype.getView=function(){return this.viewPromise_},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.getInterpolate=function(){return this.interpolate_},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(e){this.attributions_=r_(e),this.changed()},t.prototype.setState=function(e){this.state_=e,this.changed()},t}(Je);function r_(n){return n?Array.isArray(n)?function(t){return n}:typeof n=="function"?n:function(t){return[n]}:null}var i_=PS,en={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function LS(n,t){return[[-1/0,-1/0,1/0,1/0]]}var Ea={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},NS=!1;function MS(n,t,e,r,i,o,a){var s=new XMLHttpRequest;s.open("GET",typeof n=="function"?n(e,r,i):n,!0),t.getType()==Ea.ARRAY_BUFFER&&(s.responseType="arraybuffer"),s.withCredentials=NS,s.onload=function(l){if(!s.status||s.status>=200&&s.status<300){var u=t.getType(),f=void 0;u==Ea.JSON||u==Ea.TEXT?f=s.responseText:u==Ea.XML?(f=s.responseXML,f||(f=new DOMParser().parseFromString(s.responseText,"application/xml"))):u==Ea.ARRAY_BUFFER&&(f=s.response),f?o(t.readFeatures(f,{extent:e,featureProjection:i}),t.readProjection(f)):a()}else a()},s.onerror=a,s.send()}function o_(n,t){return function(e,r,i,o,a){var s=this;MS(n,t,e,r,i,function(l,u){s.addFeatures(l),o!==void 0&&o(l)},a||Sr)}}var a_=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Zn=function(n){a_(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.feature=r,o.features=i,o}return t}(hn),DS=function(n){a_(t,n);function t(e){var r=this,i=e||{};r=n.call(this,{attributions:i.attributions,projection:void 0,state:Mr.READY,wrapX:i.wrapX!==void 0?i.wrapX:!0})||this,r.on,r.once,r.un,r.loader_=Sr,r.format_=i.format,r.overlaps_=i.overlaps===void 0?!0:i.overlaps,r.url_=i.url,i.loader!==void 0?r.loader_=i.loader:r.url_!==void 0&&(at(r.format_,7),r.loader_=o_(r.url_,r.format_)),r.strategy_=i.strategy!==void 0?i.strategy:LS;var o=i.useSpatialIndex!==void 0?i.useSpatialIndex:!0;r.featuresRtree_=o?new n_:null,r.loadedExtentsRtree_=new n_,r.loadingExtentsCount_=0,r.nullGeometryFeatures_={},r.idIndex_={},r.uidIndex_={},r.featureChangeKeys_={},r.featuresCollection_=null;var a,s;return Array.isArray(i.features)?s=i.features:i.features&&(a=i.features,s=a.getArray()),!o&&a===void 0&&(a=new Oe(s)),s!==void 0&&r.addFeaturesInternal(s),a!==void 0&&r.bindFeaturesCollection_(a),r}return t.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},t.prototype.addFeatureInternal=function(e){var r=ft(e);if(!this.addToIndex_(r,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(r,e);var i=e.getGeometry();if(i){var o=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(o,e)}else this.nullGeometryFeatures_[r]=e;this.dispatchEvent(new Zn(en.ADDFEATURE,e))},t.prototype.setupChangeEvents_=function(e,r){this.featureChangeKeys_[e]=[lt(r,tt.CHANGE,this.handleFeatureChange_,this),lt(r,Ri.PROPERTYCHANGE,this.handleFeatureChange_,this)]},t.prototype.addToIndex_=function(e,r){var i=!0,o=r.getId();return o!==void 0&&(o.toString()in this.idIndex_?i=!1:this.idIndex_[o.toString()]=r),i&&(at(!(e in this.uidIndex_),30),this.uidIndex_[e]=r),i},t.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},t.prototype.addFeaturesInternal=function(e){for(var r=[],i=[],o=[],a=0,s=e.length;a<s;a++){var l=e[a],u=ft(l);this.addToIndex_(u,l)&&i.push(l)}for(var a=0,f=i.length;a<f;a++){var l=i[a],u=ft(l);this.setupChangeEvents_(u,l);var h=l.getGeometry();if(h){var c=h.getExtent();r.push(c),o.push(l)}else this.nullGeometryFeatures_[u]=l}this.featuresRtree_&&this.featuresRtree_.load(r,o);for(var a=0,v=i.length;a<v;a++)this.dispatchEvent(new Zn(en.ADDFEATURE,i[a]))},t.prototype.bindFeaturesCollection_=function(e){var r=!1;this.addEventListener(en.ADDFEATURE,function(i){r||(r=!0,e.push(i.feature),r=!1)}),this.addEventListener(en.REMOVEFEATURE,function(i){r||(r=!0,e.remove(i.feature),r=!1)}),e.addEventListener(ae.ADD,function(i){r||(r=!0,this.addFeature(i.element),r=!1)}.bind(this)),e.addEventListener(ae.REMOVE,function(i){r||(r=!0,this.removeFeature(i.element),r=!1)}.bind(this)),this.featuresCollection_=e},t.prototype.clear=function(e){if(e){for(var r in this.featureChangeKeys_){var i=this.featureChangeKeys_[r];i.forEach(wt)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){var o=function(l){this.removeFeatureInternal(l)}.bind(this);this.featuresRtree_.forEach(o);for(var a in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[a])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var s=new Zn(en.CLEAR);this.dispatchEvent(s),this.changed()},t.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},t.prototype.forEachFeatureAtCoordinateDirect=function(e,r){var i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(o){var a=o.getGeometry();if(a.intersectsCoordinate(e))return r(o)})},t.prototype.forEachFeatureInExtent=function(e,r){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,r);this.featuresCollection_&&this.featuresCollection_.forEach(r)},t.prototype.forEachFeatureIntersectingExtent=function(e,r){return this.forEachFeatureInExtent(e,function(i){var o=i.getGeometry();if(o.intersectsExtent(e)){var a=r(i);if(a)return a}})},t.prototype.getFeaturesCollection=function(){return this.featuresCollection_},t.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),na(this.nullGeometryFeatures_)||$g(e,zg(this.nullGeometryFeatures_))),e},t.prototype.getFeaturesAtCoordinate=function(e){var r=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){r.push(i)}),r},t.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_?this.featuresRtree_.getInExtent(e):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},t.prototype.getClosestFeatureToCoordinate=function(e,r){var i=e[0],o=e[1],a=null,s=[NaN,NaN],l=1/0,u=[-1/0,-1/0,1/0,1/0],f=r||Pi;return this.featuresRtree_.forEachInExtent(u,function(h){if(f(h)){var c=h.getGeometry(),v=l;if(l=c.closestPointXY(i,o,s,l),l<v){a=h;var g=Math.sqrt(l);u[0]=i-g,u[1]=o-g,u[2]=i+g,u[3]=o+g}}}),a},t.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},t.prototype.getFeatureById=function(e){var r=this.idIndex_[e.toString()];return r!==void 0?r:null},t.prototype.getFeatureByUid=function(e){var r=this.uidIndex_[e];return r!==void 0?r:null},t.prototype.getFormat=function(){return this.format_},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.getUrl=function(){return this.url_},t.prototype.handleFeatureChange_=function(e){var r=e.target,i=ft(r),o=r.getGeometry();if(!o)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(r),this.nullGeometryFeatures_[i]=r);else{var a=o.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(a,r)):this.featuresRtree_&&this.featuresRtree_.update(a,r)}var s=r.getId();if(s!==void 0){var l=s.toString();this.idIndex_[l]!==r&&(this.removeFromIdIndex_(r),this.idIndex_[l]=r)}else this.removeFromIdIndex_(r),this.uidIndex_[i]=r;this.changed(),this.dispatchEvent(new Zn(en.CHANGEFEATURE,r))},t.prototype.hasFeature=function(e){var r=e.getId();return r!==void 0?r in this.idIndex_:ft(e)in this.uidIndex_},t.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&na(this.nullGeometryFeatures_)},t.prototype.loadFeatures=function(e,r,i){for(var o=this.loadedExtentsRtree_,a=this.strategy_(e,r,i),s=function(h,c){var v=a[h],g=o.forEachInExtent(v,function(T){return Di(T.extent,v)});g||(++l.loadingExtentsCount_,l.dispatchEvent(new Zn(en.FEATURESLOADSTART)),l.loader_.call(l,v,r,i,function(T){--this.loadingExtentsCount_,this.dispatchEvent(new Zn(en.FEATURESLOADEND,void 0,T))}.bind(l),function(){--this.loadingExtentsCount_,this.dispatchEvent(new Zn(en.FEATURESLOADERROR))}.bind(l)),o.insert(v,{extent:v.slice()}))},l=this,u=0,f=a.length;u<f;++u)s(u);this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0},t.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),n.prototype.refresh.call(this)},t.prototype.removeLoadedExtent=function(e){var r=this.loadedExtentsRtree_,i;r.forEachInExtent(e,function(o){if(fa(o.extent,e))return i=o,!0}),i&&r.remove(i)},t.prototype.removeFeature=function(e){if(!!e){var r=ft(e);r in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[r]:this.featuresRtree_&&this.featuresRtree_.remove(e);var i=this.removeFeatureInternal(e);i&&this.changed()}},t.prototype.removeFeatureInternal=function(e){var r=ft(e),i=this.featureChangeKeys_[r];if(!!i){i.forEach(wt),delete this.featureChangeKeys_[r];var o=e.getId();return o!==void 0&&delete this.idIndex_[o.toString()],delete this.uidIndex_[r],this.dispatchEvent(new Zn(en.REMOVEFEATURE,e)),e}},t.prototype.removeFromIdIndex_=function(e){var r=!1;for(var i in this.idIndex_)if(this.idIndex_[i]===e){delete this.idIndex_[i],r=!0;break}return r},t.prototype.setLoader=function(e){this.loader_=e},t.prototype.setUrl=function(e){at(this.format_,7),this.url_=e,this.setLoader(o_(e,this.format_))},t}(i_),DI=DS,q={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function s_(n){return Math.pow(n,3)}function Vi(n){return 1-s_(1-n)}function FS(n){return 3*n*n-2*n*n*n}function kS(n){return n}var US=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),BS=function(n){US(t,n);function t(e,r,i){var o=n.call(this)||this,a=i||{};return o.tileCoord=e,o.state=r,o.interimTile=null,o.key="",o.transition_=a.transition===void 0?250:a.transition,o.transitionStarts_={},o.interpolate=!!a.interpolate,o}return t.prototype.changed=function(){this.dispatchEvent(tt.CHANGE)},t.prototype.release=function(){},t.prototype.getKey=function(){return this.key+"/"+this.tileCoord},t.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(e.getState()==q.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this},t.prototype.refreshInterimChain=function(){if(!!this.interimTile){var e=this.interimTile,r=this;do{if(e.getState()==q.LOADED){e.interimTile=null;break}else e.getState()==q.LOADING?r=e:e.getState()==q.IDLE?r.interimTile=e.interimTile:r=e;e=r.interimTile}while(e)}},t.prototype.getTileCoord=function(){return this.tileCoord},t.prototype.getState=function(){return this.state},t.prototype.setState=function(e){if(this.state!==q.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()},t.prototype.load=function(){ot()},t.prototype.getAlpha=function(e,r){if(!this.transition_)return 1;var i=this.transitionStarts_[e];if(!i)i=r,this.transitionStarts_[e]=i;else if(i===-1)return 1;var o=r-i+1e3/60;return o>=this.transition_?1:s_(o/this.transition_)},t.prototype.inTransition=function(e){return this.transition_?this.transitionStarts_[e]!==-1:!1},t.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)},t}(Li),l_=BS,jS=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),bS=function(n){jS(t,n);function t(e,r,i,o,a,s){var l=n.call(this,e,r,s)||this;return l.crossOrigin_=o,l.src_=i,l.key=i,l.image_=new Image,o!==null&&(l.image_.crossOrigin=o),l.unlisten_=null,l.tileLoadFunction_=a,l}return t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(e){this.image_=e,this.state=q.LOADED,this.unlistenImage_(),this.changed()},t.prototype.handleImageError_=function(){this.state=q.ERROR,this.unlistenImage_(),this.image_=GS(),this.changed()},t.prototype.handleImageLoad_=function(){var e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=q.LOADED:this.state=q.EMPTY,this.unlistenImage_(),this.changed()},t.prototype.load=function(){this.state==q.ERROR&&(this.state=q.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==q.IDLE&&(this.state=q.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Oc(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(l_);function GS(){var n=Te(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}var $S=bS,zS=function(){function n(t,e,r){this.decay_=t,this.minVelocity_=e,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}return n.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},n.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},n.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var r=e-3;r>0&&this.points_[r+2]>t;)r-=3;var i=this.points_[e+2]-this.points_[r+2];if(i<1e3/60)return!1;var o=this.points_[e]-this.points_[r],a=this.points_[e+1]-this.points_[r+1];return this.angle_=Math.atan2(a,o),this.initialVelocity_=Math.sqrt(o*o+a*a)/i,this.initialVelocity_>this.minVelocity_},n.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},n.prototype.getAngle=function(){return this.angle_},n}(),WS=zS,VS=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),YS=function(n){VS(t,n);function t(e){var r=n.call(this)||this;return r.map_=e,r}return t.prototype.dispatchRenderEvent=function(e,r){ot()},t.prototype.calculateMatrices2D=function(e){var r=e.viewState,i=e.coordinateToPixelTransform,o=e.pixelToCoordinateTransform;gn(i,e.size[0]/2,e.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),Ic(o,i)},t.prototype.forEachFeatureAtCoordinate=function(e,r,i,o,a,s,l,u){var f,h=r.viewState;function c(V,Y,k,J){return a.call(s,Y,V?k:null,J)}var v=h.projection,g=_y(e.slice(),v),T=[[0,0]];if(v.canWrapX()&&o){var _=v.getExtent(),y=At(_);T.push([-y,0],[y,0])}for(var m=r.layerStatesArray,x=m.length,E=[],C=[],I=0;I<T.length;I++)for(var A=x-1;A>=0;--A){var L=m[A],P=L.layer;if(P.hasRenderer()&&gl(L,h)&&l.call(u,P)){var U=P.getRenderer(),$=P.getSource();if(U&&$){var B=$.getWrapX()?g:e,b=c.bind(null,L.managed);C[0]=B[0]+T[I][0],C[1]=B[1]+T[I][1],f=U.forEachFeatureAtCoordinate(C,r,i,b,E)}if(f)return f}}if(E.length!==0){var K=1/E.length;return E.forEach(function(V,Y){return V.distanceSq+=Y*K}),E.sort(function(V,Y){return V.distanceSq-Y.distanceSq}),E.some(function(V){return f=V.callback(V.feature,V.layer,V.geometry)}),f}},t.prototype.forEachLayerAtPixel=function(e,r,i,o,a){return ot()},t.prototype.hasFeatureAtCoordinate=function(e,r,i,o,a,s){var l=this.forEachFeatureAtCoordinate(e,r,i,o,Pi,this,a,s);return l!==void 0},t.prototype.getMap=function(){return this.map_},t.prototype.renderFrame=function(e){ot()},t.prototype.scheduleExpireIconCache=function(e){ol.canExpireCache()&&e.postRenderFunctions.push(XS)},t}(vc);function XS(n,t){ol.expire()}var HS=YS,ZS=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),KS=function(n){ZS(t,n);function t(e){var r=n.call(this,e)||this;r.fontChangeListenerKey_=lt(dn,Ri.PROPERTYCHANGE,e.redrawText.bind(e)),r.element_=document.createElement("div");var i=r.element_.style;i.position="absolute",i.width="100%",i.height="100%",i.zIndex="0",r.element_.className=el+" ol-layers";var o=e.getViewport();return o.insertBefore(r.element_,o.firstChild||null),r.children_=[],r.renderedVisible_=!0,r}return t.prototype.dispatchRenderEvent=function(e,r){var i=this.getMap();if(i.hasListener(e)){var o=new Hy(e,void 0,r);i.dispatchEvent(o)}},t.prototype.disposeInternal=function(){wt(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),n.prototype.disposeInternal.call(this)},t.prototype.renderFrame=function(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(Nr.PRECOMPOSE,e);var r=e.layerStatesArray.sort(function(c,v){return c.zIndex-v.zIndex}),i=e.viewState;this.children_.length=0;for(var o=[],a=null,s=0,l=r.length;s<l;++s){var u=r[s];if(e.layerIndex=s,!(!gl(u,i)||u.sourceState!=Mr.READY&&u.sourceState!=Mr.UNDEFINED)){var f=u.layer,h=f.render(e,a);!h||(h!==a&&(this.children_.push(h),a=h),"getDeclutter"in f&&o.push(f))}}for(var s=o.length-1;s>=0;--s)o[s].renderDeclutter(e);hw(this.element_,this.children_),this.dispatchRenderEvent(Nr.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)},t.prototype.forEachLayerAtPixel=function(e,r,i,o,a){for(var s=r.viewState,l=r.layerStatesArray,u=l.length,f=u-1;f>=0;--f){var h=l[f],c=h.layer;if(c.hasRenderer()&&gl(h,s)&&a(c)){var v=c.getRenderer(),g=v.getDataAtPixel(e,r,i);if(g){var T=o(c,g);if(T)return T}}}},t}(HS),JS=KS,u_=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Kn=function(n){u_(t,n);function t(e,r){var i=n.call(this,e)||this;return i.layer=r,i}return t}(hn),Gc={LAYERS:"layers"},qS=function(n){u_(t,n);function t(e){var r=this,i=e||{},o=zt({},i);delete o.layers;var a=i.layers;return r=n.call(this,o)||this,r.on,r.once,r.un,r.layersListenerKeys_=[],r.listenerKeys_={},r.addChangeListener(Gc.LAYERS,r.handleLayersChanged_),a?Array.isArray(a)?a=new Oe(a.slice(),{unique:!0}):at(typeof a.getArray=="function",43):a=new Oe(void 0,{unique:!0}),r.setLayers(a),r}return t.prototype.handleLayerChange_=function(){this.changed()},t.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(wt),this.layersListenerKeys_.length=0;var e=this.getLayers();this.layersListenerKeys_.push(lt(e,ae.ADD,this.handleLayersAdd_,this),lt(e,ae.REMOVE,this.handleLayersRemove_,this));for(var r in this.listenerKeys_)this.listenerKeys_[r].forEach(wt);ea(this.listenerKeys_);for(var i=e.getArray(),o=0,a=i.length;o<a;o++){var s=i[o];this.registerLayerListeners_(s),this.dispatchEvent(new Kn("addlayer",s))}this.changed()},t.prototype.registerLayerListeners_=function(e){var r=[lt(e,Ri.PROPERTYCHANGE,this.handleLayerChange_,this),lt(e,tt.CHANGE,this.handleLayerChange_,this)];e instanceof t&&r.push(lt(e,"addlayer",this.handleLayerGroupAdd_,this),lt(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[ft(e)]=r},t.prototype.handleLayerGroupAdd_=function(e){this.dispatchEvent(new Kn("addlayer",e.layer))},t.prototype.handleLayerGroupRemove_=function(e){this.dispatchEvent(new Kn("removelayer",e.layer))},t.prototype.handleLayersAdd_=function(e){var r=e.element;this.registerLayerListeners_(r),this.dispatchEvent(new Kn("addlayer",r)),this.changed()},t.prototype.handleLayersRemove_=function(e){var r=e.element,i=ft(r);this.listenerKeys_[i].forEach(wt),delete this.listenerKeys_[i],this.dispatchEvent(new Kn("removelayer",r)),this.changed()},t.prototype.getLayers=function(){return this.get(Gc.LAYERS)},t.prototype.setLayers=function(e){var r=this.getLayers();if(r)for(var i=r.getArray(),o=0,a=i.length;o<a;++o)this.dispatchEvent(new Kn("removelayer",i[o]));this.set(Gc.LAYERS,e)},t.prototype.getLayersArray=function(e){var r=e!==void 0?e:[];return this.getLayers().forEach(function(i){i.getLayersArray(r)}),r},t.prototype.getLayerStatesArray=function(e){var r=e!==void 0?e:[],i=r.length;this.getLayers().forEach(function(f){f.getLayerStatesArray(r)});var o=this.getLayerState(),a=o.zIndex;!e&&o.zIndex===void 0&&(a=0);for(var s=i,l=r.length;s<l;s++){var u=r[s];u.opacity*=o.opacity,u.visible=u.visible&&o.visible,u.maxResolution=Math.min(u.maxResolution,o.maxResolution),u.minResolution=Math.max(u.minResolution,o.minResolution),u.minZoom=Math.max(u.minZoom,o.minZoom),u.maxZoom=Math.min(u.maxZoom,o.maxZoom),o.extent!==void 0&&(u.extent!==void 0?u.extent=ha(u.extent,o.extent):u.extent=o.extent),u.zIndex===void 0&&(u.zIndex=a)}return r},t.prototype.getSourceState=function(){return Mr.READY},t}(jy),xl=qS,QS=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),tO=function(n){QS(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.map=r,o.frameState=i!==void 0?i:null,o}return t}(hn),Tl=tO,eO=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),nO=function(n){eO(t,n);function t(e,r,i,o,a){var s=n.call(this,e,r,a)||this;return s.originalEvent=i,s.pixel_=null,s.coordinate_=null,s.dragging=o!==void 0?o:!1,s}return Object.defineProperty(t.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(e){this.pixel_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(e){this.coordinate_=e},enumerable:!1,configurable:!0}),t.prototype.preventDefault=function(){n.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){n.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},t}(Tl),Jn=nO,mt={SINGLECLICK:"singleclick",CLICK:tt.CLICK,DBLCLICK:tt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},$c={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},rO=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),iO=function(n){rO(t,n);function t(e,r){var i=n.call(this,e)||this;i.map_=e,i.clickTimeoutId_,i.emulateClicks_=!1,i.dragging_=!1,i.dragListenerKeys_=[],i.moveTolerance_=r===void 0?1:r,i.down_=null;var o=i.map_.getViewport();return i.activePointers_=0,i.trackedTouches_={},i.element_=o,i.pointerdownListenerKey_=lt(o,$c.POINTERDOWN,i.handlePointerDown_,i),i.originalPointerMoveEvent_,i.relayedListenerKey_=lt(o,$c.POINTERMOVE,i.relayEvent_,i),i.boundHandleTouchMove_=i.handleTouchMove_.bind(i),i.element_.addEventListener(tt.TOUCHMOVE,i.boundHandleTouchMove_,bg?{passive:!1}:!1),i}return t.prototype.emulateClick_=function(e){var r=new Jn(mt.CLICK,this.map_,e);this.dispatchEvent(r),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,r=new Jn(mt.DBLCLICK,this.map_,e),this.dispatchEvent(r)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var i=new Jn(mt.SINGLECLICK,this.map_,e);this.dispatchEvent(i)}.bind(this),250)},t.prototype.updateActivePointers_=function(e){var r=e;r.type==mt.POINTERUP||r.type==mt.POINTERCANCEL?delete this.trackedTouches_[r.pointerId]:r.type==mt.POINTERDOWN&&(this.trackedTouches_[r.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},t.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var r=new Jn(mt.POINTERUP,this.map_,e);this.dispatchEvent(r),this.emulateClicks_&&!r.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_===0&&(this.dragListenerKeys_.forEach(wt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},t.prototype.isMouseActionButton_=function(e){return e.button===0},t.prototype.handlePointerDown_=function(e){this.emulateClicks_=this.activePointers_===0,this.updateActivePointers_(e);var r=new Jn(mt.POINTERDOWN,this.map_,e);this.dispatchEvent(r),this.down_={};for(var i in e){var o=e[i];this.down_[i]=typeof o=="function"?Sr:o}if(this.dragListenerKeys_.length===0){var a=this.map_.getOwnerDocument();this.dragListenerKeys_.push(lt(a,mt.POINTERMOVE,this.handlePointerMove_,this),lt(a,mt.POINTERUP,this.handlePointerUp_,this),lt(this.element_,mt.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==a&&this.dragListenerKeys_.push(lt(this.element_.getRootNode(),mt.POINTERUP,this.handlePointerUp_,this))}},t.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.dragging_=!0;var r=new Jn(mt.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(r)}},t.prototype.relayEvent_=function(e){this.originalPointerMoveEvent_=e;var r=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new Jn(e.type,this.map_,e,r))},t.prototype.handleTouchMove_=function(e){var r=this.originalPointerMoveEvent_;(!r||r.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()},t.prototype.isMoving_=function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_},t.prototype.disposeInternal=function(){this.relayedListenerKey_&&(wt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(tt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(wt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(wt),this.dragListenerKeys_.length=0,this.element_=null,n.prototype.disposeInternal.call(this)},t}(Li),oO=iO,Sl={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"},Zt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Ol=1/0,aO=function(){function n(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return n.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,ea(this.queuedElements_)},n.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,r=t[0];t.length==1?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(r);return delete this.queuedElements_[i],r},n.prototype.enqueue=function(t){at(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=Ol?(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1},n.prototype.getCount=function(){return this.elements_.length},n.prototype.getLeftChildIndex_=function(t){return t*2+1},n.prototype.getRightChildIndex_=function(t){return t*2+2},n.prototype.getParentIndex_=function(t){return t-1>>1},n.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},n.prototype.isEmpty=function(){return this.elements_.length===0},n.prototype.isKeyQueued=function(t){return t in this.queuedElements_},n.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},n.prototype.siftUp_=function(t){for(var e=this.elements_,r=this.priorities_,i=e.length,o=e[t],a=r[t],s=t;t<i>>1;){var l=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),f=u<i&&r[u]<r[l]?u:l;e[t]=e[f],r[t]=r[f],t=f}e[t]=o,r[t]=a,this.siftDown_(s,t)},n.prototype.siftDown_=function(t,e){for(var r=this.elements_,i=this.priorities_,o=r[e],a=i[e];e>t;){var s=this.getParentIndex_(e);if(i[s]>a)r[e]=r[s],i[e]=i[s],e=s;else break}r[e]=o,i[e]=a},n.prototype.reprioritize=function(){var t=this.priorityFunction_,e=this.elements_,r=this.priorities_,i=0,o=e.length,a,s,l;for(s=0;s<o;++s)a=e[s],l=t(a),l==Ol?delete this.queuedElements_[this.keyFunction_(a)]:(r[i]=l,e[i++]=a);e.length=i,r.length=i,this.heapify_()},n}(),sO=aO,lO=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),uO=function(n){lO(t,n);function t(e,r){var i=n.call(this,function(o){return e.apply(null,o)},function(o){return o[0].getKey()})||this;return i.boundHandleTileChange_=i.handleTileChange.bind(i),i.tileChangeCallback_=r,i.tilesLoading_=0,i.tilesLoadingKeys_={},i}return t.prototype.enqueue=function(e){var r=n.prototype.enqueue.call(this,e);if(r){var i=e[0];i.addEventListener(tt.CHANGE,this.boundHandleTileChange_)}return r},t.prototype.getTilesLoading=function(){return this.tilesLoading_},t.prototype.handleTileChange=function(e){var r=e.target,i=r.getState();if(i===q.LOADED||i===q.ERROR||i===q.EMPTY){r.removeEventListener(tt.CHANGE,this.boundHandleTileChange_);var o=r.getKey();o in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[o],--this.tilesLoading_),this.tileChangeCallback_()}},t.prototype.loadMoreTiles=function(e,r){for(var i=0,o,a,s;this.tilesLoading_<e&&i<r&&this.getCount()>0;)a=this.dequeue()[0],s=a.getKey(),o=a.getState(),o===q.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,a.load())},t}(sO),fO=uO;function cO(n,t,e,r,i){if(!n||!(e in n.wantedTiles)||!n.wantedTiles[e][t.getKey()])return Ol;var o=n.viewState.center,a=r[0]-o[0],s=r[1]-o[1];return 65536*Math.log(i)+Math.sqrt(a*a+s*s)/i}var Be={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},hO=42,zc=256;function f_(n,t,e){return function(r,i,o,a,s){if(r){var l=t?0:o[0]*i,u=t?0:o[1]*i,f=s?s[0]:0,h=s?s[1]:0,c=n[0]+l/2+f,v=n[2]-l/2+f,g=n[1]+u/2+h,T=n[3]-u/2+h;c>v&&(c=(v+c)/2,v=c),g>T&&(g=(T+g)/2,T=g);var _=Nt(r[0],c,v),y=Nt(r[1],g,T),m=30*i;return a&&e&&(_+=-m*Math.log(1+Math.max(0,c-r[0])/m)+m*Math.log(1+Math.max(0,r[0]-v)/m),y+=-m*Math.log(1+Math.max(0,g-r[1])/m)+m*Math.log(1+Math.max(0,r[1]-T)/m)),[_,y]}else return}}function pO(n){return n}function Wc(n,t,e,r){var i=At(t)/e[0],o=ke(t)/e[1];return r?Math.min(n,Math.max(i,o)):Math.min(n,Math.min(i,o))}function Vc(n,t,e){var r=Math.min(n,t),i=50;return r*=Math.log(1+i*Math.max(0,n/t-1))/i+1,e&&(r=Math.max(r,e),r/=Math.log(1+i*Math.max(0,e/n-1))/i+1),Nt(r,e/2,t*2)}function dO(n,t,e,r){return function(i,o,a,s){if(i!==void 0){var l=n[0],u=n[n.length-1],f=e?Wc(l,e,a,r):l;if(s){var h=t!==void 0?t:!0;return h?Vc(i,f,u):Nt(i,u,f)}var c=Math.min(f,i),v=Math.floor(gc(n,c,o));return n[v]>f&&v<n.length-1?n[v+1]:n[v]}else return}}function vO(n,t,e,r,i,o){return function(a,s,l,u){if(a!==void 0){var f=i?Wc(t,i,l,o):t,h=e!==void 0?e:0;if(u){var c=r!==void 0?r:!0;return c?Vc(a,f,h):Nt(a,h,f)}var v=1e-9,g=Math.ceil(Math.log(t/f)/Math.log(n)-v),T=-s*(.5-v)+.5,_=Math.min(f,a),y=Math.floor(Math.log(t/_)/Math.log(n)+T),m=Math.max(g,y),x=t/Math.pow(n,m);return Nt(x,h,f)}else return}}function c_(n,t,e,r,i){return function(o,a,s,l){if(o!==void 0){var u=r?Wc(n,r,s,i):n,f=e!==void 0?e:!0;return!f||!l?Nt(o,t,u):Vc(o,u,t)}else return}}function Yc(n){if(n!==void 0)return 0}function h_(n){if(n!==void 0)return n}function gO(n){var t=2*Math.PI/n;return function(e,r){if(r)return e;if(e!==void 0)return e=Math.floor(e/t+.5)*t,e}}function yO(n){var t=n||Ys(5);return function(e,r){if(r)return e;if(e!==void 0)return Math.abs(e)<=t?0:e}}var _O=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Xc=0,mO=function(n){_O(t,n);function t(e){var r=n.call(this)||this;r.on,r.once,r.un;var i=zt({},e);return r.hints_=[0,0],r.animations_=[],r.updateAnimationKey_,r.projection_=Nc(i.projection,"EPSG:3857"),r.viewportSize_=[100,100],r.targetCenter_=null,r.targetResolution_,r.targetRotation_,r.nextCenter_=null,r.nextResolution_,r.nextRotation_,r.cancelAnchor_=void 0,i.center&&(i.center=yn(i.center,r.projection_)),i.extent&&(i.extent=Rr(i.extent,r.projection_)),r.applyOptions_(i),r}return t.prototype.applyOptions_=function(e){var r=zt({},e);for(var i in Be)delete r[i];this.setProperties(r,!0);var o=wO(e);this.maxResolution_=o.maxResolution,this.minResolution_=o.minResolution,this.zoomFactor_=o.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=o.minZoom;var a=EO(e),s=o.constraint,l=xO(e);this.constraints_={center:a,resolution:s,rotation:l},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)},Object.defineProperty(t.prototype,"padding",{get:function(){return this.padding_},set:function(e){var r=this.padding_;this.padding_=e;var i=this.getCenter();if(i){var o=e||[0,0,0,0];r=r||[0,0,0,0];var a=this.getResolution(),s=a/2*(o[3]-r[3]+r[1]-o[1]),l=a/2*(o[0]-r[0]+r[2]-o[2]);this.setCenterInternal([i[0]+s,i[1]-l])}},enumerable:!1,configurable:!0}),t.prototype.getUpdatedOptions_=function(e){var r=this.getProperties();return r.resolution!==void 0?r.resolution=this.getResolution():r.zoom=this.getZoom(),r.center=this.getCenterInternal(),r.rotation=this.getRotation(),zt({},r,e)},t.prototype.animate=function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var r=new Array(arguments.length),i=0;i<r.length;++i){var o=arguments[i];o.center&&(o=zt({},o),o.center=yn(o.center,this.getProjection())),o.anchor&&(o=zt({},o),o.anchor=yn(o.anchor,this.getProjection())),r[i]=o}this.animateInternal.apply(this,r)},t.prototype.animateInternal=function(e){var r=arguments.length,i;r>1&&typeof arguments[r-1]=="function"&&(i=arguments[r-1],--r);for(var o=0;o<r&&!this.isDef();++o){var a=arguments[o];a.center&&this.setCenterInternal(a.center),a.zoom!==void 0?this.setZoom(a.zoom):a.resolution&&this.setResolution(a.resolution),a.rotation!==void 0&&this.setRotation(a.rotation)}if(o===r){i&&Cl(i,!0);return}for(var s=Date.now(),l=this.targetCenter_.slice(),u=this.targetResolution_,f=this.targetRotation_,h=[];o<r;++o){var c=arguments[o],v={start:s,complete:!1,anchor:c.anchor,duration:c.duration!==void 0?c.duration:1e3,easing:c.easing||FS,callback:i};if(c.center&&(v.sourceCenter=l,v.targetCenter=c.center.slice(),l=v.targetCenter),c.zoom!==void 0?(v.sourceResolution=u,v.targetResolution=this.getResolutionForZoom(c.zoom),u=v.targetResolution):c.resolution&&(v.sourceResolution=u,v.targetResolution=c.resolution,u=v.targetResolution),c.rotation!==void 0){v.sourceRotation=f;var g=Ci(c.rotation-f+Math.PI,2*Math.PI)-Math.PI;v.targetRotation=f+g,f=v.targetRotation}TO(v)?v.complete=!0:s+=v.duration,h.push(v)}this.animations_.push(h),this.setHint(Ht.ANIMATING,1),this.updateAnimations_()},t.prototype.getAnimating=function(){return this.hints_[Ht.ANIMATING]>0},t.prototype.getInteracting=function(){return this.hints_[Ht.INTERACTING]>0},t.prototype.cancelAnimations=function(){this.setHint(Ht.ANIMATING,-this.hints_[Ht.ANIMATING]);for(var e,r=0,i=this.animations_.length;r<i;++r){var o=this.animations_[r];if(o[0].callback&&Cl(o[0].callback,!1),!e)for(var a=0,s=o.length;a<s;++a){var l=o[a];if(!l.complete){e=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN},t.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!!this.getAnimating()){for(var e=Date.now(),r=!1,i=this.animations_.length-1;i>=0;--i){for(var o=this.animations_[i],a=!0,s=0,l=o.length;s<l;++s){var u=o[s];if(!u.complete){var f=e-u.start,h=u.duration>0?f/u.duration:1;h>=1?(u.complete=!0,h=1):a=!1;var c=u.easing(h);if(u.sourceCenter){var v=u.sourceCenter[0],g=u.sourceCenter[1],T=u.targetCenter[0],_=u.targetCenter[1];this.nextCenter_=u.targetCenter;var y=v+c*(T-v),m=g+c*(_-g);this.targetCenter_=[y,m]}if(u.sourceResolution&&u.targetResolution){var x=c===1?u.targetResolution:u.sourceResolution+c*(u.targetResolution-u.sourceResolution);if(u.anchor){var E=this.getViewportSize_(this.getRotation()),C=this.constraints_.resolution(x,0,E,!0);this.targetCenter_=this.calculateCenterZoom(C,u.anchor)}this.nextResolution_=u.targetResolution,this.targetResolution_=x,this.applyTargetState_(!0)}if(u.sourceRotation!==void 0&&u.targetRotation!==void 0){var I=c===1?Ci(u.targetRotation+Math.PI,2*Math.PI)-Math.PI:u.sourceRotation+c*(u.targetRotation-u.sourceRotation);if(u.anchor){var A=this.constraints_.rotation(I,!0);this.targetCenter_=this.calculateCenterRotate(A,u.anchor)}this.nextRotation_=u.targetRotation,this.targetRotation_=I}if(this.applyTargetState_(!0),r=!0,!u.complete)break}}if(a){this.animations_[i]=null,this.setHint(Ht.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var L=o[0].callback;L&&Cl(L,!0)}}this.animations_=this.animations_.filter(Boolean),r&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},t.prototype.calculateCenterRotate=function(e,r){var i,o=this.getCenterInternal();return o!==void 0&&(i=[o[0]-r[0],o[1]-r[1]],Pc(i,e-this.getRotation()),Ax(i,r)),i},t.prototype.calculateCenterZoom=function(e,r){var i,o=this.getCenterInternal(),a=this.getResolution();if(o!==void 0&&a!==void 0){var s=r[0]-e*(r[0]-o[0])/a,l=r[1]-e*(r[1]-o[1])/a;i=[s,l]}return i},t.prototype.getViewportSize_=function(e){var r=this.viewportSize_;if(e){var i=r[0],o=r[1];return[Math.abs(i*Math.cos(e))+Math.abs(o*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(o*Math.cos(e))]}else return r},t.prototype.setViewportSize=function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},t.prototype.getCenter=function(){var e=this.getCenterInternal();return e&&Dc(e,this.getProjection())},t.prototype.getCenterInternal=function(){return this.get(Be.CENTER)},t.prototype.getConstraints=function(){return this.constraints_},t.prototype.getConstrainResolution=function(){return this.get("constrainResolution")},t.prototype.getHints=function(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()},t.prototype.calculateExtent=function(e){var r=this.calculateExtentInternal(e);return xy(r,this.getProjection())},t.prototype.calculateExtentInternal=function(e){var r=e||this.getViewportSizeMinusPadding_(),i=this.getCenterInternal();at(i,1);var o=this.getResolution();at(o!==void 0,2);var a=this.getRotation();return at(a!==void 0,3),Tc(i,o,a,r)},t.prototype.getMaxResolution=function(){return this.maxResolution_},t.prototype.getMinResolution=function(){return this.minResolution_},t.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},t.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))},t.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},t.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))},t.prototype.setConstrainResolution=function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolution=function(){return this.get(Be.RESOLUTION)},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getResolutionForExtent=function(e,r){return this.getResolutionForExtentInternal(Rr(e,this.getProjection()),r)},t.prototype.getResolutionForExtentInternal=function(e,r){var i=r||this.getViewportSizeMinusPadding_(),o=At(e)/i[0],a=ke(e)/i[1];return Math.max(o,a)},t.prototype.getResolutionForValueFunction=function(e){var r=e||2,i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(i/o)/Math.log(r);return function(s){var l=i/Math.pow(r,s*a);return l}},t.prototype.getRotation=function(){return this.get(Be.ROTATION)},t.prototype.getValueForResolutionFunction=function(e){var r=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),o=this.minResolution_,a=Math.log(i/o)/r;return function(s){var l=Math.log(i/s)/r/a;return l}},t.prototype.getViewportSizeMinusPadding_=function(e){var r=this.getViewportSize_(e),i=this.padding_;return i&&(r=[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]),r},t.prototype.getState=function(){var e=this.getProjection(),r=this.getResolution(),i=this.getRotation(),o=this.getCenterInternal(),a=this.padding_;if(a){var s=this.getViewportSizeMinusPadding_();o=Hc(o,this.getViewportSize_(),[s[0]/2+a[3],s[1]/2+a[0]],r,i)}return{center:o.slice(0),projection:e!==void 0?e:null,resolution:r,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}},t.prototype.getZoom=function(){var e,r=this.getResolution();return r!==void 0&&(e=this.getZoomForResolution(r)),e},t.prototype.getZoomForResolution=function(e){var r=this.minZoom_||0,i,o;if(this.resolutions_){var a=gc(this.resolutions_,e,1);r=a,i=this.resolutions_[a],a==this.resolutions_.length-1?o=2:o=i/this.resolutions_[a+1]}else i=this.maxResolution_,o=this.zoomFactor_;return r+Math.log(i/e)/Math.log(o)},t.prototype.getResolutionForZoom=function(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var r=Nt(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[r]/this.resolutions_[r+1];return this.resolutions_[r]/Math.pow(i,Nt(e-r,0,1))}else return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)},t.prototype.fit=function(e,r){var i;if(at(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function",24),Array.isArray(e)){at(!Sc(e),25);var o=Rr(e,this.getProjection());i=By(o)}else if(e.getType()===nt.CIRCLE){var o=Rr(e.getExtent(),this.getProjection());i=By(o),i.rotate(this.getRotation(),Fi(o))}else{var a=Ux();a?i=e.clone().transform(a,this.getProjection()):i=e}this.fitInternal(i,r)},t.prototype.rotatedExtentForGeometry=function(e){for(var r=this.getRotation(),i=Math.cos(r),o=Math.sin(-r),a=e.getFlatCoordinates(),s=e.getStride(),l=1/0,u=1/0,f=-1/0,h=-1/0,c=0,v=a.length;c<v;c+=s){var g=a[c]*i-a[c+1]*o,T=a[c]*o+a[c+1]*i;l=Math.min(l,g),u=Math.min(u,T),f=Math.max(f,g),h=Math.max(h,T)}return[l,u,f,h]},t.prototype.fitInternal=function(e,r){var i=r||{},o=i.size;o||(o=this.getViewportSizeMinusPadding_());var a=i.padding!==void 0?i.padding:[0,0,0,0],s=i.nearest!==void 0?i.nearest:!1,l;i.minResolution!==void 0?l=i.minResolution:i.maxZoom!==void 0?l=this.getResolutionForZoom(i.maxZoom):l=0;var u=this.rotatedExtentForGeometry(e),f=this.getResolutionForExtentInternal(u,[o[0]-a[1]-a[3],o[1]-a[0]-a[2]]);f=isNaN(f)?l:Math.max(f,l),f=this.getConstrainedResolution(f,s?0:1);var h=this.getRotation(),c=Math.sin(h),v=Math.cos(h),g=Fi(u);g[0]+=(a[1]-a[3])/2*f,g[1]+=(a[0]-a[2])/2*f;var T=g[0]*v-g[1]*c,_=g[1]*v+g[0]*c,y=this.getConstrainedCenter([T,_],f),m=i.callback?i.callback:Sr;i.duration!==void 0?this.animateInternal({resolution:f,center:y,duration:i.duration,easing:i.easing},m):(this.targetResolution_=f,this.targetCenter_=y,this.applyTargetState_(!1,!0),Cl(m,!0))},t.prototype.centerOn=function(e,r,i){this.centerOnInternal(yn(e,this.getProjection()),r,i)},t.prototype.centerOnInternal=function(e,r,i){this.setCenterInternal(Hc(e,r,i,this.getResolution(),this.getRotation()))},t.prototype.calculateCenterShift=function(e,r,i,o){var a,s=this.padding_;if(s&&e){var l=this.getViewportSizeMinusPadding_(-i),u=Hc(e,o,[l[0]/2+s[3],l[1]/2+s[0]],r,i);a=[e[0]-u[0],e[1]-u[1]]}return a},t.prototype.isDef=function(){return!!this.getCenterInternal()&&this.getResolution()!==void 0},t.prototype.adjustCenter=function(e){var r=Dc(this.targetCenter_,this.getProjection());this.setCenter([r[0]+e[0],r[1]+e[1]])},t.prototype.adjustCenterInternal=function(e){var r=this.targetCenter_;this.setCenterInternal([r[0]+e[0],r[1]+e[1]])},t.prototype.adjustResolution=function(e,r){var i=r&&yn(r,this.getProjection());this.adjustResolutionInternal(e,i)},t.prototype.adjustResolutionInternal=function(e,r){var i=this.getAnimating()||this.getInteracting(),o=this.getViewportSize_(this.getRotation()),a=this.constraints_.resolution(this.targetResolution_*e,0,o,i);r&&(this.targetCenter_=this.calculateCenterZoom(a,r)),this.targetResolution_*=e,this.applyTargetState_()},t.prototype.adjustZoom=function(e,r){this.adjustResolution(Math.pow(this.zoomFactor_,-e),r)},t.prototype.adjustRotation=function(e,r){r&&(r=yn(r,this.getProjection())),this.adjustRotationInternal(e,r)},t.prototype.adjustRotationInternal=function(e,r){var i=this.getAnimating()||this.getInteracting(),o=this.constraints_.rotation(this.targetRotation_+e,i);r&&(this.targetCenter_=this.calculateCenterRotate(o,r)),this.targetRotation_+=e,this.applyTargetState_()},t.prototype.setCenter=function(e){this.setCenterInternal(yn(e,this.getProjection()))},t.prototype.setCenterInternal=function(e){this.targetCenter_=e,this.applyTargetState_()},t.prototype.setHint=function(e,r){return this.hints_[e]+=r,this.changed(),this.hints_[e]},t.prototype.setResolution=function(e){this.targetResolution_=e,this.applyTargetState_()},t.prototype.setRotation=function(e){this.targetRotation_=e,this.applyTargetState_()},t.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))},t.prototype.applyTargetState_=function(e,r){var i=this.getAnimating()||this.getInteracting()||r,o=this.constraints_.rotation(this.targetRotation_,i),a=this.getViewportSize_(o),s=this.constraints_.resolution(this.targetResolution_,0,a,i),l=this.constraints_.center(this.targetCenter_,s,a,i,this.calculateCenterShift(this.targetCenter_,s,o,a));this.get(Be.ROTATION)!==o&&this.set(Be.ROTATION,o),this.get(Be.RESOLUTION)!==s&&(this.set(Be.RESOLUTION,s),this.set("zoom",this.getZoom(),!0)),(!l||!this.get(Be.CENTER)||!Ac(this.get(Be.CENTER),l))&&this.set(Be.CENTER,l),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0},t.prototype.resolveConstraints=function(e,r,i){var o=e!==void 0?e:200,a=r||0,s=this.constraints_.rotation(this.targetRotation_),l=this.getViewportSize_(s),u=this.constraints_.resolution(this.targetResolution_,a,l),f=this.constraints_.center(this.targetCenter_,u,l,!1,this.calculateCenterShift(this.targetCenter_,u,s,l));if(o===0&&!this.cancelAnchor_){this.targetResolution_=u,this.targetRotation_=s,this.targetCenter_=f,this.applyTargetState_();return}var h=i||(o===0?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,(this.getResolution()!==u||this.getRotation()!==s||!this.getCenterInternal()||!Ac(this.getCenterInternal(),f))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:f,resolution:u,duration:o,easing:Vi,anchor:h}))},t.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(Ht.INTERACTING,1)},t.prototype.endInteraction=function(e,r,i){var o=i&&yn(i,this.getProjection());this.endInteractionInternal(e,r,o)},t.prototype.endInteractionInternal=function(e,r,i){this.setHint(Ht.INTERACTING,-1),this.resolveConstraints(e,r,i)},t.prototype.getConstrainedCenter=function(e,r){var i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,r||this.getResolution(),i)},t.prototype.getConstrainedZoom=function(e,r){var i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,r))},t.prototype.getConstrainedResolution=function(e,r){var i=r||0,o=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,i,o)},t}(Je);function Cl(n,t){setTimeout(function(){n(t)},0)}function EO(n){if(n.extent!==void 0){var t=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return f_(n.extent,n.constrainOnlyCenter,t)}var e=Nc(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&e.isGlobal()){var r=e.getExtent().slice();return r[0]=-1/0,r[2]=1/0,f_(r,!1,!1)}return pO}function wO(n){var t,e,r,i=28,o=2,a=n.minZoom!==void 0?n.minZoom:Xc,s=n.maxZoom!==void 0?n.maxZoom:i,l=n.zoomFactor!==void 0?n.zoomFactor:o,u=n.multiWorld!==void 0?n.multiWorld:!1,f=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,h=n.showFullExtent!==void 0?n.showFullExtent:!1,c=Nc(n.projection,"EPSG:3857"),v=c.getExtent(),g=n.constrainOnlyCenter,T=n.extent;if(!u&&!T&&c.isGlobal()&&(g=!1,T=v),n.resolutions!==void 0){var _=n.resolutions;e=_[a],r=_[s]!==void 0?_[s]:_[_.length-1],n.constrainResolution?t=dO(_,f,!g&&T,h):t=c_(e,r,f,!g&&T,h)}else{var y=v?Math.max(At(v),ke(v)):360*qe[Vn.DEGREES]/c.getMetersPerUnit(),m=y/zc/Math.pow(o,Xc),x=m/Math.pow(o,i-Xc);e=n.maxResolution,e!==void 0?a=0:e=m/Math.pow(l,a),r=n.minResolution,r===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?r=e/Math.pow(l,s):r=m/Math.pow(l,s):r=x),s=a+Math.floor(Math.log(e/r)/Math.log(l)),r=e/Math.pow(l,s-a),n.constrainResolution?t=vO(l,e,r,f,!g&&T,h):t=c_(e,r,f,!g&&T,h)}return{constraint:t,maxResolution:e,minResolution:r,minZoom:a,zoomFactor:l}}function xO(n){var t=n.enableRotation!==void 0?n.enableRotation:!0;if(t){var e=n.constrainRotation;return e===void 0||e===!0?yO():e===!1?h_:typeof e=="number"?gO(e):h_}else return Yc}function TO(n){return!(n.sourceCenter&&n.targetCenter&&!Ac(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function Hc(n,t,e,r,i){var o=Math.cos(-i),a=Math.sin(-i),s=n[0]*o-n[1]*a,l=n[1]*o+n[0]*a;s+=(t[0]/2-e[0])*r,l+=(e[1]-t[1]/2)*r,a=-a;var u=s*o-l*a,f=l*o+s*a;return[u,f]}var Fr=mO,SO=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}();function p_(n){if(n instanceof yl){n.setMapInternal(null);return}n instanceof xl&&n.getLayers().forEach(p_)}function d_(n,t){if(n instanceof yl){n.setMapInternal(t);return}if(n instanceof xl)for(var e=n.getLayers().getArray(),r=0,i=e.length;r<i;++r)d_(e[r],t)}var OO=function(n){SO(t,n);function t(e){var r=n.call(this)||this;r.on,r.once,r.un;var i=CO(e);r.renderComplete_,r.boundHandleBrowserEvent_=r.handleBrowserEvent.bind(r),r.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,r.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:jg,r.postRenderTimeoutHandle_,r.animationDelayKey_,r.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(r),r.coordinateToPixelTransform_=Qe(),r.pixelToCoordinateTransform_=Qe(),r.frameIndex_=0,r.frameState_=null,r.previousExtent_=null,r.viewPropertyListenerKey_=null,r.viewChangeListenerKey_=null,r.layerGroupPropertyListenerKeys_=null,r.viewport_=document.createElement("div"),r.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),r.viewport_.style.position="relative",r.viewport_.style.overflow="hidden",r.viewport_.style.width="100%",r.viewport_.style.height="100%",r.overlayContainer_=document.createElement("div"),r.overlayContainer_.style.position="absolute",r.overlayContainer_.style.zIndex="0",r.overlayContainer_.style.width="100%",r.overlayContainer_.style.height="100%",r.overlayContainer_.style.pointerEvents="none",r.overlayContainer_.className="ol-overlaycontainer",r.viewport_.appendChild(r.overlayContainer_),r.overlayContainerStopEvent_=document.createElement("div"),r.overlayContainerStopEvent_.style.position="absolute",r.overlayContainerStopEvent_.style.zIndex="0",r.overlayContainerStopEvent_.style.width="100%",r.overlayContainerStopEvent_.style.height="100%",r.overlayContainerStopEvent_.style.pointerEvents="none",r.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",r.viewport_.appendChild(r.overlayContainerStopEvent_),r.mapBrowserEventHandler_=null,r.moveTolerance_=e.moveTolerance,r.keyboardEventTarget_=i.keyboardEventTarget,r.targetChangeHandlerKeys_=null,r.controls=i.controls||new Oe,r.interactions=i.interactions||new Oe,r.overlays_=i.overlays,r.overlayIdIndex_={},r.renderer_=null,r.postRenderFunctions_=[],r.tileQueue_=new fO(r.getTilePriority.bind(r),r.handleTileChange_.bind(r)),r.addChangeListener(Zt.LAYERGROUP,r.handleLayerGroupChanged_),r.addChangeListener(Zt.VIEW,r.handleViewChanged_),r.addChangeListener(Zt.SIZE,r.handleSizeChanged_),r.addChangeListener(Zt.TARGET,r.handleTargetChanged_),r.setProperties(i.values);var o=r;return e.view&&!(e.view instanceof Fr)&&e.view.then(function(a){o.setView(new Fr(a))}),r.controls.addEventListener(ae.ADD,function(a){a.element.setMap(this)}.bind(r)),r.controls.addEventListener(ae.REMOVE,function(a){a.element.setMap(null)}.bind(r)),r.interactions.addEventListener(ae.ADD,function(a){a.element.setMap(this)}.bind(r)),r.interactions.addEventListener(ae.REMOVE,function(a){a.element.setMap(null)}.bind(r)),r.overlays_.addEventListener(ae.ADD,function(a){this.addOverlayInternal_(a.element)}.bind(r)),r.overlays_.addEventListener(ae.REMOVE,function(a){var s=a.element,l=s.getId();l!==void 0&&delete this.overlayIdIndex_[l.toString()],a.element.setMap(null)}.bind(r)),r.controls.forEach(function(a){a.setMap(this)}.bind(r)),r.interactions.forEach(function(a){a.setMap(this)}.bind(r)),r.overlays_.forEach(r.addOverlayInternal_.bind(r)),r}return t.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},t.prototype.addControl=function(e){this.getControls().push(e)},t.prototype.addInteraction=function(e){this.getInteractions().push(e)},t.prototype.addLayer=function(e){var r=this.getLayerGroup().getLayers();r.push(e)},t.prototype.handleLayerAdd_=function(e){d_(e.layer,this)},t.prototype.addOverlay=function(e){this.getOverlays().push(e)},t.prototype.addOverlayInternal_=function(e){var r=e.getId();r!==void 0&&(this.overlayIdIndex_[r.toString()]=e),e.setMap(this)},t.prototype.disposeInternal=function(){this.setTarget(null),n.prototype.disposeInternal.call(this)},t.prototype.forEachFeatureAtPixel=function(e,r,i){if(!!this.frameState_){var o=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};var a=i.hitTolerance!==void 0?i.hitTolerance:0,s=i.layerFilter!==void 0?i.layerFilter:Pi,l=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(o,this.frameState_,a,l,r,null,s,null)}},t.prototype.getFeaturesAtPixel=function(e,r){var i=[];return this.forEachFeatureAtPixel(e,function(o){i.push(o)},r),i},t.prototype.getAllLayers=function(){var e=[];function r(i){i.forEach(function(o){o instanceof xl?r(o.getLayers()):e.push(o)})}return r(this.getLayers()),e},t.prototype.forEachLayerAtPixel=function(e,r,i){if(!!this.frameState_){var o=i||{},a=o.hitTolerance!==void 0?o.hitTolerance:0,s=o.layerFilter||Pi;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,a,r,s)}},t.prototype.hasFeatureAtPixel=function(e,r){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixelInternal(e);r=r!==void 0?r:{};var o=r.layerFilter!==void 0?r.layerFilter:Pi,a=r.hitTolerance!==void 0?r.hitTolerance:0,s=r.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,a,s,o,null)},t.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},t.prototype.getEventCoordinateInternal=function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))},t.prototype.getEventPixel=function(e){var r=this.viewport_.getBoundingClientRect(),i="changedTouches"in e?e.changedTouches[0]:e;return[i.clientX-r.left,i.clientY-r.top]},t.prototype.getTarget=function(){return this.get(Zt.TARGET)},t.prototype.getTargetElement=function(){var e=this.getTarget();return e!==void 0?typeof e=="string"?document.getElementById(e):e:null},t.prototype.getCoordinateFromPixel=function(e){return Dc(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())},t.prototype.getCoordinateFromPixelInternal=function(e){var r=this.frameState_;return r?Dt(r.pixelToCoordinateTransform,e.slice()):null},t.prototype.getControls=function(){return this.controls},t.prototype.getOverlays=function(){return this.overlays_},t.prototype.getOverlayById=function(e){var r=this.overlayIdIndex_[e.toString()];return r!==void 0?r:null},t.prototype.getInteractions=function(){return this.interactions},t.prototype.getLayerGroup=function(){return this.get(Zt.LAYERGROUP)},t.prototype.setLayers=function(e){var r=this.getLayerGroup();if(e instanceof Oe){r.setLayers(e);return}var i=r.getLayers();i.clear(),i.extend(e)},t.prototype.getLayers=function(){var e=this.getLayerGroup().getLayers();return e},t.prototype.getLoading=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),r=0,i=e.length;r<i;++r){var o=e[r].layer,a=o.getSource();if(a&&a.loading)return!0}return!1},t.prototype.getPixelFromCoordinate=function(e){var r=yn(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(r)},t.prototype.getPixelFromCoordinateInternal=function(e){var r=this.frameState_;return r?Dt(r.coordinateToPixelTransform,e.slice(0,2)):null},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.getSize=function(){return this.get(Zt.SIZE)},t.prototype.getView=function(){return this.get(Zt.VIEW)},t.prototype.getViewport=function(){return this.viewport_},t.prototype.getOverlayContainer=function(){return this.overlayContainer_},t.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},t.prototype.getOwnerDocument=function(){var e=this.getTargetElement();return e?e.ownerDocument:document},t.prototype.getTilePriority=function(e,r,i,o){return cO(this.frameState_,e,r,i,o)},t.prototype.handleBrowserEvent=function(e,r){var i=r||e.type,o=new Jn(i,this,e);this.handleMapBrowserEvent(o)},t.prototype.handleMapBrowserEvent=function(e){if(!!this.frameState_){var r=e.originalEvent,i=r.type;if(i===$c.POINTERDOWN||i===tt.WHEEL||i===tt.KEYDOWN){var o=this.getOwnerDocument(),a=this.viewport_.getRootNode?this.viewport_.getRootNode():o,s=r.target;if(this.overlayContainerStopEvent_.contains(s)||!(a===o?o.documentElement:a).contains(s))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1)for(var l=this.getInteractions().getArray().slice(),u=l.length-1;u>=0;u--){var f=l[u];if(!(f.getMap()!==this||!f.getActive()||!this.getTargetElement())){var h=f.handleEvent(e);if(!h||e.propagationStopped)break}}}},t.prototype.handlePostRender=function(){var e=this.frameState_,r=this.tileQueue_;if(!r.isEmpty()){var i=this.maxTilesLoading_,o=i;if(e){var a=e.viewHints;if(a[Ht.ANIMATING]||a[Ht.INTERACTING]){var s=Date.now()-e.time>8;i=s?0:8,o=s?0:2}}r.getTilesLoading()<i&&(r.reprioritize(),r.loadMoreTiles(i,o))}e&&this.hasListener(Nr.RENDERCOMPLETE)&&!e.animate&&this.renderComplete_&&this.renderer_.dispatchRenderEvent(Nr.RENDERCOMPLETE,e);for(var l=this.postRenderFunctions_,u=0,f=l.length;u<f;++u)l[u](this,e);l.length=0},t.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},t.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var e=0,r=this.targetChangeHandlerKeys_.length;e<r;++e)wt(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(tt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(tt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,dc(this.viewport_)}var i=this.getTargetElement();if(!i)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{i.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new oO(this,this.moveTolerance_);for(var o in mt)this.mapBrowserEventHandler_.addEventListener(mt[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(tt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(tt.WHEEL,this.boundHandleBrowserEvent_,bg?{passive:!1}:!1);var a=this.getOwnerDocument().defaultView,s=this.keyboardEventTarget_?this.keyboardEventTarget_:i;this.targetChangeHandlerKeys_=[lt(s,tt.KEYDOWN,this.handleBrowserEvent,this),lt(s,tt.KEYPRESS,this.handleBrowserEvent,this),lt(a,tt.RESIZE,this.updateSize,this)]}this.updateSize()},t.prototype.handleTileChange_=function(){this.render()},t.prototype.handleViewPropertyChanged_=function(){this.render()},t.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(wt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(wt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=lt(e,Ri.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=lt(e,tt.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()},t.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(wt),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Kn("addlayer",e)),this.layerGroupPropertyListenerKeys_=[lt(e,Ri.PROPERTYCHANGE,this.render,this),lt(e,tt.CHANGE,this.render,this),lt(e,"addlayer",this.handleLayerAdd_,this),lt(e,"removelayer",this.handleLayerRemove_,this)]),this.render()},t.prototype.isRendered=function(){return!!this.frameState_},t.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},t.prototype.redrawText=function(){for(var e=this.getLayerGroup().getLayerStatesArray(),r=0,i=e.length;r<i;++r){var o=e[r].layer;o.hasRenderer()&&o.getRenderer().handleFontsChanged()}},t.prototype.render=function(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},t.prototype.removeControl=function(e){return this.getControls().remove(e)},t.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},t.prototype.removeLayer=function(e){var r=this.getLayerGroup().getLayers();return r.remove(e)},t.prototype.handleLayerRemove_=function(e){p_(e.layer)},t.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},t.prototype.renderFrame_=function(e){var r=this,i=this.getSize(),o=this.getView(),a=this.frameState_,s=null;if(i!==void 0&&Ng(i)&&o&&o.isDef()){var l=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),u=o.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Tc(u.center,u.resolution,u.rotation,i),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:u,viewHints:l,wantedTiles:{},mapId:ft(this),renderTargets:{}},u.nextCenter&&u.nextResolution){var f=isNaN(u.nextRotation)?u.rotation:u.nextRotation;s.nextExtent=Tc(u.nextCenter,u.nextResolution,f,i)}}if(this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),a){var h=!this.previousExtent_||!Sc(this.previousExtent_)&&!fa(s.extent,this.previousExtent_);h&&(this.dispatchEvent(new Tl(Sl.MOVESTART,this,a)),this.previousExtent_=sl(this.previousExtent_))}var c=this.previousExtent_&&!s.viewHints[Ht.ANIMATING]&&!s.viewHints[Ht.INTERACTING]&&!fa(s.extent,this.previousExtent_);c&&(this.dispatchEvent(new Tl(Sl.MOVEEND,this,s)),ny(s.extent,this.previousExtent_))}this.dispatchEvent(new Tl(Sl.POSTRENDER,this,s)),this.renderComplete_=!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoading(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){r.postRenderTimeoutHandle_=void 0,r.handlePostRender()},0))},t.prototype.setLayerGroup=function(e){var r=this.getLayerGroup();r&&this.handleLayerRemove_(new Kn("removelayer",r)),this.set(Zt.LAYERGROUP,e)},t.prototype.setSize=function(e){this.set(Zt.SIZE,e)},t.prototype.setTarget=function(e){this.set(Zt.TARGET,e)},t.prototype.setView=function(e){if(!e||e instanceof Fr){this.set(Zt.VIEW,e);return}this.set(Zt.VIEW,new Fr);var r=this;e.then(function(i){r.setView(new Fr(i))})},t.prototype.updateSize=function(){var e=this.getTargetElement(),r=void 0;if(e){var i=getComputedStyle(e),o=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),a=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(o)&&!isNaN(a)&&(r=[o,a],!Ng(r)&&!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(r),this.updateViewportSize_()},t.prototype.updateViewportSize_=function(){var e=this.getView();if(e){var r=void 0,i=getComputedStyle(this.viewport_);i.width&&i.height&&(r=[parseInt(i.width,10),parseInt(i.height,10)]),e.setViewportSize(r)}},t}(Je);function CO(n){var t=null;n.keyboardEventTarget!==void 0&&(t=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);var e={},r=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new xl({layers:n.layers});e[Zt.LAYERGROUP]=r,e[Zt.TARGET]=n.target,e[Zt.VIEW]=n.view instanceof Fr?n.view:new Fr;var i;n.controls!==void 0&&(Array.isArray(n.controls)?i=new Oe(n.controls.slice()):(at(typeof n.controls.getArray=="function",47),i=n.controls));var o;n.interactions!==void 0&&(Array.isArray(n.interactions)?o=new Oe(n.interactions.slice()):(at(typeof n.interactions.getArray=="function",48),o=n.interactions));var a;return n.overlays!==void 0?Array.isArray(n.overlays)?a=new Oe(n.overlays.slice()):(at(typeof n.overlays.getArray=="function",49),a=n.overlays):a=new Oe,{controls:i,interactions:o,keyboardEventTarget:t,overlays:a,values:e}}var IO=OO,RO=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),AO=function(n){RO(t,n);function t(e){var r=n.call(this)||this,i=e.element;return i&&!e.target&&!i.style.pointerEvents&&(i.style.pointerEvents="auto"),r.element=i||null,r.target_=null,r.map_=null,r.listenerKeys=[],e.render&&(r.render=e.render),e.target&&r.setTarget(e.target),r}return t.prototype.disposeInternal=function(){dc(this.element),n.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(e){this.map_&&dc(this.element);for(var r=0,i=this.listenerKeys.length;r<i;++r)wt(this.listenerKeys[r]);if(this.listenerKeys.length=0,this.map_=e,this.map_){var o=this.target_?this.target_:e.getOverlayContainerStopEvent();o.appendChild(this.element),this.render!==Sr&&this.listenerKeys.push(lt(e,Sl.POSTRENDER,this.render,this)),e.render()}},t.prototype.render=function(e){},t.prototype.setTarget=function(e){this.target_=typeof e=="string"?document.getElementById(e):e},t}(Je),Zc=AO,PO=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),LO=function(n){PO(t,n);function t(e){var r=this,i=e||{};r=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this,r.ulElement_=document.createElement("ul"),r.collapsed_=i.collapsed!==void 0?i.collapsed:!0,r.userCollapsed_=r.collapsed_,r.overrideCollapsible_=i.collapsible!==void 0,r.collapsible_=i.collapsible!==void 0?i.collapsible:!0,r.collapsible_||(r.collapsed_=!1);var o=i.className!==void 0?i.className:"ol-attribution",a=i.tipLabel!==void 0?i.tipLabel:"Attributions",s=i.expandClassName!==void 0?i.expandClassName:o+"-expand",l=i.collapseLabel!==void 0?i.collapseLabel:"\u203A",u=i.collapseClassName!==void 0?i.collapseClassName:o+"-collpase";typeof l=="string"?(r.collapseLabel_=document.createElement("span"),r.collapseLabel_.textContent=l,r.collapseLabel_.className=u):r.collapseLabel_=l;var f=i.label!==void 0?i.label:"i";typeof f=="string"?(r.label_=document.createElement("span"),r.label_.textContent=f,r.label_.className=s):r.label_=f;var h=r.collapsible_&&!r.collapsed_?r.collapseLabel_:r.label_;r.toggleButton_=document.createElement("button"),r.toggleButton_.setAttribute("type","button"),r.toggleButton_.setAttribute("aria-expanded",String(!r.collapsed_)),r.toggleButton_.title=a,r.toggleButton_.appendChild(h),r.toggleButton_.addEventListener(tt.CLICK,r.handleClick_.bind(r),!1);var c=o+" "+el+" "+yc+(r.collapsed_&&r.collapsible_?" "+Xg:"")+(r.collapsible_?"":" ol-uncollapsible"),v=r.element;return v.className=c,v.appendChild(r.toggleButton_),v.appendChild(r.ulElement_),r.renderedAttributions_=[],r.renderedVisible_=!0,r}return t.prototype.collectSourceAttributions_=function(e){for(var r={},i=[],o=!0,a=e.layerStatesArray,s=0,l=a.length;s<l;++s){var u=a[s];if(!!gl(u,e.viewState)){var f=u.layer.getSource();if(!!f){var h=f.getAttributions();if(!!h){var c=h(e);if(!!c)if(o=o&&f.getAttributionsCollapsible()!==!1,Array.isArray(c))for(var v=0,g=c.length;v<g;++v)c[v]in r||(i.push(c[v]),r[c[v]]=!0);else c in r||(i.push(c),r[c]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(o),i},t.prototype.updateElement_=function(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}var r=this.collectSourceAttributions_(e),i=r.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Tr(r,this.renderedAttributions_)){cw(this.ulElement_);for(var o=0,a=r.length;o<a;++o){var s=document.createElement("li");s.innerHTML=r[o],this.ulElement_.appendChild(s)}this.renderedAttributions_=r}},t.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},t.prototype.handleToggle_=function(){this.element.classList.toggle(Xg),this.collapsed_?Gg(this.collapseLabel_,this.label_):Gg(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},t.prototype.getCollapsible=function(){return this.collapsible_},t.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},t.prototype.setCollapsed=function(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()},t.prototype.getCollapsed=function(){return this.collapsed_},t.prototype.render=function(e){this.updateElement_(e.frameState)},t}(Zc),NO=LO,MO=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),DO=function(n){MO(t,n);function t(e){var r=this,i=e||{};r=n.call(this,{element:document.createElement("div"),render:i.render,target:i.target})||this;var o=i.className!==void 0?i.className:"ol-rotate",a=i.label!==void 0?i.label:"\u21E7",s=i.compassClassName!==void 0?i.compassClassName:"ol-compass";r.label_=null,typeof a=="string"?(r.label_=document.createElement("span"),r.label_.className=s,r.label_.textContent=a):(r.label_=a,r.label_.classList.add(s));var l=i.tipLabel?i.tipLabel:"Reset rotation",u=document.createElement("button");u.className=o+"-reset",u.setAttribute("type","button"),u.title=l,u.appendChild(r.label_),u.addEventListener(tt.CLICK,r.handleClick_.bind(r),!1);var f=o+" "+el+" "+yc,h=r.element;return h.className=f,h.appendChild(u),r.callResetNorth_=i.resetNorth?i.resetNorth:void 0,r.duration_=i.duration!==void 0?i.duration:250,r.autoHide_=i.autoHide!==void 0?i.autoHide:!0,r.rotation_=void 0,r.autoHide_&&r.element.classList.add(tl),r}return t.prototype.handleClick_=function(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()},t.prototype.resetNorth_=function(){var e=this.getMap(),r=e.getView();if(!!r){var i=r.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!=0?r.animate({rotation:0,duration:this.duration_,easing:Vi}):r.setRotation(0))}},t.prototype.render=function(e){var r=e.frameState;if(!!r){var i=r.viewState.rotation;if(i!=this.rotation_){var o="rotate("+i+"rad)";if(this.autoHide_){var a=this.element.classList.contains(tl);!a&&i===0?this.element.classList.add(tl):a&&i!==0&&this.element.classList.remove(tl)}this.label_.style.transform=o}this.rotation_=i}},t}(Zc),FO=DO,kO=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),UO=function(n){kO(t,n);function t(e){var r=this,i=e||{};r=n.call(this,{element:document.createElement("div"),target:i.target})||this;var o=i.className!==void 0?i.className:"ol-zoom",a=i.delta!==void 0?i.delta:1,s=i.zoomInClassName!==void 0?i.zoomInClassName:o+"-in",l=i.zoomOutClassName!==void 0?i.zoomOutClassName:o+"-out",u=i.zoomInLabel!==void 0?i.zoomInLabel:"+",f=i.zoomOutLabel!==void 0?i.zoomOutLabel:"\u2013",h=i.zoomInTipLabel!==void 0?i.zoomInTipLabel:"Zoom in",c=i.zoomOutTipLabel!==void 0?i.zoomOutTipLabel:"Zoom out",v=document.createElement("button");v.className=s,v.setAttribute("type","button"),v.title=h,v.appendChild(typeof u=="string"?document.createTextNode(u):u),v.addEventListener(tt.CLICK,r.handleClick_.bind(r,a),!1);var g=document.createElement("button");g.className=l,g.setAttribute("type","button"),g.title=c,g.appendChild(typeof f=="string"?document.createTextNode(f):f),g.addEventListener(tt.CLICK,r.handleClick_.bind(r,-a),!1);var T=o+" "+el+" "+yc,_=r.element;return _.className=T,_.appendChild(v),_.appendChild(g),r.duration_=i.duration!==void 0?i.duration:250,r}return t.prototype.handleClick_=function(e,r){r.preventDefault(),this.zoomByDelta_(e)},t.prototype.zoomByDelta_=function(e){var r=this.getMap(),i=r.getView();if(!!i){var o=i.getZoom();if(o!==void 0){var a=i.getConstrainedZoom(o+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:a,duration:this.duration_,easing:Vi})):i.setZoom(a)}}},t}(Zc),BO=UO;function jO(n){var t=n||{},e=new Oe,r=t.zoom!==void 0?t.zoom:!0;r&&e.push(new BO(t.zoomOptions));var i=t.rotate!==void 0?t.rotate:!0;i&&e.push(new FO(t.rotateOptions));var o=t.attribution!==void 0?t.attribution:!0;return o&&e.push(new NO(t.attributionOptions)),e}var v_={ACTIVE:"active"},bO=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),GO=function(n){bO(t,n);function t(e){var r=n.call(this)||this;return r.on,r.once,r.un,e&&e.handleEvent&&(r.handleEvent=e.handleEvent),r.map_=null,r.setActive(!0),r}return t.prototype.getActive=function(){return this.get(v_.ACTIVE)},t.prototype.getMap=function(){return this.map_},t.prototype.handleEvent=function(e){return!0},t.prototype.setActive=function(e){this.set(v_.ACTIVE,e)},t.prototype.setMap=function(e){this.map_=e},t}(Je);function $O(n,t,e){var r=n.getCenterInternal();if(r){var i=[r[0]+t[0],r[1]+t[1]];n.animateInternal({duration:e!==void 0?e:250,easing:kS,center:n.getConstrainedCenter(i)})}}function Kc(n,t,e,r){var i=n.getZoom();if(i!==void 0){var o=n.getConstrainedZoom(i+t),a=n.getResolutionForZoom(o);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:a,anchor:e,duration:r!==void 0?r:250,easing:Vi})}}var wa=GO,zO=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),WO=function(n){zO(t,n);function t(e){var r=n.call(this)||this,i=e||{};return r.delta_=i.delta?i.delta:1,r.duration_=i.duration!==void 0?i.duration:250,r}return t.prototype.handleEvent=function(e){var r=!1;if(e.type==mt.DBLCLICK){var i=e.originalEvent,o=e.map,a=e.coordinate,s=i.shiftKey?-this.delta_:this.delta_,l=o.getView();Kc(l,s,a,this.duration_),i.preventDefault(),r=!0}return!r},t}(wa),VO=WO,YO=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),XO=function(n){YO(t,n);function t(e){var r=this,i=e||{};return r=n.call(this,i)||this,i.handleDownEvent&&(r.handleDownEvent=i.handleDownEvent),i.handleDragEvent&&(r.handleDragEvent=i.handleDragEvent),i.handleMoveEvent&&(r.handleMoveEvent=i.handleMoveEvent),i.handleUpEvent&&(r.handleUpEvent=i.handleUpEvent),i.stopDown&&(r.stopDown=i.stopDown),r.handlingDownUpSequence=!1,r.trackedPointers_={},r.targetPointers=[],r}return t.prototype.getPointerCount=function(){return this.targetPointers.length},t.prototype.handleDownEvent=function(e){return!1},t.prototype.handleDragEvent=function(e){},t.prototype.handleEvent=function(e){if(!e.originalEvent)return!0;var r=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==mt.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==mt.POINTERUP){var i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==mt.POINTERDOWN){var o=this.handleDownEvent(e);this.handlingDownUpSequence=o,r=this.stopDown(o)}else e.type==mt.POINTERMOVE&&this.handleMoveEvent(e);return!r},t.prototype.handleMoveEvent=function(e){},t.prototype.handleUpEvent=function(e){return!1},t.prototype.stopDown=function(e){return e},t.prototype.updateTrackedPointers_=function(e){if(HO(e)){var r=e.originalEvent,i=r.pointerId.toString();e.type==mt.POINTERUP?delete this.trackedPointers_[i]:e.type==mt.POINTERDOWN?this.trackedPointers_[i]=r:i in this.trackedPointers_&&(this.trackedPointers_[i]=r),this.targetPointers=zg(this.trackedPointers_)}},t}(wa);function Jc(n){for(var t=n.length,e=0,r=0,i=0;i<t;i++)e+=n[i].clientX,r+=n[i].clientY;return[e/t,r/t]}function HO(n){var t=n.type;return t===mt.POINTERDOWN||t===mt.POINTERDRAG||t===mt.POINTERUP}var xa=XO;function qc(n){var t=arguments;return function(e){for(var r=!0,i=0,o=t.length;i<o&&(r=r&&t[i](e),!!r);++i);return r}}var ZO=function(n){var t=n.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},KO=function(n){var t=n.map.getTargetElement(),e=n.map.getOwnerDocument().activeElement;return t.contains(e)},g_=function(n){return n.map.getTargetElement().hasAttribute("tabindex")?KO(n):!0},JO=Pi,y_=function(n){var t=n.originalEvent;return t.button==0&&!(lw&&uw&&t.ctrlKey)},__=function(n){var t=n.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},qO=function(n){var t=n.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},m_=function(n){var t=n.originalEvent,e=t.target.tagName;return e!=="INPUT"&&e!=="SELECT"&&e!=="TEXTAREA"},Qc=function(n){var t=n.originalEvent;return at(t!==void 0,56),t.pointerType=="mouse"},QO=function(n){var t=n.originalEvent;return at(t!==void 0,56),t.isPrimary&&t.button===0},tC=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),eC=function(n){tC(t,n);function t(e){var r=n.call(this,{stopDown:Js})||this,i=e||{};r.kinetic_=i.kinetic,r.lastCentroid=null,r.lastPointersCount_,r.panning_=!1;var o=i.condition?i.condition:qc(__,QO);return r.condition_=i.onFocusOnly?qc(g_,o):o,r.noKinetic_=!1,r}return t.prototype.handleDragEvent=function(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var r=this.targetPointers,i=Jc(r);if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var o=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],a=e.map,s=a.getView();Px(o,s.getResolution()),Pc(o,s.getRotation()),s.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,e.originalEvent.preventDefault()},t.prototype.handleUpEvent=function(e){var r=e.map,i=r.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),s=i.getCenterInternal(),l=r.getPixelFromCoordinateInternal(s),u=r.getCoordinateFromPixelInternal([l[0]-o*Math.cos(a),l[1]-o*Math.sin(a)]);i.animateInternal({center:i.getConstrainedCenter(u),duration:500,easing:Vi})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}else return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var r=e.map,i=r.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}else return!1},t}(xa),nC=eC,rC=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),iC=function(n){rC(t,n);function t(e){var r=this,i=e||{};return r=n.call(this,{stopDown:Js})||this,r.condition_=i.condition?i.condition:ZO,r.lastAngle_=void 0,r.duration_=i.duration!==void 0?i.duration:250,r}return t.prototype.handleDragEvent=function(e){if(!!Qc(e)){var r=e.map,i=r.getView();if(i.getConstraints().rotation!==Yc){var o=r.getSize(),a=e.pixel,s=Math.atan2(o[1]/2-a[1],a[0]-o[0]/2);if(this.lastAngle_!==void 0){var l=s-this.lastAngle_;i.adjustRotationInternal(-l)}this.lastAngle_=s}}},t.prototype.handleUpEvent=function(e){if(!Qc(e))return!0;var r=e.map,i=r.getView();return i.endInteraction(this.duration_),!1},t.prototype.handleDownEvent=function(e){if(!Qc(e))return!1;if(y_(e)&&this.condition_(e)){var r=e.map;return r.getView().beginInteraction(),this.lastAngle_=void 0,!0}else return!1},t}(xa),oC=iC,aC=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),sC=function(n){aC(t,n);function t(e){var r=n.call(this)||this;return r.geometry_=null,r.element_=document.createElement("div"),r.element_.style.position="absolute",r.element_.style.pointerEvents="auto",r.element_.className="ol-box "+e,r.map_=null,r.startPixel_=null,r.endPixel_=null,r}return t.prototype.disposeInternal=function(){this.setMap(null)},t.prototype.render_=function(){var e=this.startPixel_,r=this.endPixel_,i="px",o=this.element_.style;o.left=Math.min(e[0],r[0])+i,o.top=Math.min(e[1],r[1])+i,o.width=Math.abs(r[0]-e[0])+i,o.height=Math.abs(r[1]-e[1])+i},t.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var r=this.element_.style;r.left="inherit",r.top="inherit",r.width="inherit",r.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},t.prototype.setPixels=function(e,r){this.startPixel_=e,this.endPixel_=r,this.createOrUpdateGeometry(),this.render_()},t.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,r=this.endPixel_,i=[e,[e[0],r[1]],r,[r[0],e[1]]],o=i.map(this.map_.getCoordinateFromPixelInternal,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new Uy([o])},t.prototype.getGeometry=function(){return this.geometry_},t}(vc),lC=sC,E_=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),Il={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},th=function(n){E_(t,n);function t(e,r,i){var o=n.call(this,e)||this;return o.coordinate=r,o.mapBrowserEvent=i,o}return t}(hn),uC=function(n){E_(t,n);function t(e){var r=n.call(this)||this;r.on,r.once,r.un;var i=e||{};return r.box_=new lC(i.className||"ol-dragbox"),r.minArea_=i.minArea!==void 0?i.minArea:64,i.onBoxEnd&&(r.onBoxEnd=i.onBoxEnd),r.startPixel_=null,r.condition_=i.condition?i.condition:y_,r.boxEndCondition_=i.boxEndCondition?i.boxEndCondition:r.defaultBoxEndCondition,r}return t.prototype.defaultBoxEndCondition=function(e,r,i){var o=i[0]-r[0],a=i[1]-r[1];return o*o+a*a>=this.minArea_},t.prototype.getGeometry=function(){return this.box_.getGeometry()},t.prototype.handleDragEvent=function(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new th(Il.BOXDRAG,e.coordinate,e))},t.prototype.handleUpEvent=function(e){this.box_.setMap(null);var r=this.boxEndCondition_(e,this.startPixel_,e.pixel);return r&&this.onBoxEnd(e),this.dispatchEvent(new th(r?Il.BOXEND:Il.BOXCANCEL,e.coordinate,e)),!1},t.prototype.handleDownEvent=function(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new th(Il.BOXSTART,e.coordinate,e)),!0):!1},t.prototype.onBoxEnd=function(e){},t}(xa),fC=uC,cC=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hC=function(n){cC(t,n);function t(e){var r=this,i=e||{},o=i.condition?i.condition:qO;return r=n.call(this,{condition:o,className:i.className||"ol-dragzoom",minArea:i.minArea})||this,r.duration_=i.duration!==void 0?i.duration:200,r.out_=i.out!==void 0?i.out:!1,r}return t.prototype.onBoxEnd=function(e){var r=this.getMap(),i=r.getView(),o=this.getGeometry();if(this.out_){var a=i.rotatedExtentForGeometry(o),s=i.getResolutionForExtentInternal(a),l=i.getResolution()/s;o=o.clone(),o.scale(l*l)}i.fitInternal(o,{duration:this.duration_,easing:Vi})},t}(fC),pC=hC,kr={LEFT:37,UP:38,RIGHT:39,DOWN:40},dC=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),vC=function(n){dC(t,n);function t(e){var r=n.call(this)||this,i=e||{};return r.defaultCondition_=function(o){return __(o)&&m_(o)},r.condition_=i.condition!==void 0?i.condition:r.defaultCondition_,r.duration_=i.duration!==void 0?i.duration:100,r.pixelDelta_=i.pixelDelta!==void 0?i.pixelDelta:128,r}return t.prototype.handleEvent=function(e){var r=!1;if(e.type==tt.KEYDOWN){var i=e.originalEvent,o=i.keyCode;if(this.condition_(e)&&(o==kr.DOWN||o==kr.LEFT||o==kr.RIGHT||o==kr.UP)){var a=e.map,s=a.getView(),l=s.getResolution()*this.pixelDelta_,u=0,f=0;o==kr.DOWN?f=-l:o==kr.LEFT?u=-l:o==kr.RIGHT?u=l:f=l;var h=[u,f];Pc(h,s.getRotation()),$O(s,h,this.duration_),i.preventDefault(),r=!0}}return!r},t}(wa),gC=vC,yC=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),_C=function(n){yC(t,n);function t(e){var r=n.call(this)||this,i=e||{};return r.condition_=i.condition?i.condition:m_,r.delta_=i.delta?i.delta:1,r.duration_=i.duration!==void 0?i.duration:100,r}return t.prototype.handleEvent=function(e){var r=!1;if(e.type==tt.KEYDOWN||e.type==tt.KEYPRESS){var i=e.originalEvent,o=i.charCode;if(this.condition_(e)&&(o=="+".charCodeAt(0)||o=="-".charCodeAt(0))){var a=e.map,s=o=="+".charCodeAt(0)?this.delta_:-this.delta_,l=a.getView();Kc(l,s,void 0,this.duration_),i.preventDefault(),r=!0}}return!r},t}(wa),mC=_C,EC=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),eh={TRACKPAD:"trackpad",WHEEL:"wheel"},wC=function(n){EC(t,n);function t(e){var r=this,i=e||{};r=n.call(this,i)||this,r.totalDelta_=0,r.lastDelta_=0,r.maxDelta_=i.maxDelta!==void 0?i.maxDelta:1,r.duration_=i.duration!==void 0?i.duration:250,r.timeout_=i.timeout!==void 0?i.timeout:80,r.useAnchor_=i.useAnchor!==void 0?i.useAnchor:!0,r.constrainResolution_=i.constrainResolution!==void 0?i.constrainResolution:!1;var o=i.condition?i.condition:JO;return r.condition_=i.onFocusOnly?qc(g_,o):o,r.lastAnchor_=null,r.startTime_=void 0,r.timeoutId_,r.mode_=void 0,r.trackpadEventGap_=400,r.trackpadTimeoutId_,r.deltaPerZoom_=300,r}return t.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var e=this.getMap().getView();e.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},t.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;var r=e.type;if(r!==tt.WHEEL)return!0;var i=e.map,o=e.originalEvent;o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);var a;if(e.type==tt.WHEEL&&(a=o.deltaY,sw&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(a/=jg),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(a*=40)),a===0)return!1;this.lastDelta_=a;var s=Date.now();this.startTime_===void 0&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(a)<4?eh.TRACKPAD:eh.WHEEL);var l=i.getView();if(this.mode_===eh.TRACKPAD&&!(l.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(l.getAnimating()&&l.cancelAnimations(),l.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),l.adjustZoom(-a/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1;this.totalDelta_+=a;var u=Math.max(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),u),!1},t.prototype.handleWheelZoom_=function(e){var r=e.getView();r.getAnimating()&&r.cancelAnimations();var i=-Nt(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(r.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Kc(r,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},t.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},t}(wa),xC=wC,TC=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),SC=function(n){TC(t,n);function t(e){var r=this,i=e||{},o=i;return o.stopDown||(o.stopDown=Js),r=n.call(this,o)||this,r.anchor_=null,r.lastAngle_=void 0,r.rotating_=!1,r.rotationDelta_=0,r.threshold_=i.threshold!==void 0?i.threshold:.3,r.duration_=i.duration!==void 0?i.duration:250,r}return t.prototype.handleDragEvent=function(e){var r=0,i=this.targetPointers[0],o=this.targetPointers[1],a=Math.atan2(o.clientY-i.clientY,o.clientX-i.clientX);if(this.lastAngle_!==void 0){var s=a-this.lastAngle_;this.rotationDelta_+=s,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),r=s}this.lastAngle_=a;var l=e.map,u=l.getView();if(u.getConstraints().rotation!==Yc){var f=l.getViewport().getBoundingClientRect(),h=Jc(this.targetPointers);h[0]-=f.left,h[1]-=f.top,this.anchor_=l.getCoordinateFromPixelInternal(h),this.rotating_&&(l.render(),u.adjustRotationInternal(r,this.anchor_))}},t.prototype.handleUpEvent=function(e){if(this.targetPointers.length<2){var r=e.map,i=r.getView();return i.endInteraction(this.duration_),!1}else return!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var r=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},t}(xa),OC=SC,CC=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),IC=function(n){CC(t,n);function t(e){var r=this,i=e||{},o=i;return o.stopDown||(o.stopDown=Js),r=n.call(this,o)||this,r.anchor_=null,r.duration_=i.duration!==void 0?i.duration:400,r.lastDistance_=void 0,r.lastScaleDelta_=1,r}return t.prototype.handleDragEvent=function(e){var r=1,i=this.targetPointers[0],o=this.targetPointers[1],a=i.clientX-o.clientX,s=i.clientY-o.clientY,l=Math.sqrt(a*a+s*s);this.lastDistance_!==void 0&&(r=this.lastDistance_/l),this.lastDistance_=l;var u=e.map,f=u.getView();r!=1&&(this.lastScaleDelta_=r);var h=u.getViewport().getBoundingClientRect(),c=Jc(this.targetPointers);c[0]-=h.left,c[1]-=h.top,this.anchor_=u.getCoordinateFromPixelInternal(c),u.render(),f.adjustResolutionInternal(r,this.anchor_)},t.prototype.handleUpEvent=function(e){if(this.targetPointers.length<2){var r=e.map,i=r.getView(),o=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,o),!1}else return!0},t.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var r=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||r.getView().beginInteraction(),!0}else return!1},t}(xa),RC=IC;function AC(n){var t=n||{},e=new Oe,r=new WS(-.005,.05,100),i=t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0;i&&e.push(new oC);var o=t.doubleClickZoom!==void 0?t.doubleClickZoom:!0;o&&e.push(new VO({delta:t.zoomDelta,duration:t.zoomDuration}));var a=t.dragPan!==void 0?t.dragPan:!0;a&&e.push(new nC({onFocusOnly:t.onFocusOnly,kinetic:r}));var s=t.pinchRotate!==void 0?t.pinchRotate:!0;s&&e.push(new OC);var l=t.pinchZoom!==void 0?t.pinchZoom:!0;l&&e.push(new RC({duration:t.zoomDuration}));var u=t.keyboard!==void 0?t.keyboard:!0;u&&(e.push(new gC),e.push(new mC({delta:t.zoomDelta,duration:t.zoomDuration})));var f=t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0;f&&e.push(new xC({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration}));var h=t.shiftDragZoom!==void 0?t.shiftDragZoom:!0;return h&&e.push(new pC({duration:t.zoomDuration})),e}var PC=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),LC=function(n){PC(t,n);function t(e){var r=this;return e=zt({},e),e.controls||(e.controls=jO()),e.interactions||(e.interactions=AC({onFocusOnly:!0})),r=n.call(this,e)||this,r}return t.prototype.createRenderer=function(){return new JS(this)},t}(IO),FI=LC,NC=function(){function n(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return n.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},n.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},n.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},n.prototype.forEach=function(t){for(var e=this.oldest_;e;)t(e.value_,e.key_,this),e=e.newer},n.prototype.get=function(t,e){var r=this.entries_[t];return at(r!==void 0,15),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_},n.prototype.remove=function(t){var e=this.entries_[t];return at(e!==void 0,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},n.prototype.getCount=function(){return this.count_},n.prototype.getKeys=function(){var t=new Array(this.count_),e=0,r;for(r=this.newest_;r;r=r.older)t[e++]=r.key_;return t},n.prototype.getValues=function(){var t=new Array(this.count_),e=0,r;for(r=this.newest_;r;r=r.older)t[e++]=r.value_;return t},n.prototype.peekLast=function(){return this.oldest_.value_},n.prototype.peekLastKey=function(){return this.oldest_.key_},n.prototype.peekFirstKey=function(){return this.newest_.key_},n.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},n.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},n.prototype.set=function(t,e){at(!(t in this.entries_),16);var r={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[t]=r,++this.count_},n.prototype.setSize=function(t){this.highWaterMark=t},n}(),MC=NC;function w_(n,t,e,r){return r!==void 0?(r[0]=n,r[1]=t,r[2]=e,r):[n,t,e]}function Rl(n,t,e){return n+"/"+t+"/"+e}function x_(n){return Rl(n[0],n[1],n[2])}function DC(n){return n.split("/").map(Number)}function FC(n){return(n[1]<<n[0])+n[2]}function kC(n,t){var e=n[0],r=n[1],i=n[2];if(t.getMinZoom()>e||e>t.getMaxZoom())return!1;var o=t.getFullTileRange(e);return o?o.containsXY(r,i):!0}var UC=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),BC=function(n){UC(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.expireCache=function(e){for(;this.canExpireCache();){var r=this.peekLast();if(r.getKey()in e)break;this.pop().release()}},t.prototype.pruneExceptNewestZ=function(){if(this.getCount()!==0){var e=this.peekFirstKey(),r=DC(e),i=r[0];this.forEach(function(o){o.tileCoord[0]!==i&&(this.remove(x_(o.tileCoord)),o.release())}.bind(this))}},t}(MC),T_=BC,S_=function(){function n(t,e,r,i){this.minX=t,this.maxX=e,this.minY=r,this.maxY=i}return n.prototype.contains=function(t){return this.containsXY(t[1],t[2])},n.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},n.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},n.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},n.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},n.prototype.getHeight=function(){return this.maxY-this.minY+1},n.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},n.prototype.getWidth=function(){return this.maxX-this.minX+1},n.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},n}();function Yi(n,t,e,r,i){return i!==void 0?(i.minX=n,i.maxX=t,i.minY=e,i.maxY=r,i):new S_(n,t,e,r)}var O_=S_,jC=.5,En=!0,bC=10,C_=.25,GC=function(){function n(t,e,r,i,o,a){this.sourceProj_=t,this.targetProj_=e;var s={},l=dl(this.targetProj_,this.sourceProj_);this.transformInv_=function(x){var E=x[0]+"/"+x[1];return s[E]||(s[E]=l(x)),s[E]},this.maxSourceExtent_=i,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&At(i)==At(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?At(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?At(this.targetProj_.getExtent()):null;var u=Cr(r),f=fl(r),h=ul(r),c=ll(r),v=this.transformInv_(u),g=this.transformInv_(f),T=this.transformInv_(h),_=this.transformInv_(c),y=bC+(a?Math.max(0,Math.ceil(Q1(xc(r)/(a*a*256*256)))):0);if(this.addQuad_(u,f,h,c,v,g,T,_,y),this.wrapsXInSource_){var m=1/0;this.triangles_.forEach(function(x,E,C){m=Math.min(m,x.source[0][0],x.source[1][0],x.source[2][0])}),this.triangles_.forEach(function(x){if(Math.max(x.source[0][0],x.source[1][0],x.source[2][0])-m>this.sourceWorldWidth_/2){var E=[[x.source[0][0],x.source[0][1]],[x.source[1][0],x.source[1][1]],[x.source[2][0],x.source[2][1]]];E[0][0]-m>this.sourceWorldWidth_/2&&(E[0][0]-=this.sourceWorldWidth_),E[1][0]-m>this.sourceWorldWidth_/2&&(E[1][0]-=this.sourceWorldWidth_),E[2][0]-m>this.sourceWorldWidth_/2&&(E[2][0]-=this.sourceWorldWidth_);var C=Math.min(E[0][0],E[1][0],E[2][0]),I=Math.max(E[0][0],E[1][0],E[2][0]);I-C<this.sourceWorldWidth_/2&&(x.source=E)}}.bind(this))}s={}}return n.prototype.addTriangle_=function(t,e,r,i,o,a){this.triangles_.push({source:[i,o,a],target:[t,e,r]})},n.prototype.addQuad_=function(t,e,r,i,o,a,s,l,u){var f=ey([o,a,s,l]),h=this.sourceWorldWidth_?At(f)/this.sourceWorldWidth_:null,c=this.sourceWorldWidth_,v=this.sourceProj_.canWrapX()&&h>.5&&h<1,g=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var T=ey([t,e,r,i]),_=At(T)/this.targetWorldWidth_;g=_>C_||g}!v&&this.sourceProj_.isGlobal()&&h&&(g=h>C_||g)}if(!(!g&&this.maxSourceExtent_&&isFinite(f[0])&&isFinite(f[1])&&isFinite(f[2])&&isFinite(f[3])&&!ce(f,this.maxSourceExtent_))){var y=0;if(!g&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(l[0])||!isFinite(l[1]))){if(u>0)g=!0;else if(y=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(a[0])||!isFinite(a[1])?4:0)+(!isFinite(s[0])||!isFinite(s[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),y!=1&&y!=2&&y!=4&&y!=8)return}if(u>0){if(!g){var m=[(t[0]+r[0])/2,(t[1]+r[1])/2],x=this.transformInv_(m),E=void 0;if(v){var C=(Ci(o[0],c)+Ci(s[0],c))/2;E=C-Ci(x[0],c)}else E=(o[0]+s[0])/2-x[0];var I=(o[1]+s[1])/2-x[1],A=E*E+I*I;g=A>this.errorThresholdSquared_}if(g){if(Math.abs(t[0]-r[0])<=Math.abs(t[1]-r[1])){var L=[(e[0]+r[0])/2,(e[1]+r[1])/2],P=this.transformInv_(L),U=[(i[0]+t[0])/2,(i[1]+t[1])/2],$=this.transformInv_(U);this.addQuad_(t,e,L,U,o,a,P,$,u-1),this.addQuad_(U,L,r,i,$,P,s,l,u-1)}else{var B=[(t[0]+e[0])/2,(t[1]+e[1])/2],b=this.transformInv_(B),K=[(r[0]+i[0])/2,(r[1]+i[1])/2],V=this.transformInv_(K);this.addQuad_(t,B,K,i,o,b,V,l,u-1),this.addQuad_(B,e,r,K,b,a,s,V,u-1)}return}}if(v){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(y&11)==0&&this.addTriangle_(t,r,i,o,s,l),(y&14)==0&&this.addTriangle_(t,r,e,o,s,a),y&&((y&13)==0&&this.addTriangle_(e,i,t,a,l,o),(y&7)==0&&this.addTriangle_(e,i,r,a,l,s))}},n.prototype.calculateSourceExtent=function(){var t=Fe();return this.triangles_.forEach(function(e,r,i){var o=e.source;ca(t,o[0]),ca(t,o[1]),ca(t,o[2])}),t},n.prototype.getTriangles=function(){return this.triangles_},n}(),$C=GC,nh={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1},rh;function I_(n,t,e,r,i){n.beginPath(),n.moveTo(0,0),n.lineTo(t,e),n.lineTo(r,i),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(t,r)+1,Math.max(e,i)),n.restore()}function ih(n,t){return Math.abs(n[t*4]-210)>2||Math.abs(n[t*4+3]-.75*255)>2}function zC(){if(rh===void 0){var n=document.createElement("canvas").getContext("2d");n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",I_(n,4,5,4,0),I_(n,4,5,0,5);var t=n.getImageData(0,0,3,3).data;rh=ih(t,0)||ih(t,4)||ih(t,8)}return rh}function R_(n,t,e,r){var i=Fx(e,t,n),o=Ey(t,r,e),a=t.getMetersPerUnit();a!==void 0&&(o*=a);var s=n.getMetersPerUnit();s!==void 0&&(o/=s);var l=n.getExtent();if(!l||al(l,i)){var u=Ey(n,o,i)/o;isFinite(u)&&u>0&&(o/=u)}return o}function WC(n,t,e,r){var i=Fi(e),o=R_(n,t,i,r);return(!isFinite(o)||o<=0)&&ay(e,function(a){return o=R_(n,t,a,r),isFinite(o)&&o>0}),o}function VC(n,t,e,r,i,o,a,s,l,u,f,h){var c=Te(Math.round(e*n),Math.round(e*t));if(h||zt(c,nh),l.length===0)return c.canvas;c.scale(e,e);function v(E){return Math.round(E*e)/e}c.globalCompositeOperation="lighter";var g=Fe();l.forEach(function(E,C,I){Ww(g,E.extent)});var T=At(g),_=ke(g),y=Te(Math.round(e*T/r),Math.round(e*_/r));h||zt(y,nh);var m=e/r;l.forEach(function(E,C,I){var A=E.extent[0]-g[0],L=-(E.extent[3]-g[3]),P=At(E.extent),U=ke(E.extent);E.image.width>0&&E.image.height>0&&y.drawImage(E.image,u,u,E.image.width-2*u,E.image.height-2*u,A*m,L*m,P*m,U*m)});var x=Cr(a);return s.getTriangles().forEach(function(E,C,I){var A=E.source,L=E.target,P=A[0][0],U=A[0][1],$=A[1][0],B=A[1][1],b=A[2][0],K=A[2][1],V=v((L[0][0]-x[0])/o),Y=v(-(L[0][1]-x[1])/o),k=v((L[1][0]-x[0])/o),J=v(-(L[1][1]-x[1])/o),j=v((L[2][0]-x[0])/o),G=v(-(L[2][1]-x[1])/o),N=P,R=U;P=0,U=0,$-=N,B-=R,b-=N,K-=R;var X=[[$,B,0,0,k-V],[b,K,0,0,j-V],[0,0,$,B,J-Y],[0,0,b,K,G-Y]],W=ew(X);if(!!W){if(c.save(),c.beginPath(),zC()||!h){c.moveTo(k,J);for(var rt=4,xt=V-k,gt=Y-J,St=0;St<rt;St++)c.lineTo(k+v((St+1)*xt/rt),J+v(St*gt/(rt-1))),St!=rt-1&&c.lineTo(k+v((St+1)*xt/rt),J+v((St+1)*gt/(rt-1)));c.lineTo(j,G)}else c.moveTo(k,J),c.lineTo(V,Y),c.lineTo(j,G);c.clip(),c.transform(W[0],W[2],W[1],W[3],V,Y),c.translate(g[0]-N,g[3]-R),c.scale(r/e,-r/e),c.drawImage(y.canvas,0,0),c.restore()}}),f&&(c.save(),c.globalCompositeOperation="source-over",c.strokeStyle="black",c.lineWidth=1,s.getTriangles().forEach(function(E,C,I){var A=E.target,L=(A[0][0]-x[0])/o,P=-(A[0][1]-x[1])/o,U=(A[1][0]-x[0])/o,$=-(A[1][1]-x[1])/o,B=(A[2][0]-x[0])/o,b=-(A[2][1]-x[1])/o;c.beginPath(),c.moveTo(U,$),c.lineTo(L,P),c.lineTo(B,b),c.closePath(),c.stroke()}),c.restore()),c.canvas}var YC=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),XC=function(n){YC(t,n);function t(e,r,i,o,a,s,l,u,f,h,c,v){var g=n.call(this,a,q.IDLE,{interpolate:!!v})||this;g.renderEdges_=c!==void 0?c:!1,g.pixelRatio_=l,g.gutter_=u,g.canvas_=null,g.sourceTileGrid_=r,g.targetTileGrid_=o,g.wrappedTileCoord_=s||a,g.sourceTiles_=[],g.sourcesListenerKeys_=null,g.sourceZ_=0;var T=o.getTileCoordExtent(g.wrappedTileCoord_),_=g.targetTileGrid_.getExtent(),y=g.sourceTileGrid_.getExtent(),m=_?ha(T,_):T;if(xc(m)===0)return g.state=q.EMPTY,g;var x=e.getExtent();x&&(y?y=ha(y,x):y=x);var E=o.getResolution(g.wrappedTileCoord_[0]),C=WC(e,i,m,E);if(!isFinite(C)||C<=0)return g.state=q.EMPTY,g;var I=h!==void 0?h:jC;if(g.triangulation_=new $C(e,i,m,y,C*I,E),g.triangulation_.getTriangles().length===0)return g.state=q.EMPTY,g;g.sourceZ_=r.getZForResolution(C);var A=g.triangulation_.calculateSourceExtent();if(y&&(e.canWrapX()?(A[1]=Nt(A[1],y[1],y[3]),A[3]=Nt(A[3],y[1],y[3])):A=ha(A,y)),!xc(A))g.state=q.EMPTY;else{for(var L=r.getTileRangeForExtentAndZ(A,g.sourceZ_),P=L.minX;P<=L.maxX;P++)for(var U=L.minY;U<=L.maxY;U++){var $=f(g.sourceZ_,P,U,l);$&&g.sourceTiles_.push($)}g.sourceTiles_.length===0&&(g.state=q.EMPTY)}return g}return t.prototype.getImage=function(){return this.canvas_},t.prototype.reproject_=function(){var e=[];if(this.sourceTiles_.forEach(function(f,h,c){f&&f.getState()==q.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(f.tileCoord),image:f.getImage()})}.bind(this)),this.sourceTiles_.length=0,e.length===0)this.state=q.ERROR;else{var r=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(r),o=typeof i=="number"?i:i[0],a=typeof i=="number"?i:i[1],s=this.targetTileGrid_.getResolution(r),l=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=VC(o,a,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),s,u,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=q.LOADED}this.changed()},t.prototype.load=function(){if(this.state==q.IDLE){this.state=q.LOADING,this.changed();var e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(r,i,o){var a=r.getState();if(a==q.IDLE||a==q.LOADING){e++;var s=lt(r,tt.CHANGE,function(l){var u=r.getState();(u==q.LOADED||u==q.ERROR||u==q.EMPTY)&&(wt(s),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}.bind(this)),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(r,i,o){var a=r.getState();a==q.IDLE&&r.load()})}},t.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(wt),this.sourcesListenerKeys_=null},t}(l_),HC=XC,oh={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},ZC=[0,0,0],qn=5,KC=function(){function n(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,at(gw(this.resolutions_,function(a,s){return s-a},!0),17);var e;if(!t.origins){for(var r=0,i=this.resolutions_.length-1;r<i;++r)if(!e)e=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==e){e=void 0;break}}this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,at(this.origins_.length==this.resolutions_.length,20));var o=t.extent;o!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Cr(o)),at(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,at(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:zc,at(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=o!==void 0?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map(function(a,s){var l=new O_(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1));if(o){var u=this.getTileRangeForExtentAndZ(o,s);l.minX=Math.max(u.minX,l.minX),l.maxX=Math.min(u.maxX,l.maxX),l.minY=Math.max(u.minY,l.minY),l.maxY=Math.min(u.maxY,l.maxY)}return l},this):o&&this.calculateTileRanges_(o)}return n.prototype.forEachTileCoord=function(t,e,r){for(var i=this.getTileRangeForExtentAndZ(t,e),o=i.minX,a=i.maxX;o<=a;++o)for(var s=i.minY,l=i.maxY;s<=l;++s)r([e,o,s])},n.prototype.forEachTileCoordParentTileRange=function(t,e,r,i){var o,a,s,l=null,u=t[0]-1;for(this.zoomFactor_===2?(a=t[1],s=t[2]):l=this.getTileCoordExtent(t,i);u>=this.minZoom;){if(this.zoomFactor_===2?(a=Math.floor(a/2),s=Math.floor(s/2),o=Yi(a,a,s,s,r)):o=this.getTileRangeForExtentAndZ(l,u,r),e(u,o))return!0;--u}return!1},n.prototype.getExtent=function(){return this.extent_},n.prototype.getMaxZoom=function(){return this.maxZoom},n.prototype.getMinZoom=function(){return this.minZoom},n.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},n.prototype.getResolution=function(t){return this.resolutions_[t]},n.prototype.getResolutions=function(){return this.resolutions_},n.prototype.getTileCoordChildTileRange=function(t,e,r){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){var i=t[1]*2,o=t[2]*2;return Yi(i,i+1,o,o+1,e)}var a=this.getTileCoordExtent(t,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t[0]+1,e)}return null},n.prototype.getTileRangeForTileCoordAndZ=function(t,e,r){if(e>this.maxZoom||e<this.minZoom)return null;var i=t[0],o=t[1],a=t[2];if(e===i)return Yi(o,a,o,a,r);if(this.zoomFactor_){var s=Math.pow(this.zoomFactor_,e-i),l=Math.floor(o*s),u=Math.floor(a*s);if(e<i)return Yi(l,l,u,u,r);var f=Math.floor(s*(o+1))-1,h=Math.floor(s*(a+1))-1;return Yi(l,f,u,h,r)}var c=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(c,e,r)},n.prototype.getTileRangeExtent=function(t,e,r){var i=this.getOrigin(t),o=this.getResolution(t),a=Ze(this.getTileSize(t),this.tmpSize_),s=i[0]+e.minX*a[0]*o,l=i[0]+(e.maxX+1)*a[0]*o,u=i[1]+e.minY*a[1]*o,f=i[1]+(e.maxY+1)*a[1]*o;return vn(s,u,l,f,r)},n.prototype.getTileRangeForExtentAndZ=function(t,e,r){var i=ZC;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,i);var o=i[1],a=i[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,i),Yi(o,i[1],a,i[2],r)},n.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),r=this.getResolution(t[0]),i=Ze(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*r,e[1]-(t[2]+.5)*i[1]*r]},n.prototype.getTileCoordExtent=function(t,e){var r=this.getOrigin(t[0]),i=this.getResolution(t[0]),o=Ze(this.getTileSize(t[0]),this.tmpSize_),a=r[0]+t[1]*o[0]*i,s=r[1]-(t[2]+1)*o[1]*i,l=a+o[0]*i,u=s+o[1]*i;return vn(a,s,l,u,e)},n.prototype.getTileCoordForCoordAndResolution=function(t,e,r){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,r)},n.prototype.getTileCoordForXYAndResolution_=function(t,e,r,i,o){var a=this.getZForResolution(r),s=r/this.getResolution(a),l=this.getOrigin(a),u=Ze(this.getTileSize(a),this.tmpSize_),f=s*(t-l[0])/r/u[0],h=s*(l[1]-e)/r/u[1];return i?(f=Hs(f,qn)-1,h=Hs(h,qn)-1):(f=Xs(f,qn),h=Xs(h,qn)),w_(a,f,h,o)},n.prototype.getTileCoordForXYAndZ_=function(t,e,r,i,o){var a=this.getOrigin(r),s=this.getResolution(r),l=Ze(this.getTileSize(r),this.tmpSize_),u=(t-a[0])/s/l[0],f=(a[1]-e)/s/l[1];return i?(u=Hs(u,qn)-1,f=Hs(f,qn)-1):(u=Xs(u,qn),f=Xs(f,qn)),w_(r,u,f,o)},n.prototype.getTileCoordForCoordAndZ=function(t,e,r){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,r)},n.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},n.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},n.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},n.prototype.getZForResolution=function(t,e){var r=gc(this.resolutions_,t,e||0);return Nt(r,this.minZoom,this.maxZoom)},n.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,r=new Array(e),i=this.minZoom;i<e;++i)r[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=r},n}(),A_=KC;function P_(n){var t=n.getDefaultTileGrid();return t||(t=tI(n),n.setDefaultTileGrid(t)),t}function JC(n,t,e){var r=t[0],i=n.getTileCoordCenter(t),o=ah(e);if(al(o,i))return t;var a=At(o),s=Math.ceil((o[0]-i[0])/a);return i[0]+=a*s,n.getTileCoordForCoordAndZ(i,r)}function qC(n,t,e,r){var i=r!==void 0?r:ua.TOP_LEFT,o=L_(n,t,e);return new A_({extent:n,origin:Yw(n,i),resolutions:o,tileSize:e})}function QC(n){var t=n||{},e=t.extent||Ue("EPSG:3857").getExtent(),r={extent:e,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:L_(e,t.maxZoom,t.tileSize,t.maxResolution)};return new A_(r)}function L_(n,t,e,r){for(var i=t!==void 0?t:hO,o=ke(n),a=At(n),s=Ze(e!==void 0?e:zc),l=r>0?r:Math.max(a/s[0],o/s[1]),u=i+1,f=new Array(u),h=0;h<u;++h)f[h]=l/Math.pow(2,h);return f}function tI(n,t,e,r){var i=ah(n);return qC(i,t,e,r)}function ah(n){n=Ue(n);var t=n.getExtent();if(!t){var e=180*qe[Vn.DEGREES]/n.getMetersPerUnit();t=vn(-e,-e,e,e)}return t}var N_=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),eI=function(n){N_(t,n);function t(e){var r=n.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate})||this;r.on,r.once,r.un,r.opaque_=e.opaque!==void 0?e.opaque:!1,r.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,r.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;var i=[256,256],o=e.tileGrid;return o&&Ze(o.getTileSize(o.getMinZoom()),i),r.tileCache=new T_(e.cacheSize||0),r.tmpSize=[0,0],r.key_=e.key||"",r.tileOptions={transition:e.transition,interpolate:e.interpolate},r.zDirection=e.zDirection?e.zDirection:0,r}return t.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},t.prototype.expireCache=function(e,r){var i=this.getTileCacheForProjection(e);i&&i.expireCache(r)},t.prototype.forEachLoadedTile=function(e,r,i,o){var a=this.getTileCacheForProjection(e);if(!a)return!1;for(var s=!0,l,u,f,h=i.minX;h<=i.maxX;++h)for(var c=i.minY;c<=i.maxY;++c)u=Rl(r,h,c),f=!1,a.containsKey(u)&&(l=a.get(u),f=l.getState()===q.LOADED,f&&(f=o(l)!==!1)),f||(s=!1);return s},t.prototype.getGutterForProjection=function(e){return 0},t.prototype.getKey=function(){return this.key_},t.prototype.setKey=function(e){this.key_!==e&&(this.key_=e,this.changed())},t.prototype.getOpaque=function(e){return this.opaque_},t.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},t.prototype.getTile=function(e,r,i,o,a){return ot()},t.prototype.getTileGrid=function(){return this.tileGrid},t.prototype.getTileGridForProjection=function(e){return this.tileGrid?this.tileGrid:P_(e)},t.prototype.getTileCacheForProjection=function(e){return at(bi(this.getProjection(),e),68),this.tileCache},t.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_},t.prototype.getTilePixelSize=function(e,r,i){var o=this.getTileGridForProjection(i),a=this.getTilePixelRatio(r),s=Ze(o.getTileSize(e),this.tmpSize);return a==1?s:H1(s,a,this.tmpSize)},t.prototype.getTileCoordForTileUrlFunction=function(e,r){var i=r!==void 0?r:this.getProjection(),o=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=JC(o,e,i)),kC(e,o)?e:null},t.prototype.clear=function(){this.tileCache.clear()},t.prototype.refresh=function(){this.clear(),n.prototype.refresh.call(this)},t.prototype.updateCacheSize=function(e,r){var i=this.getTileCacheForProjection(r);e>i.highWaterMark&&(i.highWaterMark=e)},t.prototype.useTile=function(e,r,i,o){},t}(i_),nI=function(n){N_(t,n);function t(e,r){var i=n.call(this,e)||this;return i.tile=r,i}return t}(hn),rI=eI;function iI(n,t){var e=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,o=/\{-y\}/g;return function(a,s,l){if(a)return n.replace(e,a[0].toString()).replace(r,a[1].toString()).replace(i,a[2].toString()).replace(o,function(){var u=a[0],f=t.getFullTileRange(u);at(f,55);var h=f.getHeight()-a[2]-1;return h.toString()})}}function oI(n,t){for(var e=n.length,r=new Array(e),i=0;i<e;++i)r[i]=iI(n[i],t);return aI(r)}function aI(n){return n.length===1?n[0]:function(t,e,r){if(t){var i=FC(t),o=Ci(i,n.length);return n[o](t,e,r)}else return}}function sI(n){var t=[],e=/\{([a-z])-([a-z])\}/.exec(n);if(e){var r=e[1].charCodeAt(0),i=e[2].charCodeAt(0),o=void 0;for(o=r;o<=i;++o)t.push(n.replace(e[0],String.fromCharCode(o)));return t}if(e=/\{(\d+)-(\d+)\}/.exec(n),e){for(var a=parseInt(e[2],10),s=parseInt(e[1],10);s<=a;s++)t.push(n.replace(e[0],s.toString()));return t}return t.push(n),t}var lI=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),uI=function(n){lI(t,n);function t(e){var r=n.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===t.prototype.tileUrlFunction,r.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(r.tileUrlFunction=e.tileUrlFunction),r.urls=null,e.urls?r.setUrls(e.urls):e.url&&r.setUrl(e.url),r.tileLoadingKeys_={},r}return t.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},t.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},t.prototype.getUrls=function(){return this.urls},t.prototype.handleTileChange=function(e){var r=e.target,i=ft(r),o=r.getState(),a;o==q.LOADING?(this.tileLoadingKeys_[i]=!0,a=oh.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],a=o==q.ERROR?oh.TILELOADERROR:o==q.LOADED?oh.TILELOADEND:void 0),a!=null&&this.dispatchEvent(new nI(a,r))},t.prototype.setTileLoadFunction=function(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()},t.prototype.setTileUrlFunction=function(e,r){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof r!="undefined"?this.setKey(r):this.changed()},t.prototype.setUrl=function(e){var r=sI(e);this.urls=r,this.setUrls(r)},t.prototype.setUrls=function(e){this.urls=e;var r=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(oI(e,this.tileGrid),r):this.setKey(r)},t.prototype.tileUrlFunction=function(e,r,i){},t.prototype.useTile=function(e,r,i){var o=Rl(e,r,i);this.tileCache.containsKey(o)&&this.tileCache.get(o)},t}(rI),fI=uI,cI=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),hI=function(n){cI(t,n);function t(e){var r=this,i=e.imageSmoothing!==void 0?e.imageSmoothing:!0;return e.interpolate!==void 0&&(i=e.interpolate),r=n.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:pI,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:i,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this,r.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,r.tileClass=e.tileClass!==void 0?e.tileClass:$S,r.tileCacheForProjection={},r.tileGridForProjection={},r.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,r.renderReprojectionEdges_=!1,r}return t.prototype.canExpireCache=function(){if(!En)return n.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},t.prototype.expireCache=function(e,r){if(!En){n.prototype.expireCache.call(this,e,r);return}var i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?r:{});for(var o in this.tileCacheForProjection){var a=this.tileCacheForProjection[o];a.expireCache(a==i?r:{})}},t.prototype.getGutterForProjection=function(e){return En&&this.getProjection()&&e&&!bi(this.getProjection(),e)?0:this.getGutter()},t.prototype.getGutter=function(){return 0},t.prototype.getKey=function(){var e=n.prototype.getKey.call(this);return this.getInterpolate()||(e+=":disable-interpolation"),e},t.prototype.getOpaque=function(e){return En&&this.getProjection()&&e&&!bi(this.getProjection(),e)?!1:n.prototype.getOpaque.call(this,e)},t.prototype.getTileGridForProjection=function(e){if(!En)return n.prototype.getTileGridForProjection.call(this,e);var r=this.getProjection();if(this.tileGrid&&(!r||bi(r,e)))return this.tileGrid;var i=ft(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=P_(e)),this.tileGridForProjection[i]},t.prototype.getTileCacheForProjection=function(e){if(!En)return n.prototype.getTileCacheForProjection.call(this,e);var r=this.getProjection();if(!r||bi(r,e))return this.tileCache;var i=ft(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new T_(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]},t.prototype.createTile_=function(e,r,i,o,a,s){var l=[e,r,i],u=this.getTileCoordForTileUrlFunction(l,a),f=u?this.tileUrlFunction(u,o,a):void 0,h=new this.tileClass(l,f!==void 0?q.IDLE:q.EMPTY,f!==void 0?f:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=s,h.addEventListener(tt.CHANGE,this.handleTileChange.bind(this)),h},t.prototype.getTile=function(e,r,i,o,a){var s=this.getProjection();if(!En||!s||!a||bi(s,a))return this.getTileInternal(e,r,i,o,s||a);var l=this.getTileCacheForProjection(a),u=[e,r,i],f=void 0,h=x_(u);l.containsKey(h)&&(f=l.get(h));var c=this.getKey();if(f&&f.key==c)return f;var v=this.getTileGridForProjection(s),g=this.getTileGridForProjection(a),T=this.getTileCoordForTileUrlFunction(u,a),_=new HC(s,v,a,g,u,T,this.getTilePixelRatio(o),this.getGutter(),function(y,m,x,E){return this.getTileInternal(y,m,x,E,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());return _.key=c,f?(_.interimTile=f,_.refreshInterimChain(),l.replace(h,_)):l.set(h,_),_},t.prototype.getTileInternal=function(e,r,i,o,a){var s=null,l=Rl(e,r,i),u=this.getKey();if(!this.tileCache.containsKey(l))s=this.createTile_(e,r,i,o,a,u),this.tileCache.set(l,s);else if(s=this.tileCache.get(l),s.key!=u){var f=s;s=this.createTile_(e,r,i,o,a,u),f.getState()==q.IDLE?s.interimTile=f.interimTile:s.interimTile=f,s.refreshInterimChain(),this.tileCache.replace(l,s)}return s},t.prototype.setRenderReprojectionEdges=function(e){if(!(!En||this.renderReprojectionEdges_==e)){this.renderReprojectionEdges_=e;for(var r in this.tileCacheForProjection)this.tileCacheForProjection[r].clear();this.changed()}},t.prototype.setTileGridForProjection=function(e,r){if(En){var i=Ue(e);if(i){var o=ft(i);o in this.tileGridForProjection||(this.tileGridForProjection[o]=r)}}},t}(fI);function pI(n,t){n.getImage().src=t}var dI=hI,vI=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),gI=function(n){vI(t,n);function t(e){var r=this,i=e||{},o=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(o=i.interpolate);var a=i.projection!==void 0?i.projection:"EPSG:3857",s=i.tileGrid!==void 0?i.tileGrid:QC({extent:ah(a),maxResolution:i.maxResolution,maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});return r=n.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,interpolate:o,opaque:i.opaque,projection:a,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:s,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:i.wrapX!==void 0?i.wrapX:!0,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible,zDirection:i.zDirection})||this,r}return t}(dI),yI=gI,_I=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),mI='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',EI=function(n){_I(t,n);function t(e){var r=this,i=e||{},o=i.imageSmoothing!==void 0?i.imageSmoothing:!0;i.interpolate!==void 0&&(o=i.interpolate);var a;i.attributions!==void 0?a=i.attributions:a=[mI];var s=i.crossOrigin!==void 0?i.crossOrigin:"anonymous",l=i.url!==void 0?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return r=n.call(this,{attributions:a,attributionsCollapsible:!1,cacheSize:i.cacheSize,crossOrigin:s,interpolate:o,maxZoom:i.maxZoom!==void 0?i.maxZoom:19,opaque:i.opaque!==void 0?i.opaque:!0,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,transition:i.transition,url:l,wrapX:i.wrapX,zDirection:i.zDirection})||this,r}return t}(yI),kI=EI,Al={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},wI=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),xI=function(n){wI(t,n);function t(e){var r=this,i=e||{},o=zt({},i);return delete o.preload,delete o.useInterimTilesOnError,r=n.call(this,o)||this,r.on,r.once,r.un,r.setPreload(i.preload!==void 0?i.preload:0),r.setUseInterimTilesOnError(i.useInterimTilesOnError!==void 0?i.useInterimTilesOnError:!0),r}return t.prototype.getPreload=function(){return this.get(Al.PRELOAD)},t.prototype.setPreload=function(e){this.set(Al.PRELOAD,e)},t.prototype.getUseInterimTilesOnError=function(){return this.get(Al.USE_INTERIM_TILES_ON_ERROR)},t.prototype.setUseInterimTilesOnError=function(e){this.set(Al.USE_INTERIM_TILES_ON_ERROR,e)},t}(yl),TI=xI,SI=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),M_=function(n){SI(t,n);function t(e){var r=n.call(this,e)||this;return r.extentChanged=!0,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.newTiles_=!1,r.tmpExtent=Fe(),r.tmpTileRange_=new O_(0,0,0,0),r}return t.prototype.isDrawableTile=function(e){var r=this.getLayer(),i=e.getState(),o=r.getUseInterimTilesOnError();return i==q.LOADED||i==q.EMPTY||i==q.ERROR&&!o},t.prototype.getTile=function(e,r,i,o){var a=o.pixelRatio,s=o.viewState.projection,l=this.getLayer(),u=l.getSource(),f=u.getTile(e,r,i,a,s);return f.getState()==q.ERROR&&(l.getUseInterimTilesOnError()?l.getPreload()>0&&(this.newTiles_=!0):f.setState(q.LOADED)),this.isDrawableTile(f)||(f=f.getInterimTile()),f},t.prototype.loadedTileCallback=function(e,r,i){return this.isDrawableTile(i)?n.prototype.loadedTileCallback.call(this,e,r,i):!1},t.prototype.prepareFrame=function(e){return!!this.getLayer().getSource()},t.prototype.renderFrame=function(e,r){var i=e.layerStatesArray[e.layerIndex],o=e.viewState,a=o.projection,s=o.resolution,l=o.center,u=o.rotation,f=e.pixelRatio,h=this.getLayer(),c=h.getSource(),v=c.getRevision(),g=c.getTileGridForProjection(a),T=g.getZForResolution(s,c.zDirection),_=g.getResolution(T),y=e.extent,m=i.extent&&Rr(i.extent);m&&(y=ha(y,Rr(i.extent)));var x=c.getTilePixelRatio(f),E=Math.round(e.size[0]*x),C=Math.round(e.size[1]*x);if(u){var I=Math.round(Math.sqrt(E*E+C*C));E=I,C=I}var A=_*E/2/x,L=_*C/2/x,P=[l[0]-A,l[1]-L,l[0]+A,l[1]+L],U=g.getTileRangeForExtentAndZ(y,T),$={};$[T]={};var B=this.createLoadedTileFinder(c,a,$),b=this.tmpExtent,K=this.tmpTileRange_;this.newTiles_=!1;for(var V=U.minX;V<=U.maxX;++V)for(var Y=U.minY;Y<=U.maxY;++Y){var k=this.getTile(T,V,Y,e);if(this.isDrawableTile(k)){var J=ft(this);if(k.getState()==q.LOADED){$[T][k.tileCoord.toString()]=k;var j=k.inTransition(J);!this.newTiles_&&(j||this.renderedTiles.indexOf(k)===-1)&&(this.newTiles_=!0)}if(k.getAlpha(J,e.time)===1)continue}var G=g.getTileCoordChildTileRange(k.tileCoord,K,b),N=!1;G&&(N=B(T+1,G)),N||g.forEachTileCoordParentTileRange(k.tileCoord,B,K,b)}var R=_/s;gn(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/x,1/x,u,-E/2,-C/2);var X=hy(this.pixelTransform);this.useContainer(r,X,i.opacity,this.getBackground(e));var W=this.context,rt=W.canvas;Ic(this.inversePixelTransform,this.pixelTransform),gn(this.tempTransform,E/2,C/2,R,R,0,-E/2,-C/2),rt.width!=E||rt.height!=C?(rt.width=E,rt.height=C):this.containerReused||W.clearRect(0,0,E,C),m&&this.clipUnrotated(W,e,m),c.getInterpolate()||zt(W,nh),this.preRender(W,e),this.renderedTiles.length=0;var xt=Object.keys($).map(Number);xt.sort(Ai);var gt,St,Ot;i.opacity===1&&(!this.containerReused||c.getOpaque(e.viewState.projection))?xt=xt.reverse():(gt=[],St=[]);for(var nn=xt.length-1;nn>=0;--nn){var Kt=xt[nn],Jt=c.getTilePixelSize(Kt,f,a),wn=g.getResolution(Kt),je=wn/_,w=Jt[0]*je*R,p=Jt[1]*je*R,d=g.getTileCoordForCoordAndZ(Cr(P),Kt),S=g.getTileCoordExtent(d),O=Dt(this.tempTransform,[x*(S[0]-P[0])/_,x*(P[3]-S[3])/_]),M=x*c.getGutterForProjection(a),D=$[Kt];for(var et in D){var k=D[et],it=k.tileCoord,ut=d[1]-it[1],Lt=Math.round(O[0]-(ut-1)*w),pt=d[2]-it[2],be=Math.round(O[1]-(pt-1)*p),V=Math.round(O[0]-ut*w),Y=Math.round(O[1]-pt*p),Ce=Lt-V,pe=be-Y,Qn=T===Kt,j=Qn&&k.getAlpha(ft(this),e.time)!==1;if(!j)if(gt){W.save(),Ot=[V,Y,V+Ce,Y,V+Ce,Y+pe,V,Y+pe];for(var Ur=0,Ie=gt.length;Ur<Ie;++Ur)if(T!==Kt&&Kt<St[Ur]){var Re=gt[Ur];W.beginPath(),W.moveTo(Ot[0],Ot[1]),W.lineTo(Ot[2],Ot[3]),W.lineTo(Ot[4],Ot[5]),W.lineTo(Ot[6],Ot[7]),W.moveTo(Re[6],Re[7]),W.lineTo(Re[4],Re[5]),W.lineTo(Re[2],Re[3]),W.lineTo(Re[0],Re[1]),W.clip()}gt.push(Ot),St.push(Kt)}else W.clearRect(V,Y,Ce,pe);this.drawTileImage(k,e,V,Y,Ce,pe,M,Qn),gt&&!j?(W.restore(),this.renderedTiles.unshift(k)):this.renderedTiles.push(k),this.updateUsedTiles(e.usedTiles,c,k)}}this.renderedRevision=v,this.renderedResolution=_,this.extentChanged=!this.renderedExtent_||!fa(this.renderedExtent_,P),this.renderedExtent_=P,this.renderedPixelRatio=f,this.renderedProjection=a,this.manageTilePyramid(e,c,g,f,a,y,T,h.getPreload()),this.scheduleExpireCache(e,c),this.postRender(W,e),i.extent&&W.restore(),X!==rt.style.transform&&(rt.style.transform=X);var tr=Kg(i.opacity),Br=this.container;return tr!==Br.style.opacity&&(Br.style.opacity=tr),this.container},t.prototype.drawTileImage=function(e,r,i,o,a,s,l,u){var f=this.getTileImage(e);if(!!f){var h=ft(this),c=u?e.getAlpha(h,r.time):1,v=c!==this.context.globalAlpha;v&&(this.context.save(),this.context.globalAlpha=c),this.context.drawImage(f,l,l,f.width-2*l,f.height-2*l,i,o,a,s),v&&this.context.restore(),c!==1?r.animate=!0:u&&e.endTransition(h)}},t.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},t.prototype.getTileImage=function(e){return e.getImage()},t.prototype.scheduleExpireCache=function(e,r){if(r.canExpireCache()){var i=function(o,a,s){var l=ft(o);l in s.usedTiles&&o.expireCache(s.viewState.projection,s.usedTiles[l])}.bind(null,r);e.postRenderFunctions.push(i)}},t.prototype.updateUsedTiles=function(e,r,i){var o=ft(r);o in e||(e[o]={}),e[o][i.getKey()]=!0},t.prototype.manageTilePyramid=function(e,r,i,o,a,s,l,u,f){var h=ft(r);h in e.wantedTiles||(e.wantedTiles[h]={});var c=e.wantedTiles[h],v=e.tileQueue,g=i.getMinZoom(),T=0,_,y,m,x,E,C;for(C=g;C<=l;++C)for(y=i.getTileRangeForExtentAndZ(s,C,y),m=i.getResolution(C),x=y.minX;x<=y.maxX;++x)for(E=y.minY;E<=y.maxY;++E)l-C<=u?(++T,_=r.getTile(C,x,E,o,a),_.getState()==q.IDLE&&(c[_.getKey()]=!0,v.isKeyQueued(_.getKey())||v.enqueue([_,h,i.getTileCoordCenter(_.tileCoord),m])),f!==void 0&&f(_)):r.useTile(C,x,E,a);r.updateCacheSize(T,a)},t}(Zy);M_.prototype.getLayer;var OI=M_,CI=globalThis&&globalThis.__extends||function(){var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),II=function(n){CI(t,n);function t(e){return n.call(this,e)||this}return t.prototype.createRenderer=function(){return new OI(this)},t}(TI),UI=II;export{wr as A,fe as C,Uw as F,FI as M,kI as O,aT as P,AI as R,LI as S,UI as T,Fr as V,Fw as a,ix as b,NI as c,MI as d,DI as e,PI as f,G1 as j,Ia as r,Fx as t};
